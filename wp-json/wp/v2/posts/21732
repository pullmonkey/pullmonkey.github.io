{"id":21732,"date":"2008-02-28T17:00:00","date_gmt":"2008-02-28T17:00:00","guid":{"rendered":"\/2008\/07\/30\/changes-fixes-to-the-simple-cms-plugin"},"modified":"2009-08-30T04:47:19","modified_gmt":"2009-08-30T04:47:19","slug":"changes-fixes-to-the-simple-cms-plugin","status":"publish","type":"post","link":"http:\/\/pullmonkey.com\/2008\/02\/28\/changes-fixes-to-the-simple-cms-plugin\/","title":{"rendered":"Changes\/Fixes to the Simple CMS Plugin"},"content":{"rendered":"<p>You can also <a href=\"http:\/\/pullmonkey.com\/2007\/12\/23\/simple-cms-plugin-for-ruby-on-rails\">view the tutorial<\/a>. Or you can <a href=\"http:\/\/pullmonkey.com\/projects\/simple_cms\">check out the demo.<\/a><\/p>\n<p>We are continuously adding to and changing the Simple CMS Plugin so here is a little rundown of what has been changed so far:<\/p>\n<h3>Major Changes:<\/h3>\n<ul>\n<li>I have updated to rails 2.0.2 so if you are using an older version you will need to change a line in each of the controllers.<\/li>\n<table class=\"CodeRay\">\n<tr>\n<td class=\"line_numbers\" title=\"click to toggle\" onclick=\"with (this.firstChild.style) { display = (display == '') ? 'none' : '' }\">\n<pre>1<tt>\n<\/tt>2<tt>\n<\/tt>3<tt>\n<\/tt>4<tt>\n<\/tt><strong>5<\/strong><tt>\n<\/tt>6<tt>\n<\/tt><\/pre>\n<\/td>\n<td class=\"code\">\n<pre ondblclick=\"with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }\"><tt>\n<\/tt><span class=\"c\"># Where it has:<\/span><tt>\n<\/tt>  <span class=\"pc\">self<\/span>.view_paths &lt;&lt; <span class=\"co\">File<\/span>.join(<span class=\"co\">File<\/span>.dirname(<span class=\"pc\">__FILE__<\/span>), <span class=\"s\"><span class=\"dl\">'<\/span><span class=\"k\">..<\/span><span class=\"dl\">'<\/span><\/span>, <span class=\"s\"><span class=\"dl\">'<\/span><span class=\"k\">views<\/span><span class=\"dl\">'<\/span><\/span>)<tt>\n<\/tt><span class=\"c\"># Must be Changed to:<\/span><tt>\n<\/tt>  <span class=\"pc\">self<\/span>.template_root = <span class=\"co\">File<\/span>.join(<span class=\"co\">File<\/span>.dirname(<span class=\"pc\">__FILE__<\/span>), <span class=\"s\"><span class=\"dl\">'<\/span><span class=\"k\">..<\/span><span class=\"dl\">'<\/span><\/span>, <span class=\"s\"><span class=\"dl\">'<\/span><span class=\"k\">views<\/span><span class=\"dl\">'<\/span><\/span>)<tt>\n<\/tt><tt>\n<\/tt><\/pre>\n<\/td>\n<\/tr>\n<\/table>\n<li>The <i>acts_as_versioned<\/i> plugin is now required for the revisions. I added this quite some time ago. I did change the rake task to install this plugin as well as the rest.<\/li>\n<li>You now have to pass a <i>:prefix<\/i> if you have one. This is to ensure that all content such as images, media, smiles, etc. work correctly. If your base path is a standard path then you do not need to worry about this.<br \/>\n          For example: I was running 3 rails applications under one domain so it looked like this:<\/p>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" hspace=\"0\">\n<tr>\n<td>my.domain.com<\/td>\n<td>\/blog<\/td>\n<\/tr>\n<tr>\n<td> <\/td>\n<td>\/forum<\/td>\n<\/tr>\n<tr>\n<td> <\/td>\n<td>\/demo<\/td>\n<\/tr>\n<\/table>\n<p>     So I would call my Simple CMS content like this for blog:<\/li>\n<table class=\"CodeRay\">\n<tr>\n<td class=\"line_numbers\" title=\"click to toggle\" onclick=\"with (this.firstChild.style) { display = (display == '') ? 'none' : '' }\">\n<pre>1<tt>\n<\/tt>2<tt>\n<\/tt>3<tt>\n<\/tt><\/pre>\n<\/td>\n<td class=\"code\">\n<pre ondblclick=\"with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }\"><tt>\n<\/tt><span class=\"il\"><span class=\"dl\">&lt;%=<\/span> render <span class=\"sy\">:simpleCMS<\/span> =&gt; <span class=\"s\"><span class=\"dl\">&quot;<\/span><span class=\"k\">MyBlog<\/span><span class=\"dl\">&quot;<\/span><\/span>, <span class=\"sy\">:admin<\/span> =&gt; <span class=\"pc\">true<\/span>, <span class=\"sy\">:prefix<\/span> =&gt; <span class=\"s\"><span class=\"dl\">&quot;<\/span><span class=\"k\">\/blog<\/span><span class=\"dl\">&quot;<\/span><\/span> <span class=\"dl\">%&gt;<\/span><\/span><tt>\n<\/tt><tt>\n<\/tt><\/pre>\n<\/td>\n<\/tr>\n<\/table>\n<li>Now you can make content viewable and editable from multiple pages by passing <i>:reusable => true<\/i>. This defaults to false. Your label must be the same in each place you use it. This is very useful for layouts, such as header and footer. <br \/>\n*NOTE* If you already have content here and you change this variable you will lose all that content as it gives the content a new id and changes the params and how the content is called. For example if I have <i>:reusable<\/i> set to false and I have content there and I set <i>:reusable<\/i> to true then it creates content with a different id so I will not be able to use the old content until I change it back to false.<\/li>\n<\/ul>\n<h3>Minor Changes:<\/h3>\n<ul>\n<li>When you click on a revision you are taken back up to the top of the page instead of having to scroll all the way down a list of 100 revisions, clicking on one, and then manually scrolling all the way back up to the top to see if you even picked the right revision<\/li>\n<li>I have added code highlighting and this requires the coderay plugin, which has been added to the rake simple_cms:install_dependencies, and a coderay stylesheet so you need to add that to your application layout. I have included it in the rake simple_cms:install<\/li>\n<table class=\"CodeRay\">\n<tr>\n<td class=\"line_numbers\" title=\"click to toggle\" onclick=\"with (this.firstChild.style) { display = (display == '') ? 'none' : '' }\">\n<pre>1<tt>\n<\/tt>2<tt>\n<\/tt>3<tt>\n<\/tt><\/pre>\n<\/td>\n<td class=\"code\">\n<pre ondblclick=\"with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }\"><tt>\n<\/tt><span class=\"il\"><span class=\"dl\">&lt;%=<\/span> stylesheet_link_tag <span class=\"s\"><span class=\"dl\">&quot;<\/span><span class=\"k\">coderay<\/span><span class=\"dl\">&quot;<\/span><\/span> <span class=\"dl\">%&gt;<\/span><\/span><tt>\n<\/tt><tt>\n<\/tt><\/pre>\n<\/td>\n<\/tr>\n<\/table>\n<li>I have also changed many things in the javascripts inside the tiny_mce editor so it would be safest just to use the rake tasks that are built in:<\/li>\n<table class=\"CodeRay\">\n<tr>\n<td class=\"line_numbers\" title=\"click to toggle\" onclick=\"with (this.firstChild.style) { display = (display == '') ? 'none' : '' }\">\n<pre>1<tt>\n<\/tt>2<tt>\n<\/tt>3<tt>\n<\/tt>4<tt>\n<\/tt><\/pre>\n<\/td>\n<td class=\"code\">\n<pre ondblclick=\"with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }\"><tt>\n<\/tt>rake simple_cms:uninstall<tt>\n<\/tt>rake simple_cms:install<tt>\n<\/tt><tt>\n<\/tt><\/pre>\n<\/td>\n<\/tr>\n<\/table>\n<\/ul>\n<p>I have updated the <a href=\"http:\/\/pullmonkey.com\/2007\/12\/23\/simple-cms-plugin-for-ruby-on-rails\">tutorial<\/a> with all the changes as well.<\/p>\n<p>There is also a <a href=\"http:\/\/pullmonkey.com\/projects\/simple_cms\">demo<\/a> that you can use to play around with it and ask questions.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>You can also view the tutorial. Or you can check out the demo. We are continuously adding to and changing the Simple CMS Plugin so here is a little rundown of what has been changed so far: Major Changes: I have updated to rails 2.0.2 so if you are using an older version you will [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[6,3,14,5,9,28],"tags":[60,61,65,210,211,43,214],"_links":{"self":[{"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/posts\/21732"}],"collection":[{"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/comments?post=21732"}],"version-history":[{"count":1,"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/posts\/21732\/revisions"}],"predecessor-version":[{"id":57367,"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/posts\/21732\/revisions\/57367"}],"wp:attachment":[{"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/media?parent=21732"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/categories?post=21732"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/tags?post=21732"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}