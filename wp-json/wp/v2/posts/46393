{"id":46393,"date":"2008-08-05T20:02:00","date_gmt":"2008-08-05T20:02:00","guid":{"rendered":"\/2008\/08\/05\/open-flash-chart-ii-x-axis-label-rotations"},"modified":"2009-08-30T04:38:06","modified_gmt":"2009-08-30T04:38:06","slug":"open-flash-chart-ii-x-axis-label-rotations","status":"publish","type":"post","link":"http:\/\/pullmonkey.com\/2008\/08\/05\/open-flash-chart-ii-x-axis-label-rotations\/","title":{"rendered":"Open Flash Chart II &#8211; X Axis Label rotations"},"content":{"rendered":"<p>Got another <a href=\"http:\/\/pullmonkey.com\/2008\/8\/1\/open-flash-chart-ii-line-graph#comment-46391\">comment asking about diagonal x axis labels<\/a>.  This example is based on <a href=\"http:\/\/teethgrinder.co.uk\/open-flash-chart-2\/data-lines-2.php\">teethgrinder's line graph example<\/a> and the new portions are based on <a href=\"http:\/\/teethgrinder.co.uk\/open-flash-chart-2\/x-axis-labels-3.php\">teethgrinder's x-axis rotation example<\/a>.  <\/p>\n<p>Here is the graph we are after in this example:<\/p>\n<p><script type=\"text\/javascript\" src=\"\/projects\/javascripts\/swfobject.js\"><\/script><\/p>\n<div id=\"flash_content_1217006545.44033112_line_x_axis_stuff\"><\/div>\n<p>    <script type=\"text\/javascript\">\n      swfobject.embedSWF(\"\/projects\/open-flash-chart.swf\", \"flash_content_1217006545.44033112_line_x_axis_stuff\", \"600\", \"300\", \"9.0.0\", \"expressInstall.swf\",{\"data-file\":\"%2Fprojects%2Fopen_flash_chart2%2Flines_and_x_axis_rotation\"});\n    <\/script><br \/>\n    <noscript><br \/>\n      <object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" codebase=\"http:\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=8,0,0,0\" width=\"600\" height=\"300\" id=\"chart_1217006545.44033112_line_x_axis_stuff\" align=\"middle\"><param name=\"allowScriptAccess\" value=\"sameDomain\" \/><param name=\"movie\" value=\"\/projects\/open-flash-chart.swf?data=%2Fprojects%2Fopen_flash_chart2%2Flines_and_x_axis_rotation\" \/><param name=\"quality\" value=\"high\" \/><param name=\"bgcolor\" value=\"#FFFFFF\" \/><embed src=\"\/projects\/open-flash-chart.swf?data=%2Fprojects%2Fopen_flash_chart2%2Flines_and_x_axis_rotation\" quality=\"high\" bgcolor=\"#FFFFFF\" width=\"600\" height=\"300\" name=\"chart_1217006545.44033112_line\" align=\"middle\"  allowScriptAccess=\"sameDomain\" type=\"application\/x-shockwave-flash\" pluginspage=\"http:\/\/www.macromedia.com\/go\/getflashplayer\" id=\"chart_1217006545.44033112_line_x_axis_stuff\" \/><\/object><br \/>\n    <\/noscript><\/p>\n<p><a href=\"http:\/\/pullmonkey.com\/projects\/open_flash_chart2\">More Open Flash Chart II examples.<\/a><\/p>\n<p>And here is the code (the controller):<\/p>\n<table class=\"CodeRay\">\n<tr>\n<td class=\"line_numbers\" title=\"click to toggle\" onclick=\"with (this.firstChild.style) { display = (display == '') ? 'none' : '' }\">\n<pre>1<tt>\n<\/tt>2<tt>\n<\/tt>3<tt>\n<\/tt>4<tt>\n<\/tt><strong>5<\/strong><tt>\n<\/tt>6<tt>\n<\/tt>7<tt>\n<\/tt>8<tt>\n<\/tt>9<tt>\n<\/tt><strong>10<\/strong><tt>\n<\/tt>11<tt>\n<\/tt>12<tt>\n<\/tt>13<tt>\n<\/tt>14<tt>\n<\/tt><strong>15<\/strong><tt>\n<\/tt>16<tt>\n<\/tt>17<tt>\n<\/tt>18<tt>\n<\/tt>19<tt>\n<\/tt><strong>20<\/strong><tt>\n<\/tt>21<tt>\n<\/tt>22<tt>\n<\/tt>23<tt>\n<\/tt>24<tt>\n<\/tt><strong>25<\/strong><tt>\n<\/tt>26<tt>\n<\/tt>27<tt>\n<\/tt>28<tt>\n<\/tt>29<tt>\n<\/tt><strong>30<\/strong><tt>\n<\/tt>31<tt>\n<\/tt>32<tt>\n<\/tt>33<tt>\n<\/tt>34<tt>\n<\/tt><strong>35<\/strong><tt>\n<\/tt>36<tt>\n<\/tt>37<tt>\n<\/tt>38<tt>\n<\/tt>39<tt>\n<\/tt><strong>40<\/strong><tt>\n<\/tt>41<tt>\n<\/tt>42<tt>\n<\/tt>43<tt>\n<\/tt>44<tt>\n<\/tt><strong>45<\/strong><tt>\n<\/tt>46<tt>\n<\/tt>47<tt>\n<\/tt>48<tt>\n<\/tt>49<tt>\n<\/tt><strong>50<\/strong><tt>\n<\/tt>51<tt>\n<\/tt>52<tt>\n<\/tt>53<tt>\n<\/tt>54<tt>\n<\/tt><strong>55<\/strong><tt>\n<\/tt>56<tt>\n<\/tt>57<tt>\n<\/tt>58<tt>\n<\/tt>59<tt>\n<\/tt><strong>60<\/strong><tt>\n<\/tt>61<tt>\n<\/tt>62<tt>\n<\/tt>63<tt>\n<\/tt>64<tt>\n<\/tt><strong>65<\/strong><tt>\n<\/tt>66<tt>\n<\/tt>67<tt>\n<\/tt>68<tt>\n<\/tt>69<tt>\n<\/tt><strong>70<\/strong><tt>\n<\/tt>71<tt>\n<\/tt>72<tt>\n<\/tt>73<tt>\n<\/tt>74<tt>\n<\/tt><strong>75<\/strong><tt>\n<\/tt>76<tt>\n<\/tt>77<tt>\n<\/tt>78<tt>\n<\/tt><\/pre>\n<\/td>\n<td class=\"code\">\n<pre ondblclick=\"with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }\"><tt>\n<\/tt><span class=\"r\">class<\/span> <span class=\"cl\">TestItController<\/span> &lt; <span class=\"co\">ApplicationController<\/span><tt>\n<\/tt>  <span class=\"r\">def<\/span> <span class=\"fu\">index<\/span><tt>\n<\/tt>    <span class=\"iv\">@graph<\/span> = open_flash_chart_object(<span class=\"i\">600<\/span>,<span class=\"i\">300<\/span>,<span class=\"s\"><span class=\"dl\">&quot;<\/span><span class=\"k\">\/test_it\/graph_code<\/span><span class=\"dl\">&quot;<\/span><\/span>)<tt>\n<\/tt>  <span class=\"r\">end<\/span><tt>\n<\/tt><tt>\n<\/tt>  <span class=\"r\">def<\/span> <span class=\"fu\">graph_code<\/span><tt>\n<\/tt>    <span class=\"c\"># based on this example - http:\/\/teethgrinder.co.uk\/open-flash-chart-2\/data-lines-2.php<\/span><tt>\n<\/tt>    <span class=\"c\"># and parts from this example - http:\/\/teethgrinder.co.uk\/open-flash-chart-2\/x-axis-labels-3.php<\/span><tt>\n<\/tt>    title = <span class=\"co\">Title<\/span>.new(<span class=\"s\"><span class=\"dl\">&quot;<\/span><span class=\"k\">Multiple Lines<\/span><span class=\"dl\">&quot;<\/span><\/span>)<tt>\n<\/tt><tt>\n<\/tt>    data1 = []<tt>\n<\/tt>    data2 = []<tt>\n<\/tt>    data3 = []<tt>\n<\/tt><tt>\n<\/tt>    <span class=\"i\">10<\/span>.times <span class=\"r\">do<\/span> |x|<tt>\n<\/tt>    data1 &lt;&lt; rand(<span class=\"i\">5<\/span>) + <span class=\"i\">1<\/span><tt>\n<\/tt>    data2 &lt;&lt; rand(<span class=\"i\">6<\/span>) + <span class=\"i\">7<\/span><tt>\n<\/tt>    data3 &lt;&lt; rand(<span class=\"i\">5<\/span>) + <span class=\"i\">14<\/span><tt>\n<\/tt>    <span class=\"r\">end<\/span><tt>\n<\/tt><tt>\n<\/tt>    line_dot = <span class=\"co\">LineDot<\/span>.new<tt>\n<\/tt>    line_dot.width = <span class=\"i\">4<\/span><tt>\n<\/tt>    line_dot.colour = <span class=\"s\"><span class=\"dl\">'<\/span><span class=\"k\">#DFC329<\/span><span class=\"dl\">'<\/span><\/span><tt>\n<\/tt>    line_dot.dot_size = <span class=\"i\">5<\/span><tt>\n<\/tt>    line_dot.values = data1<tt>\n<\/tt><tt>\n<\/tt>    line_hollow = <span class=\"co\">LineHollow<\/span>.new<tt>\n<\/tt>    line_hollow.width = <span class=\"i\">1<\/span><tt>\n<\/tt>    line_hollow.colour = <span class=\"s\"><span class=\"dl\">'<\/span><span class=\"k\">#6363AC<\/span><span class=\"dl\">'<\/span><\/span><tt>\n<\/tt>    line_hollow.dot_size = <span class=\"i\">5<\/span><tt>\n<\/tt>    line_hollow.values = data2<tt>\n<\/tt><tt>\n<\/tt>    line = <span class=\"co\">Line<\/span>.new<tt>\n<\/tt>    line.width = <span class=\"i\">1<\/span><tt>\n<\/tt>    line.colour = <span class=\"s\"><span class=\"dl\">'<\/span><span class=\"k\">#5E4725<\/span><span class=\"dl\">'<\/span><\/span><tt>\n<\/tt>    line.dot_size = <span class=\"i\">5<\/span><tt>\n<\/tt>    line.values = data3<tt>\n<\/tt><tt>\n<\/tt>    <span class=\"c\"># Added these lines since the previous tutorial<\/span><tt>\n<\/tt>    tmp = []<tt>\n<\/tt>    x_labels = <span class=\"co\">XAxisLabels<\/span>.new<tt>\n<\/tt>    x_labels.set_vertical()<tt>\n<\/tt><tt>\n<\/tt>    <span class=\"s\"><span class=\"dl\">%w(<\/span><span class=\"k\">one two three four five six seven eight nine ten<\/span><span class=\"dl\">)<\/span><\/span>.each <span class=\"r\">do<\/span> |text|<tt>\n<\/tt>      tmp &lt;&lt; <span class=\"co\">XAxisLabel<\/span>.new(text, <span class=\"s\"><span class=\"dl\">'<\/span><span class=\"k\">#0000ff<\/span><span class=\"dl\">'<\/span><\/span>, <span class=\"i\">20<\/span>, <span class=\"s\"><span class=\"dl\">'<\/span><span class=\"k\">diagonal<\/span><span class=\"dl\">'<\/span><\/span>)<tt>\n<\/tt>    <span class=\"r\">end<\/span><tt>\n<\/tt><tt>\n<\/tt>    x_labels.labels = tmp<tt>\n<\/tt><tt>\n<\/tt>    x = <span class=\"co\">XAxis<\/span>.new<tt>\n<\/tt>    x.set_labels(x_labels)<tt>\n<\/tt>    <span class=\"c\"># new up to here ...<\/span><tt>\n<\/tt><tt>\n<\/tt>    y = <span class=\"co\">YAxis<\/span>.new<tt>\n<\/tt>    y.set_range(<span class=\"i\">0<\/span>,<span class=\"i\">20<\/span>,<span class=\"i\">5<\/span>)<tt>\n<\/tt><tt>\n<\/tt>    x_legend = <span class=\"co\">XLegend<\/span>.new(<span class=\"s\"><span class=\"dl\">&quot;<\/span><span class=\"k\">MY X Legend<\/span><span class=\"dl\">&quot;<\/span><\/span>)<tt>\n<\/tt>    x_legend.set_style(<span class=\"s\"><span class=\"dl\">'<\/span><span class=\"k\">{font-size: 20px; color: #778877}<\/span><span class=\"dl\">'<\/span><\/span>)<tt>\n<\/tt><tt>\n<\/tt>    y_legend = <span class=\"co\">YLegend<\/span>.new(<span class=\"s\"><span class=\"dl\">&quot;<\/span><span class=\"k\">MY Y Legend<\/span><span class=\"dl\">&quot;<\/span><\/span>)<tt>\n<\/tt>    y_legend.set_style(<span class=\"s\"><span class=\"dl\">'<\/span><span class=\"k\">{font-size: 20px; color: #770077}<\/span><span class=\"dl\">'<\/span><\/span>)<tt>\n<\/tt><tt>\n<\/tt>    chart =<span class=\"co\">OpenFlashChart<\/span>.new<tt>\n<\/tt>    chart.set_title(title)<tt>\n<\/tt>    chart.set_x_legend(x_legend)<tt>\n<\/tt>    chart.set_y_legend(y_legend)<tt>\n<\/tt>    chart.x_axis = x <span class=\"c\"># Added this line since the previous tutorial<\/span><tt>\n<\/tt>    chart.y_axis = y<tt>\n<\/tt><tt>\n<\/tt>    chart.add_element(line_dot)<tt>\n<\/tt>    chart.add_element(line_hollow)<tt>\n<\/tt>    chart.add_element(line)<tt>\n<\/tt><tt>\n<\/tt>    render <span class=\"sy\">:text<\/span> =&gt; chart.to_s<tt>\n<\/tt>  <span class=\"r\">end<\/span><tt>\n<\/tt><span class=\"r\">end<\/span><tt>\n<\/tt><tt>\n<\/tt><\/pre>\n<\/td>\n<\/tr>\n<\/table>\n<p>\nAnd in your view (index.html.erb):<\/p>\n<table class=\"CodeRay\">\n<tr>\n<td class=\"line_numbers\" title=\"click to toggle\" onclick=\"with (this.firstChild.style) { display = (display == '') ? 'none' : '' }\">\n<pre>1<tt>\n<\/tt>2<tt>\n<\/tt>3<tt>\n<\/tt>4<tt>\n<\/tt><\/pre>\n<\/td>\n<td class=\"code\">\n<pre ondblclick=\"with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }\"><tt>\n<\/tt>&lt;script type=<span class=\"s\"><span class=\"dl\">&quot;<\/span><span class=\"k\">text\/javascript<\/span><span class=\"dl\">&quot;<\/span><\/span> src=<span class=\"s\"><span class=\"dl\">&quot;<\/span><span class=\"k\">\/javascripts\/swfobject.js<\/span><span class=\"dl\">&quot;<\/span><\/span>&gt;&lt;<span class=\"rx\"><span class=\"dl\">\/<\/span><span class=\"k\">script&gt;<tt>\n<\/tt>&lt;%= @graph %&gt;<tt>\n<\/tt><tt>\n<\/tt><\/span><\/span><\/pre>\n<\/td>\n<\/tr>\n<\/table>\n<p>Good Luck!<\/p>\n<p><\/p>\n","protected":false},"excerpt":{"rendered":"<p>Got another comment asking about diagonal x axis labels. This example is based on teethgrinder&#8217;s line graph example and the new portions are based on teethgrinder&#8217;s x-axis rotation example. Here is the graph we are after in this example: More Open Flash Chart II examples. And here is the code (the controller): 1 2 3 [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[6,3,26,14,5,9,30],"tags":[42,41,52,40,210,211,43],"_links":{"self":[{"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/posts\/46393"}],"collection":[{"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/comments?post=46393"}],"version-history":[{"count":2,"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/posts\/46393\/revisions"}],"predecessor-version":[{"id":57346,"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/posts\/46393\/revisions\/57346"}],"wp:attachment":[{"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/media?parent=46393"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/categories?post=46393"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/pullmonkey.com\/wp-json\/wp\/v2\/tags?post=46393"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}