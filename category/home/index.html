<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>PullMonkey Blog   &raquo; Home</title>
<meta name="generator" content="WordPress 5.6" /> <!-- leave this for stats -->
<link rel="stylesheet" href="../../wp-content/themes/simple&#32;paper/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../wp-content/themes/simple&#32;paper/code_highlighter.css" type="text/css" media="screen" />
<link rel="alternate" type="application/rss+xml" title="PullMonkey Blog RSS Feed" href="../../feed/index.html" />
<link rel="pingback" href="http://pullmonkey.com/xmlrpc.php" />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="PullMonkey Blog &raquo; Home Category Feed" href="feed/index.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/pullmonkey.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.6"}};
			!function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='../../wp-includes/css/dist/block-library/style.min.css?ver=5.6' type='text/css' media='all' />
<link rel="https://api.w.org/" href="../../wp-json/index.html" /><link rel="alternate" type="application/json" href="../../wp-json/wp/v2/categories/3" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://pullmonkey.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.6" />
<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style></head>
<body>

<div id="container">

<div id="menu">

        <ul id="nav">
        <li class="current_page_item"><a href="../../index.html">Home</a></li>
                       	</ul>

</div><!-- Menu -->

<div id="wrapper">

<div id="c1">

<h1 id="logo"><a href="../../index.html">PullMonkey Blog</a></h1>
<h2 id="description"></h2>

<div id="content">


 	   	  		<h2 class="search">Archive for the &#8216;Home&#8217; Category:</h2>
 	        
      <br>


<div class="post" id="post-57559">

<div class="date">05 <span>Jan</span></div>

<h2><a href="../../index.html?p=57559" rel="bookmark" title="Permanent Link to USB drive disconnecting and reconnecting randomly">USB drive disconnecting and reconnecting randomly</a></h2><br clear="all" />

<p>It was very strange, I got a new 2 TB external USB drive for Christmas and I noticed a number of windows (nautilus windows) opening up throughout the night.  So I would wake up to find 20 - 30 windows opened to the media mount directory (/media).  Overtime and watching the logs, I noticed that the new USB drive was disconnecting itself and then reconnecting.  As it would reconnect and mount, the new mount point /media/&lt;some long character string&gt; would pop open in a  nautilus window.  When the drive would eventually disconnect, the opened nautilus window would no longer have access to the data and would display contents from one directory up (/media).  After a couple days I finally found the answer and tried it and it worked as advertised.</p>
<p>For those having the same problem, <a href="http://efreedom.com/Question/3-153381/NTFS-Partition-Keeps-Becoming-Unusable-Ubuntu-Ideas" target="_blank">this</a> is where I found the solution you see below.</p>
<pre>$ <strong>sudo sdparm --clear STANDBY -6 /dev/sdb</strong>
# note that your device could be something else, for example - /dev/sd&lt;something&gt;</pre>
<p>
And if you get an error, something like this:</p>
<pre>change_mode_page: failed fetching page: Power condition</pre>
<p>Then you should be able to use hdparm instead, like this:</p>
<pre>sudo hdparm -S 0 /dev/sdb</pre>

<br />

<div class="meta">
<span class="com"><span>Comments Off<span class="screen-reader-text"> on USB drive disconnecting and reconnecting randomly</span></span></span>
<span class="note">Filed under: <a href="../biking/index.html" rel="category tag">biking</a>, <a href="index.html" rel="category tag">Home</a>, <a href="../linux/index.html" rel="category tag">Linux</a>, <a href="../projects/index.html" rel="category tag">projects</a>, <a href="../tutorials/index.html" rel="category tag">tutorials</a></span>
<span class="tags">Tags: <a href="../../tag/2tb-drive/index.html" rel="tag">2tb drive</a>, <a href="../../tag/2tb-seagate-drive/index.html" rel="tag">2TB seagate drive</a>, <a href="../../tag/disconnecting/index.html" rel="tag">disconnecting</a>, <a href="../../tag/external-drive/index.html" rel="tag">external drive</a>, <a href="../../tag/linux/index.html" rel="tag">Linux</a>, <a href="../../tag/reconnecting/index.html" rel="tag">reconnecting</a>, <a href="../../tag/sdparm/index.html" rel="tag">sdparm</a>, <a href="../../tag/standby/index.html" rel="tag">STANDBY</a>, <a href="../../tag/ubuntu/index.html" rel="tag">ubuntu</a>, <a href="../../tag/usb-drive/index.html" rel="tag">usb drive</a></span><br /></div><!--Meta -->

</div><!-- Post -->

		
<div class="post" id="post-53106">

<div class="date">30 <span>Apr</span></div>

<h2><a href="../../index.html?p=53106" rel="bookmark" title="Permanent Link to Open Flash Chart II &#8211; fully automated">Open Flash Chart II &#8211; fully automated</a></h2><br clear="all" />

<p>Just as an attention grabber - we are going after this example in this article:<br />
<script type="text/javascript" src="../../projects/javascripts/swfobject.js"></script></p>
<div id="flash_content_blog_01"></div>
<p><script type="text/javascript">
  swfobject.embedSWF("/projects/open-flash-chart-ichor.swf", "flash_content_blog_01", "600", "300", "9.0.0", "expressInstall.swf",{"data-file":"/projects/open_flash_chart22/area_hollow"}, {"wmode":"transparent"});
</script></p>
<h2>Keeping up</h2>
<p>Ok, seeing that the <a href="http://teethgrinder.co.uk/open-flash-chart-2/">php versions of open flash chart</a> and open flash chart swf files continually change along with with the API (not saying this is a bad thing), I wanted to come up with an even more abstract solution.   The goal is to not have to worry when the swf file is released with the latest set of graphs or changes its API.  I simply don't want to worry about this method or that method, or this class or that class. </p>
<h2>Feedback</h2>
<p>This article will sort of act as a tutorial for those interested in metaprogramming and as a set of instructions for those looking to experiment with the <a href="http://github.com/pullmonkey/open_flash_chart/tree/test">latest version of the OFC II Rails Plugin that I am currently toying with</a>.  I would like to hear feedback, but just remember that phase 1 of this release will be very basic, meaning none of the ajaxy stuff.  It will come, just not yet.</p>
<h2>Let's see what we can get away with</h2>
<p>I am already using method_missing() for pretty much everything in the <a href="http://github.com/pullmonkey/open_flash_chart/tree/master">OFC II Rails Plugin that is being used now</a>.  But every time new classes are added, I have to sit down and basically convert the php class to ruby - just plain tedious, not really what I had planned when I started all this.  Ok, so method_missing() was great, but let me introduce (or possibly reintroduce) you to const_missing(), basically method_missing() but instead of methods, we can create classes or modules or other objects on the fly.  This will definitely help when the php version gets a new class.  Instead of getting hounded to update the rails version to be 100% like the php version, everything will just work, no updates to code required.  Well, we hope !   So check this out:</p>
<p>Here is what we did with method_missing():</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="r">module</span> <span class="cl">OFC</span><tt>
</tt>  <span class="r">class</span> <span class="cl">Base</span><tt>
</tt>    <span class="r">def</span> <span class="fu">method_missing</span>(method_name, *args, &amp;blk)<tt>
</tt>      <span class="r">case</span> method_name.to_s<tt>
</tt>      <span class="r">when</span> <span class="rx"><span class="dl">/</span><span class="k">(.*)=</span><span class="dl">/</span></span>   <span class="c"># i.e., if it is something x_legend=</span><tt>
</tt>        <span class="c"># if the user wants to set an instance variable then let them</span><tt>
</tt>        <span class="c"># the other args (args[0]) are ignored since it is a set method</span><tt>
</tt>        <span class="pc">self</span>.instance_variable_set(<span class="s"><span class="dl">&quot;</span><span class="k">@</span><span class="il"><span class="dl">#{</span><span class="gv">$1</span><span class="dl">}</span></span><span class="dl">&quot;</span></span>, args[<span class="i">0</span>])<tt>
</tt>      <span class="r">when</span> <span class="rx"><span class="dl">/</span><span class="k">^set_(.*)</span><span class="dl">/</span></span><tt>
</tt>        <span class="c"># backwards compatible ... the user can still use the same set_y_legend methods if they want</span><tt>
</tt>        <span class="pc">self</span>.instance_variable_set(<span class="s"><span class="dl">&quot;</span><span class="k">@</span><span class="il"><span class="dl">#{</span><span class="gv">$1</span><span class="dl">}</span></span><span class="dl">&quot;</span></span>, args[<span class="i">0</span>])<tt>
</tt>      <span class="r">else</span><tt>
</tt>          <span class="r">if</span> inst = <span class="pc">self</span>.instance_variable_get(<span class="s"><span class="dl">&quot;</span><span class="k">@</span><span class="il"><span class="dl">#{</span>method_name<span class="dl">}</span></span><span class="dl">&quot;</span></span>)<tt>
</tt>            inst<tt>
</tt>          <span class="r">else</span><tt>
</tt>            <span class="c"># if the method/attribute is missing and it is not a set method then hmmmm better let the user know</span><tt>
</tt>            <span class="r">super</span><tt>
</tt>          <span class="r">end</span><tt>
</tt>      <span class="r">end</span><tt>
</tt>    <span class="r">end</span><tt>
</tt>  <span class="r">end</span><tt>
</tt><span class="r">end</span><tt>
</tt></pre>
</td>
</tr>
</table>
<p>This just basically allows me to do this:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>  <span class="r">class</span> <span class="cl">Foo</span> &lt; <span class="co">OFC</span>::<span class="co">Base</span><tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  foo = <span class="co">Foo</span>.new<tt>
</tt><tt>
</tt>  foo.some_random_attribute = <span class="s"><span class="dl">&quot;</span><span class="k">Hello</span><span class="dl">&quot;</span></span>  <span class="c">#=&gt; &quot;Hello&quot;</span><tt>
</tt>  foo.some_random_attribute  <span class="c">#=&gt; &quot;Hello&quot;</span><tt>
</tt>  foo.some_random_undefined_attribute  <span class="c">#=&gt; Method Missing error (calls super)</span><tt>
</tt><tt>
</tt>  <span class="c"># too be like php, for easier conversion</span><tt>
</tt>  foo.set_some_random_attribute(<span class="s"><span class="dl">&quot;</span><span class="k">Good Bye</span><span class="dl">&quot;</span></span>)  <span class="c">#=&gt; &quot;Good Bye&quot;</span><tt>
</tt>  foo.some_random_attribute  <span class="c">#=&gt; &quot;Good Bye&quot;</span><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Along the same lines, I have created an initialize method that takes any argument hash of variable/value pairs and calls variable=() which is handled by method missing as we saw above:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>  <span class="r">class</span> <span class="cl">Foo</span> &lt; <span class="co">OFC</span>::<span class="co">Base</span><tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  foo = <span class="co">Foo</span>.new(<span class="sy">:x_axis</span> =&gt; <span class="i">5</span>, <span class="sy">:min</span> =&gt; <span class="i">10</span>, <span class="sy">:max</span> =&gt; <span class="i">90</span>, <span class="sy">:steps</span> =&gt; <span class="i">5</span>, <span class="sy">:elements</span> =&gt; [<span class="s"><span class="dl">&quot;</span><span class="k">one</span><span class="dl">&quot;</span></span>, <span class="s"><span class="dl">&quot;</span><span class="k">two</span><span class="dl">&quot;</span></span>])<tt>
</tt>  <tt>
</tt>  foo.x_axis <span class="c">#=&gt; 5</span><tt>
</tt>  foo.min <span class="c">#=&gt; 10</span><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Ok, so on to const_missing() and what we can do with that:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>  <span class="r">def</span> <span class="co">OFC</span>.const_missing(const)<tt>
</tt>    klass = <span class="co">Class</span>.new <span class="co">OFC</span>::<span class="co">Base</span><tt>
</tt>    <span class="co">Object</span>.const_set const, klass<tt>
</tt>    <span class="r">return</span> klass<tt>
</tt>  <span class="r">end</span><tt>
</tt></pre>
</td>
</tr>
</table>
<p>This says that any undefined (missing) constant of OFC should be defined as a new class that inherits from OFC::Base.</p>
<p>So when we say OFC::Foo, that has not been defined, so we will get back class OFC::Foo < OFC::Base;end; which will give us the initialize() method and method_missing() method from above.  Let's see how this works:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>  line = <span class="co">OFC</span>::<span class="co">Line</span>.new(<span class="sy">:values</span> =&gt; [<span class="i">1</span>,<span class="i">2</span>,<span class="i">3</span>,<span class="pc">nil</span>,<span class="pc">nil</span>,<span class="i">5</span>,<span class="i">6</span>,<span class="i">7</span>])<tt>
</tt>  line.values <span class="c">#=&gt; [1,2,3,nil,nil,5,6,7]</span><tt>
</tt>  line.some_random_variable = <span class="s"><span class="dl">&quot;</span><span class="k">Hello</span><span class="dl">&quot;</span></span> <span class="c">#=&gt; &quot;Hello&quot;</span><tt>
</tt>  line.some_random_variable <span class="c">#=&gt; &quot;Hello&quot;</span><tt>
</tt><tt>
</tt>  stacked_bar_chart = <span class="co">OFC</span>::<span class="co">BarStack</span>.new<tt>
</tt>  stacked_bar_chart.values = []<tt>
</tt>  stacked_bar_chart.values &lt;&lt; [<span class="i">2</span>,<span class="i">3</span>,<span class="i">4</span>]<tt>
</tt>  stacked_bar_chart.values &lt;&lt; [<span class="i">5</span>, {<span class="s"><span class="dl">&quot;</span><span class="k">val</span><span class="dl">&quot;</span></span> =&gt; <span class="i">5</span>, <span class="s"><span class="dl">&quot;</span><span class="k">colour</span><span class="dl">&quot;</span></span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">#ff0000</span><span class="dl">&quot;</span></span>}]<tt>
</tt>  stacked_bar_chart.keys = [{ <span class="s"><span class="dl">&quot;</span><span class="k">colour</span><span class="dl">&quot;</span></span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">#C4D318</span><span class="dl">&quot;</span></span>, <span class="s"><span class="dl">&quot;</span><span class="k">text</span><span class="dl">&quot;</span></span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">Kiting</span><span class="dl">&quot;</span></span>, <span class="s"><span class="dl">&quot;</span><span class="k">font-size</span><span class="dl">&quot;</span></span> =&gt; <span class="i">13</span> } ...]<tt>
</tt></pre>
</td>
</tr>
</table>
<p>So it all sort of came together right there.  I've shown you all the code that comes with the Rails Open Flash Chart plugin now.   No more definining idividual classes, no more trying to keep up with the never ending php version, and no more late nights converting php to ruby (!).  About dang time.</p>
<p>Ok, but this is just the beginning, nothing has been set in stone, so like I said, give me your feedback, what works for you and what does not.  And, hopefully, I will have solutions for you or you for me.</p>
<p></p>
<h2>Example with new version (test version)</h2>
<p>I am using rails 2.3.2, but I don't think it will matter what version you are using.</p>
<h3>Create your new rails project</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="c"># create a new rails project </span><tt>
</tt>&gt; pullmonkey<span class="er">$</span> rails testing_it<tt>
</tt><span class="c">#&lt;Bunch of stuff is created ....&gt;</span><tt>
</tt>&gt; pullmonkey<span class="er">$</span> cd testing_it/<tt>
</tt></pre>
</td>
</tr>
</table>
<h3>Install the plugin from the test branch</h3>
<p>Note the -r test in this next step.  The new version (test version) I am playing with is under the test branch and -r says what branch to pull from.</p>
<p>Also, you can use git:// instead of http:// below, but depending on your firewall restrictions http:// will probably work out best for you.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>&gt; pullmonkey<span class="er">$</span> ./script/plugin install http<span class="sy">:/</span>/github.com/pullmonkey/open_flash_chart.git -r test<tt>
</tt><span class="c"># &lt;Bunch more stuff ...&gt;</span><tt>
</tt></pre>
</td>
</tr>
</table>
<h3>Create a controller to play in</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>&gt; pullmonkey<span class="er">$</span> ./script/generate controller test_it<tt>
</tt><span class="c"># &lt;And more stuff &gt;</span><tt>
</tt></pre>
</td>
</tr>
</table>
<h3>Get our assets</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="c"># first we will get swfobject.js</span><tt>
</tt>&gt; pullmonkey<span class="er">$</span> cp vendor/plugins/open_flash_chart/assets/javascripts/swfobject.js public/javascripts/<tt>
</tt><span class="c"># next the open flash chart swf (GET whatever is the latest version), right now that is here: http://teethgrinder.co.uk/open-flash-chart-2/open-flash-chart.swf</span><tt>
</tt>&gt; pullmonkey<span class="er">$</span> cd public/<tt>
</tt>&gt; pullmonkey<span class="er">$</span> wget http<span class="sy">:/</span>/teethgrinder.co.uk/open-flash-chart<span class="i">-2</span>/open-flash-chart.swf<tt>
</tt>&gt; pullmonkey<span class="er">$</span> cd ..<tt>
</tt></pre>
</td>
</tr>
</table>
<h3>Edit our controller</h3>
<p>Notice here that I just include one of the many examples from the <a href="http://github.com/pullmonkey/open_flash_chart/tree/7ca9f9dbea795431aafdcc3a20dd4b73900f6fba/lib/ofc/examples">plugin's examples directory</a>.  Definitely more to follow.</p>
<p>One thing you will notice about the examples, is that the php code is in the comments, so you can see how I would convert from the php examples to ruby.  Please feel free to add your own examples, just fork the project.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>&gt; pullmonkey<span class="er">$</span> vi app/controllers/test_it_controller.rb<tt>
</tt><span class="c"># mine looks like this:</span><tt>
</tt><span class="r">class</span> <span class="cl">TestItController</span> &lt; <span class="co">ApplicationController</span><tt>
</tt>  include <span class="co">OFC</span>::<span class="co">Examples</span>::<span class="co">AreaHollow</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">index</span><tt>
</tt>    <span class="iv">@graph</span> = open_flash_chart_object(<span class="i">600</span>,<span class="i">300</span>, <span class="s"><span class="dl">&quot;</span><span class="k">/test_it/area_hollow</span><span class="dl">&quot;</span></span>)<tt>
</tt>  <span class="r">end</span><tt>
</tt><span class="r">end</span><tt>
</tt></pre>
</td>
</tr>
</table>
<h3>Edit our view</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>&gt; pullmonkey<span class="er">$</span> vi app/views/test_it/index.html.erb<tt>
</tt><span class="c"># mine looks like this:</span><tt>
</tt>&lt;%= javascript_include_tag <span class="s"><span class="dl">'</span><span class="k">swfobject</span><span class="dl">'</span></span> <span class="s"><span class="dl">%&gt;</span><span class="k"><tt>
</tt>&lt;%= @graph %</span><span class="dl">&gt;</span></span><tt>
</tt></pre>
</td>
</tr>
</table>
<h3>Start 'er up</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>&gt; pullmonkey<span class="er">$</span> ./script/server<tt>
</tt><tt>
</tt><span class="c"># browse to the test_it index</span><tt>
</tt>http<span class="sy">:/</span>/localhost:<span class="i">3000</span>/test_it<tt>
</tt></pre>
</td>
</tr>
</table>
<h2>Our example</h2>
<div id="flash_content_blog_1"></div>
<p><script type="text/javascript">
  swfobject.embedSWF("/projects/open-flash-chart-ichor.swf", "flash_content_blog_1", "600", "300", "9.0.0", "expressInstall.swf",{"data-file":"/projects/open_flash_chart22/area_hollow"}, {"wmode":"transparent"});
</script></p>

<br />

<div class="meta">
<span class="com"><a href="../../index.html?p=53106#comments">8 Responses</a></span>
<span class="note">Filed under: <a href="../development/index.html" rel="category tag">development</a>, <a href="index.html" rel="category tag">Home</a>, <a href="../open-flash-chart-graphs/index.html" rel="category tag">Open Flash Chart Graphs</a>, <a href="../projects/index.html" rel="category tag">projects</a>, <a href="../rails/index.html" rel="category tag">rails</a>, <a href="../ruby/index.html" rel="category tag">ruby</a>, <a href="../tutorials/index.html" rel="category tag">tutorials</a></span>
<span class="tags">Tags: <a href="../../tag/charts/index.html" rel="tag">charts</a>, <a href="../../tag/flash/index.html" rel="tag">flash</a>, <a href="../../tag/graphs/index.html" rel="tag">graphs</a>, <a href="../../tag/open-flash-chart/index.html" rel="tag">open flash chart</a>, <a href="../../tag/rails/index.html" rel="tag">rails</a>, <a href="../../tag/ruby/index.html" rel="tag">ruby</a>, <a href="../../tag/ruby-on-rails/index.html" rel="tag">ruby on rails</a></span><br /></div><!--Meta -->

</div><!-- Post -->

		
<div class="post" id="post-53634">

<div class="date">30 <span>Apr</span></div>

<h2><a href="../../index.html?p=53634" rel="bookmark" title="Permanent Link to Spreadsheet Gem &#8211; data may have been lost">Spreadsheet Gem &#8211; data may have been lost</a></h2><br clear="all" />

<p>I've been using the <a href="http://spreadsheet.rubyforge.org/">spreadsheet gem</a> lately for a couple projects I am working on to modify existing spreadsheets.  I have quite often stumbled upon this error when opening modified spreadsheets in excel:</p>
<h2>File error: data may have been lost</h2>
<p>Like most microsoft errors, it was useless and the spreadsheet came up just fine.  But that error was just so annoying, other spreadsheet applications (open office, excel on mac) opened without any problems.  So after quite a bit of hacking and digging around, I finally tried setting the encoding, which defaults to UTF-8.  Well it just so happens that the spreadsheet being modified was encoded with UTF-16LE.  </p>
<p>So part one of my solution became this:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="co">Spreadsheet</span>.client_encoding = <span class="s"><span class="dl">'</span><span class="k">UTF-16LE</span><span class="dl">'</span></span><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Then doing a little more digging I decided that this would be a better long-term solution:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>book = <span class="co">Spreadsheet</span>.open spreadsheet_file<tt>
</tt><span class="co">Spreadsheet</span>.client_encoding = book.encoding<tt>
</tt></pre>
</td>
</tr>
</table>
<p>Well, hopefully it wasn't just me and someone will be able to save a bit of time with this.</p>

<br />

<div class="meta">
<span class="com"><a href="../../index.html?p=53634#comments">1 Response</a></span>
<span class="note">Filed under: <a href="index.html" rel="category tag">Home</a>, <a href="../rails/index.html" rel="category tag">rails</a>, <a href="../ruby/index.html" rel="category tag">ruby</a></span>
<span class="tags">Tags: <a href="../../tag/error/index.html" rel="tag">error</a>, <a href="../../tag/gems/index.html" rel="tag">gems</a>, <a href="../../tag/rails/index.html" rel="tag">rails</a>, <a href="../../tag/ruby/index.html" rel="tag">ruby</a>, <a href="../../tag/ruby-on-rails/index.html" rel="tag">ruby on rails</a>, <a href="../../tag/spreadsheet/index.html" rel="tag">spreadsheet</a></span><br /></div><!--Meta -->

</div><!-- Post -->

		
<div class="post" id="post-53158">

<div class="date">17 <span>Apr</span></div>

<h2><a href="../../index.html?p=53158" rel="bookmark" title="Permanent Link to Can you read this?">Can you read this?</a></h2><br clear="all" />

<p>Got an email today, I have seen it before and I am sure it has been going around for years.  This time, I thought that I would do an exercise and create a plugin that duplicates what I found in this email.  See for yourself.</p>
<p>Here is the email I got:<br />
<center><img src="http://pullmonkey.com/assets/2009/4/17/can_you_read_this.png" /></center></p>
<p>What I gathered was that the only important letters are the first and last letter of each word, those have to be in the right order.  So the rest of the letters can be in any random order.  That is what I did - I created <a href="http://github.com/pullmonkey/can_you_read_this/tree/master">a plugin and put it out on github</a>.  You can install it like this:</p>
<pre><code>
./script/plugin install http://github.com/pullmonkey/can_you_read_this.git

</code></pre>
<p>And use it like this:</p>
<pre><code>
#in your views
<%= can_you_read_this("hello, can you read this?") %>

</code></pre>
<p>Have fun.</p>

<br />

<div class="meta">
<span class="com"><span>Comments Off<span class="screen-reader-text"> on Can you read this?</span></span></span>
<span class="note">Filed under: <a href="index.html" rel="category tag">Home</a>, <a href="../projects/index.html" rel="category tag">projects</a>, <a href="../rails/index.html" rel="category tag">rails</a>, <a href="../ruby/index.html" rel="category tag">ruby</a></span>
<span class="tags">Tags: <a href="../../tag/project/index.html" rel="tag">project</a>, <a href="../../tag/rails/index.html" rel="tag">rails</a>, <a href="../../tag/ruby/index.html" rel="tag">ruby</a>, <a href="../../tag/ruby-on-rails/index.html" rel="tag">ruby on rails</a></span><br /></div><!--Meta -->

</div><!-- Post -->

		
<div class="post" id="post-52831">

<div class="date">14 <span>Apr</span></div>

<h2><a href="../../index.html?p=52831" rel="bookmark" title="Permanent Link to ECE231 &#8211; Spring 2009 &#8211; Programming Assignment 4">ECE231 &#8211; Spring 2009 &#8211; Programming Assignment 4</a></h2><br clear="all" />

<p>This is a step-by-step tutorial for this assignment and an explanation of the basics of how it works for those that are having a difficult time understanding or just are stuck somewhere. To <a href="http://www.unm.edu/~speralta/progs/ece231assn4.htm">view the assignment click here</a>.</p>
<p>So for this assignment we are only going to be doing input and output. So the only header file we need is the <b>iostream</b> library.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pp">#include</span> <span class="ic">&lt;iostream&gt;</span><tt>
</tt>using namespace std;<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<h2>Defining the Node Class</h2>
<p>For the <b>node</b> class we need 5 private variables: <b><i>type</i></b>, <b><i>value</i></b>, <b><i>node1</i></b>, <b><i>node2</i></b>, <b><i>next</i></b>, a <b>constructor</b>, 5 <b>member functions</b>, and a <b>friend class</b>.</p>
<p>Because most of the functions only return a single variable it would be a waste to have the functions outside the class so I put them all inside the class.</p>
<p>So here is what your class should look like:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>class node<tt>
</tt>{<tt>
</tt>  <span class="la">protected:</span><tt>
</tt>    <span class="pt">int</span> type;     <span class="c">// type of component</span><tt>
</tt>    <span class="pt">double</span> value; <span class="c">// value of the component</span><tt>
</tt>    <span class="pt">int</span> node1;    <span class="c">// first node of the component</span><tt>
</tt>    <span class="pt">int</span> node2;    <span class="c">// second node of the component</span><tt>
</tt>    node *next;   <span class="c">// pointer to the next node in list</span><tt>
</tt>  <span class="la">public:</span><tt>
</tt>    node(<span class="pt">int</span> a, <span class="pt">double</span> b, <span class="pt">int</span> c, <span class="pt">int</span> d)<tt>
</tt>    {<tt>
</tt>      type  = a;<tt>
</tt>      value = b;<tt>
</tt>      node1 = c;<tt>
</tt>      node2 = d;<tt>
</tt>    }<tt>
</tt><tt>
</tt>    <span class="pt">int</span> getType() { <span class="r">return</span> type; }<tt>
</tt>    <span class="pt">double</span> getValue() { <span class="r">return</span> value; }<tt>
</tt>    <span class="pt">int</span> getNode1() { <span class="r">return</span> node1; }<tt>
</tt>    <span class="pt">int</span> getNode2() { <span class="r">return</span> node2; }<tt>
</tt>    node *getNext() { <span class="r">return</span> next; }<tt>
</tt><tt>
</tt>    friend class circuit;<tt>
</tt>};<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<h2>Defining the Circuit Class</h2>
<p>For the <b>circuit</b> class we need 2 private variables: <b><i>first</i></b> and <b><i>last</i></b>, a <b>constructor</b>, a <b>copy constructor</b>, 6 <b>member functions</b>, and a <b>friend function</b>.</p>
<p>For these I will put most of the functions on the outside of the class.</p>
<p>So here is what your class should look like:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>class circuit<tt>
</tt>{<tt>
</tt>  <span class="la">protected:</span><tt>
</tt>    node *first; <span class="c">// pointer to first node in list</span><tt>
</tt>    node *last;  <span class="c">// pointer to last node in list</span><tt>
</tt>    node *getNode(<span class="pt">int</span> &amp; , <span class="pt">double</span> &amp; , <span class="pt">int</span> &amp; , <span class="pt">int</span> &amp; );<tt>
</tt>  <span class="la">public:</span><tt>
</tt>    circuit();<tt>
</tt>    circuit(<span class="r">const</span> circuit &amp; );<tt>
</tt>    ~circuit();<tt>
</tt><tt>
</tt>    <span class="pt">void</span> insert(<span class="pt">int</span> , <span class="pt">double</span> , <span class="pt">int</span> , <span class="pt">int</span> );<tt>
</tt>    <span class="pt">void</span> insertInFront(node * );<tt>
</tt>    <span class="pt">void</span> insertInBack(node * , node * );<tt>
</tt>    <span class="pt">void</span> insertInMiddle(node * , node * , node * );<tt>
</tt>    <span class="pt">bool</span> remove(<span class="pt">int</span> , <span class="pt">int</span> );<tt>
</tt>    <span class="pt">bool</span> isEmpty();<tt>
</tt><tt>
</tt>    friend ostream &amp; operator &lt;&lt; (ostream &amp; , circuit );<tt>
</tt>};<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<h2>Writing the Actual Functions for the Circuit Class</h2>
<p>First, we have the private function <b>getNode</b>. This function creates a new member of the <b>node</b> class and returns the address to it.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>node* circuit::getNode(<span class="pt">int</span> &amp;t, <span class="pt">double</span> &amp;v, <span class="pt">int</span> &amp;n1, <span class="pt">int</span> &amp;n2)<tt>
</tt>{<tt>
</tt>  node *temp = new node(t, v, n1, n2);<tt>
</tt>  assert( temp != <span class="i">0</span> );<tt>
</tt>  <span class="r">return</span> temp;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Second, we have the a <b>constructor</b>, a <b>copy constructor</b>, and a <b>class destructor</b>:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt>28<tt>
</tt>29<tt>
</tt><strong>30</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>circuit::circuit()<tt>
</tt>{<tt>
</tt>  first = last = <span class="i">0</span>;<tt>
</tt>}<tt>
</tt>circuit::circuit(<span class="r">const</span> circuit &amp;c)<tt>
</tt>{<tt>
</tt>  first = last = <span class="i">0</span>;<tt>
</tt>  node *nc = c.first;<tt>
</tt>  <span class="r">while</span>(nc != <span class="i">0</span>)<tt>
</tt>  {<tt>
</tt>    insert(nc-&gt;type, nc-&gt;value, nc-&gt;node1, nc-&gt;node2);<tt>
</tt>    nc = nc-&gt;next;<tt>
</tt>  }<tt>
</tt>}<tt>
</tt>circuit::~circuit()<tt>
</tt>{<tt>
</tt>  <span class="r">if</span>( !isEmpty() )<tt>
</tt>  {<tt>
</tt>    node *nc = first;<tt>
</tt>    node *temp;<tt>
</tt>    <span class="r">while</span>(nc != <span class="i">0</span>)<tt>
</tt>    {<tt>
</tt>      temp = nc;<tt>
</tt>      nc = nc-&gt;next;<tt>
</tt>      delete temp;<tt>
</tt>    }<tt>
</tt>  }<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Next, we have the 6 <b>member functions</b>:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt>28<tt>
</tt>29<tt>
</tt><strong>30</strong><tt>
</tt>31<tt>
</tt>32<tt>
</tt>33<tt>
</tt>34<tt>
</tt><strong>35</strong><tt>
</tt>36<tt>
</tt>37<tt>
</tt>38<tt>
</tt>39<tt>
</tt><strong>40</strong><tt>
</tt>41<tt>
</tt>42<tt>
</tt>43<tt>
</tt>44<tt>
</tt><strong>45</strong><tt>
</tt>46<tt>
</tt>47<tt>
</tt>48<tt>
</tt>49<tt>
</tt><strong>50</strong><tt>
</tt>51<tt>
</tt>52<tt>
</tt>53<tt>
</tt>54<tt>
</tt><strong>55</strong><tt>
</tt>56<tt>
</tt>57<tt>
</tt>58<tt>
</tt>59<tt>
</tt><strong>60</strong><tt>
</tt>61<tt>
</tt>62<tt>
</tt>63<tt>
</tt>64<tt>
</tt><strong>65</strong><tt>
</tt>66<tt>
</tt>67<tt>
</tt>68<tt>
</tt>69<tt>
</tt><strong>70</strong><tt>
</tt>71<tt>
</tt>72<tt>
</tt>73<tt>
</tt>74<tt>
</tt><strong>75</strong><tt>
</tt>76<tt>
</tt>77<tt>
</tt>78<tt>
</tt>79<tt>
</tt><strong>80</strong><tt>
</tt>81<tt>
</tt>82<tt>
</tt>83<tt>
</tt>84<tt>
</tt><strong>85</strong><tt>
</tt>86<tt>
</tt>87<tt>
</tt>88<tt>
</tt>89<tt>
</tt><strong>90</strong><tt>
</tt>91<tt>
</tt>92<tt>
</tt>93<tt>
</tt>94<tt>
</tt><strong>95</strong><tt>
</tt>96<tt>
</tt>97<tt>
</tt>98<tt>
</tt>99<tt>
</tt><strong>100</strong><tt>
</tt>101<tt>
</tt>102<tt>
</tt>103<tt>
</tt>104<tt>
</tt><strong>105</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pt">void</span> circuit::insert(<span class="pt">int</span> t, <span class="pt">double</span> v, <span class="pt">int</span> n1, <span class="pt">int</span> n2)<tt>
</tt>{<tt>
</tt>  node *newNode = getNode(t, v, n1, n2);<tt>
</tt>  node *nc = first;<tt>
</tt>  node *nc_next = first;<tt>
</tt>  <span class="r">if</span>(isEmpty())<tt>
</tt>  {<tt>
</tt>    first = last = newNode;<tt>
</tt>    newNode-&gt;next = <span class="i">0</span>;<tt>
</tt>  }<tt>
</tt>  <span class="r">else</span> <span class="r">if</span>(first == last)<tt>
</tt>  {<tt>
</tt>    <span class="r">if</span>(newNode-&gt;node1 &lt; first-&gt;node1)<tt>
</tt>      insertInFront(newNode);<tt>
</tt>    <span class="r">else</span> <span class="r">if</span>(newNode-&gt;node1 &gt; first-&gt;node1)<tt>
</tt>      insertInBack(newNode, first);<tt>
</tt>    <span class="r">else</span> <span class="c">// if newNode-&gt;node1 == first-&gt;node1</span><tt>
</tt>    {<tt>
</tt>      <span class="r">if</span>(newNode-&gt;node2 &lt; first-&gt;node2)<tt>
</tt>        insertInFront(newNode);<tt>
</tt>      <span class="r">else</span><tt>
</tt>        insertInBack(newNode, first);<tt>
</tt>    }<tt>
</tt>  }<tt>
</tt>  <span class="r">else</span><tt>
</tt>  {<tt>
</tt>    <span class="r">while</span>(nc-&gt;next != <span class="i">0</span>)<tt>
</tt>    {<tt>
</tt>      <span class="r">if</span>(newNode-&gt;node1 &lt; nc_next-&gt;node1)<tt>
</tt>      {<tt>
</tt>        <span class="r">if</span>(nc_next == first)<tt>
</tt>          insertInFront(newNode);<tt>
</tt>        <span class="r">else</span><tt>
</tt>          insertInMiddle(newNode, nc, nc_next);<tt>
</tt>        <span class="r">break</span>;<tt>
</tt>      }<tt>
</tt>      <span class="r">if</span>(newNode-&gt;node1 == nc_next-&gt;node1)<tt>
</tt>      {<tt>
</tt>        <span class="r">if</span>(newNode-&gt;node2 &lt;= nc_next-&gt;node2)<tt>
</tt>        {<tt>
</tt>          <span class="r">if</span>(nc_next == first)<tt>
</tt>            insertInFront(newNode);<tt>
</tt>          <span class="r">else</span><tt>
</tt>            insertInMiddle(newNode, nc, nc_next);<tt>
</tt>          <span class="r">break</span>;<tt>
</tt>        }<tt>
</tt>      }<tt>
</tt>      <span class="r">if</span>(newNode-&gt;node1 &gt;= nc_next-&gt;node1 and nc_next == last)<tt>
</tt>      {<tt>
</tt>        insertInBack(newNode, nc_next);<tt>
</tt>        <span class="r">break</span>;<tt>
</tt>      }<tt>
</tt>      nc = nc_next;<tt>
</tt>      nc_next = nc-&gt;next;<tt>
</tt>    }<tt>
</tt>  }<tt>
</tt>}<tt>
</tt><span class="pt">void</span> circuit::insertInFront(node *n)<tt>
</tt>{<tt>
</tt>  n-&gt;next = first;<tt>
</tt>  first = n;<tt>
</tt>}<tt>
</tt><span class="pt">void</span> circuit::insertInBack(node *n, node *p)<tt>
</tt>{<tt>
</tt>  p-&gt;next = last = n;<tt>
</tt>  n-&gt;next = <span class="i">0</span>;<tt>
</tt>}<tt>
</tt><span class="pt">void</span> circuit::insertInMiddle(node *cn, node *p , node *n)<tt>
</tt>{<tt>
</tt>  p-&gt;next = cn;<tt>
</tt>  cn-&gt;next = n;<tt>
</tt>}<tt>
</tt><span class="pt">bool</span> circuit::remove(<span class="pt">int</span> n1, <span class="pt">int</span> n2)<tt>
</tt>{<tt>
</tt>  node *nc = first;<tt>
</tt>  node *nc_next = first;<tt>
</tt>  node *temp;<tt>
</tt>  <span class="r">if</span>( isEmpty() )<tt>
</tt>    <span class="r">return</span> <span class="pc">false</span>;<tt>
</tt>  <span class="r">while</span> (nc_next != <span class="i">0</span>)<tt>
</tt>  {<tt>
</tt>    <span class="r">if</span>(nc_next != <span class="i">0</span> and nc_next-&gt;node1 == n1 and nc_next-&gt;node2 == n2)<tt>
</tt>    {<tt>
</tt>      temp = nc_next;<tt>
</tt>      nc-&gt;next = nc_next-&gt;next;<tt>
</tt>      <span class="r">if</span>(first == last)<tt>
</tt>        first = last = <span class="i">0</span>;<tt>
</tt>      <span class="r">if</span>(nc_next == first)<tt>
</tt>        first = temp-&gt;next;<tt>
</tt>      <span class="r">if</span> (nc_next == last)<tt>
</tt>        last = nc;<tt>
</tt>      delete nc_next;<tt>
</tt>      <span class="r">return</span> <span class="pc">true</span>;<tt>
</tt>    }<tt>
</tt>    nc = nc_next;<tt>
</tt>    nc_next = nc-&gt;next;<tt>
</tt>  }<tt>
</tt>  <span class="r">return</span> <span class="pc">false</span>;<tt>
</tt>}<tt>
</tt><span class="pt">bool</span> circuit::isEmpty()<tt>
</tt>{<tt>
</tt>  <span class="r">return</span> ( first == <span class="i">0</span> and last == <span class="i">0</span> );<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Last, we have a <b>friend function</b>:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>ostream &amp; operator &lt;&lt; (ostream &amp;os, circuit c)<tt>
</tt>{<tt>
</tt>  node *nc = c.first; <span class="c">// node count variable used for looping through list</span><tt>
</tt>  <span class="pt">int</span> lcv = <span class="i">1</span>; <span class="c">// loop control variable</span><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">First: </span><span class="dl">&quot;</span></span> &lt;&lt; c.first &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  Last: </span><span class="dl">&quot;</span></span> &lt;&lt; c.last &lt;&lt; endl;<tt>
</tt>  <span class="r">while</span> (nc != <span class="i">0</span>)<tt>
</tt>  {<tt>
</tt>    os &lt;&lt; lcv &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">. </span><span class="dl">&quot;</span></span><tt>
</tt>       &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">node1: </span><span class="dl">&quot;</span></span>   &lt;&lt; nc-&gt;getNode1() <tt>
</tt>       &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  node2: </span><span class="dl">&quot;</span></span> &lt;&lt; nc-&gt;getNode2()<tt>
</tt>       &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  type: </span><span class="dl">&quot;</span></span>  &lt;&lt; nc-&gt;getType() <tt>
</tt>       &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  value: </span><span class="dl">&quot;</span></span> &lt;&lt; nc-&gt;getValue() <tt>
</tt>       &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  next: </span><span class="dl">&quot;</span></span>  &lt;&lt; nc-&gt;getNext() <tt>
</tt>       &lt;&lt; endl;<tt>
</tt>    nc = nc-&gt;getNext();<tt>
</tt>    lcv++;<tt>
</tt>  }<tt>
</tt>  <span class="r">if</span>(c.first == <span class="i">0</span>)<tt>
</tt>    os &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">List is empty</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  <span class="r">return</span> os;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<h2>Testing your program</h2>
<p>Our teacher gave us a test program, however I expanded it a little bit to test a bit more fully.</p>
<p>So here is my test program:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt>28<tt>
</tt>29<tt>
</tt><strong>30</strong><tt>
</tt>31<tt>
</tt>32<tt>
</tt>33<tt>
</tt>34<tt>
</tt><strong>35</strong><tt>
</tt>36<tt>
</tt>37<tt>
</tt>38<tt>
</tt>39<tt>
</tt><strong>40</strong><tt>
</tt>41<tt>
</tt>42<tt>
</tt>43<tt>
</tt>44<tt>
</tt><strong>45</strong><tt>
</tt>46<tt>
</tt>47<tt>
</tt>48<tt>
</tt>49<tt>
</tt><strong>50</strong><tt>
</tt>51<tt>
</tt>52<tt>
</tt>53<tt>
</tt>54<tt>
</tt><strong>55</strong><tt>
</tt>56<tt>
</tt>57<tt>
</tt>58<tt>
</tt>59<tt>
</tt><strong>60</strong><tt>
</tt>61<tt>
</tt>62<tt>
</tt>63<tt>
</tt>64<tt>
</tt><strong>65</strong><tt>
</tt>66<tt>
</tt>67<tt>
</tt>68<tt>
</tt>69<tt>
</tt><strong>70</strong><tt>
</tt>71<tt>
</tt>72<tt>
</tt>73<tt>
</tt>74<tt>
</tt><strong>75</strong><tt>
</tt>76<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pp">#include</span> <span class="ic">&lt;iostream&gt;</span><tt>
</tt><span class="pp">#include</span> <span class="ic">&quot;yourprogramname.h&quot;</span><tt>
</tt>using namespace std;<tt>
</tt><tt>
</tt><span class="r">const</span> <span class="pt">int</span> M=<span class="i">7</span>;<tt>
</tt><span class="r">const</span> <span class="pt">int</span> R=<span class="i">2</span>;<tt>
</tt><tt>
</tt><span class="pt">int</span> main()<tt>
</tt>{<tt>
</tt>  circuit c, c2, c3;<tt>
</tt>  <span class="pt">int</span> d[M*<span class="i">3</span>] = {<span class="i">1</span>,<span class="i">1</span>,<span class="i">4</span>, <span class="i">1</span>,<span class="i">1</span>,<span class="i">3</span>, <span class="i">2</span>,<span class="i">2</span>,<span class="i">3</span>, <span class="i">1</span>,<span class="i">1</span>,<span class="i">2</span>, <span class="i">1</span>,<span class="i">5</span>,<span class="i">6</span>, <span class="i">1</span>,<span class="i">2</span>,<span class="i">5</span>, <span class="i">3</span>,<span class="i">1</span>,<span class="i">3</span>};<tt>
</tt>  <span class="pt">double</span> v[M] = {<span class="i">1</span><span class="fl">0</span><span class="fl">.5</span>, <span class="i">3</span><span class="fl">0</span><span class="fl">.7</span>, <span class="i">10</span><span class="fl">0</span><span class="fl">.4</span>, <span class="i">2</span><span class="fl">0</span><span class="fl">.6</span>, <span class="i">3</span><span class="fl">5</span><span class="fl">.5</span>, <span class="i">4</span><span class="fl">5</span><span class="fl">.9</span>, <span class="i">6</span><span class="fl">0</span><span class="fl">.8</span>};<tt>
</tt>  <span class="pt">int</span> d1[R*<span class="i">8</span>] = {<span class="i">1</span>,<span class="i">2</span>, <span class="i">5</span>,<span class="i">6</span>, <span class="i">3</span>,<span class="i">6</span>, <span class="i">1</span>,<span class="i">4</span>, <span class="i">1</span>,<span class="i">3</span>, <span class="i">2</span>,<span class="i">5</span>, <span class="i">2</span>,<span class="i">3</span>, <span class="i">1</span>,<span class="i">3</span>};<tt>
</tt>  <span class="pt">int</span> i, j;<tt>
</tt><tt>
</tt>  <span class="r">for</span>( i=<span class="i">0</span>,j=<span class="i">0</span>; i&lt;M; i++,j=j+<span class="i">3</span> )<tt>
</tt>  {<tt>
</tt>    cout &lt;&lt; i+<span class="i">1</span> &lt;&lt; endl;<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">Inserting new node into list with:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">node1: </span><span class="dl">&quot;</span></span>   &lt;&lt; d[j+<span class="i">1</span>]<tt>
</tt>         &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  node2: </span><span class="dl">&quot;</span></span> &lt;&lt; d[j+<span class="i">2</span>]<tt>
</tt>         &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  type: </span><span class="dl">&quot;</span></span>  &lt;&lt; d[j]<tt>
</tt>         &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  value: </span><span class="dl">&quot;</span></span> &lt;&lt; v[i]<tt>
</tt>         &lt;&lt; endl;<tt>
</tt>    c.insert( d[j], v[i], d[j+<span class="i">1</span>], d[j+<span class="i">2</span>] );<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">List: </span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>    cout &lt;&lt; c &lt;&lt; endl &lt;&lt; endl;<tt>
</tt>  }<tt>
</tt>  <span class="r">for</span>( i=<span class="i">0</span>; i&lt;R*<span class="i">8</span>; i=i+<span class="i">2</span> )<tt>
</tt>  {<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">Removing node with:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">node1: </span><span class="dl">&quot;</span></span>   &lt;&lt; d1[i]<tt>
</tt>         &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  node2: </span><span class="dl">&quot;</span></span> &lt;&lt; d1[i+<span class="i">1</span>]<tt>
</tt>         &lt;&lt; endl;<tt>
</tt>    <span class="r">if</span>( c.remove( d1[i], d1[i+<span class="i">1</span>] ) == <span class="pc">false</span> )<tt>
</tt>      cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">Node not found</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">List: </span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>    cout &lt;&lt; c &lt;&lt; endl &lt;&lt; endl;<tt>
</tt>  }<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="ch">n</span><span class="k">Making List #2:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  <span class="pt">int</span> d2[M*<span class="i">3</span>] = {<span class="i">2</span>,<span class="i">2</span>,<span class="i">4</span>, <span class="i">1</span>,<span class="i">1</span>,<span class="i">3</span>, <span class="i">2</span>,<span class="i">2</span>,<span class="i">3</span>, <span class="i">1</span>,<span class="i">1</span>,<span class="i">2</span>, <span class="i">1</span>,<span class="i">5</span>,<span class="i">6</span>, <span class="i">1</span>,<span class="i">2</span>,<span class="i">5</span>, <span class="i">3</span>,<span class="i">1</span>,<span class="i">3</span>};<tt>
</tt>  <span class="r">for</span>( i=<span class="i">0</span>,j=<span class="i">0</span>; i&lt;M; i++,j=j+<span class="i">3</span> )<tt>
</tt>  {<tt>
</tt>    cout &lt;&lt; i+<span class="i">1</span> &lt;&lt; endl;<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">Inserting new node into list with:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">node1: </span><span class="dl">&quot;</span></span>   &lt;&lt; d2[j+<span class="i">1</span>]<tt>
</tt>         &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  node2: </span><span class="dl">&quot;</span></span> &lt;&lt; d2[j+<span class="i">2</span>]<tt>
</tt>         &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  type: </span><span class="dl">&quot;</span></span>  &lt;&lt; d2[j]<tt>
</tt>         &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  value: </span><span class="dl">&quot;</span></span> &lt;&lt; v[i]<tt>
</tt>         &lt;&lt; endl;<tt>
</tt>    c2.insert( d2[j], v[i], d2[j+<span class="i">1</span>], d2[j+<span class="i">2</span>] );<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">List: </span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>    cout &lt;&lt; c2 &lt;&lt; endl &lt;&lt; endl;<tt>
</tt>  }<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="ch">n</span><span class="k">Making List #3:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  <span class="pt">int</span> d3[M*<span class="i">3</span>] = {<span class="i">2</span>,<span class="i">2</span>,<span class="i">4</span>, <span class="i">3</span>,<span class="i">3</span>,<span class="i">3</span>, <span class="i">2</span>,<span class="i">2</span>,<span class="i">3</span>, <span class="i">1</span>,<span class="i">1</span>,<span class="i">2</span>, <span class="i">1</span>,<span class="i">5</span>,<span class="i">6</span>, <span class="i">1</span>,<span class="i">2</span>,<span class="i">5</span>, <span class="i">3</span>,<span class="i">1</span>,<span class="i">3</span>};<tt>
</tt>  <span class="r">for</span>( i=<span class="i">0</span>,j=<span class="i">0</span>; i&lt;M; i++,j=j+<span class="i">3</span> )<tt>
</tt>  {<tt>
</tt>    cout &lt;&lt; i+<span class="i">1</span> &lt;&lt; endl;<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">Inserting new node into list with:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">node1: </span><span class="dl">&quot;</span></span>   &lt;&lt; d3[j+<span class="i">1</span>]<tt>
</tt>         &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  node2: </span><span class="dl">&quot;</span></span> &lt;&lt; d3[j+<span class="i">2</span>]<tt>
</tt>         &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  type: </span><span class="dl">&quot;</span></span>  &lt;&lt; d3[j]<tt>
</tt>         &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  value: </span><span class="dl">&quot;</span></span> &lt;&lt; v[i]<tt>
</tt>         &lt;&lt; endl;<tt>
</tt>    c3.insert( d3[j], v[i], d3[j+<span class="i">1</span>], d3[j+<span class="i">2</span>] );<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">List: </span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>    cout &lt;&lt; c3 &lt;&lt; endl &lt;&lt; endl;<tt>
</tt>  }<tt>
</tt><tt>
</tt>  <span class="r">return</span> <span class="i">0</span>;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>

<br />

<div class="meta">
<span class="com"><span>Comments Off<span class="screen-reader-text"> on ECE231 &#8211; Spring 2009 &#8211; Programming Assignment 4</span></span></span>
<span class="note">Filed under: <a href="../c-c/index.html" rel="category tag">C / C++</a>, <a href="../development/index.html" rel="category tag">development</a>, <a href="index.html" rel="category tag">Home</a>, <a href="../projects/index.html" rel="category tag">projects</a>, <a href="../tutorials/index.html" rel="category tag">tutorials</a></span>
<span class="tags">Tags: <a href="../../tag/c/index.html" rel="tag">c++</a>, <a href="../../tag/ece231/index.html" rel="tag">ece231</a>, <a href="../../tag/prog/index.html" rel="tag">prog</a></span><br /></div><!--Meta -->

</div><!-- Post -->

		
<div class="post" id="post-52258">

<div class="date">26 <span>Mar</span></div>

<h2><a href="../../index.html?p=52258" rel="bookmark" title="Permanent Link to ECE231 &#8211; Spring 2009 &#8211; Programming Assignment 3">ECE231 &#8211; Spring 2009 &#8211; Programming Assignment 3</a></h2><br clear="all" />

<p>This is a step-by-step tutorial for this assignment and an explanation of the basics of how it works for those that are having a difficult time understanding or just are stuck somewhere. To <a href="http://www.unm.edu/~speralta/progs/ece231assn3.htm">view the assignment click here</a>.</p>
<p>So for this assignment we are going to be doing a lot of math calculations so we are going to need the include the both the <b>iostream</b> and the <b>cmath</b> libraries. We will also need the value of <b>pi</b>.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pp">#include</span> <span class="ic">&lt;iostream&gt;</span><tt>
</tt><span class="pp">#include</span> <span class="ic">&lt;cmath&gt;</span><tt>
</tt>using namespace std;<tt>
</tt><tt>
</tt><span class="pp">#define</span> PI <span class="fl">3</span><span class="fl">.141592654</span><tt>
</tt>or<tt>
</tt><span class="r">const</span> <span class="pt">double</span> PI = <span class="fl">3</span><span class="fl">.141592654</span>;<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<h2>Defining the Complexn Class</h2>
<p>For the <b>complexn</b> class we need 2 private variables <b><i>r</i></b> and <b><i>i</i></b>, 3 <b>constructors</b>, a <b>copy constructor</b>, 4 <b>member functions</b>, 9 <b>overloaded opperators</b>, and 2 <b>friend functions</b>.</p>
<p>Like the previous program we will define everything with in the class and have the actual functions at the bottom.</p>
<p>So here is what your class should look like (keep in mind that this all goes at the top <b>before the main function</b>):</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt>28<tt>
</tt>29<tt>
</tt><strong>30</strong><tt>
</tt>31<tt>
</tt>32<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>class complexn<tt>
</tt>{<tt>
</tt>  <span class="la">private:</span><tt>
</tt>    <span class="pt">double</span> r; <span class="c">// real part of the complex number</span><tt>
</tt>    <span class="pt">double</span> i; <span class="c">// imaginary part of the complex number</span><tt>
</tt>  <span class="la">public:</span><tt>
</tt>    complexn();<tt>
</tt>    complexn(<span class="pt">double</span> );<tt>
</tt>    complexn(<span class="pt">double</span> , <span class="pt">double</span> );<tt>
</tt>    complexn(<span class="r">const</span> complexn &amp; );<tt>
</tt><tt>
</tt>    <span class="pt">double</span> complexabs();<tt>
</tt>    <span class="pt">double</span> complexangle();<tt>
</tt>    complexn complexconj();<tt>
</tt>    <span class="pt">double</span> distance(<span class="r">const</span> complexn &amp; );<tt>
</tt><tt>
</tt>    complexn operator + (<span class="r">const</span> complexn &amp; );<tt>
</tt>    complexn operator - (<span class="r">const</span> complexn &amp; );<tt>
</tt>    complexn operator * (<span class="r">const</span> complexn &amp; );<tt>
</tt>    complexn operator / (<span class="r">const</span> complexn &amp; );<tt>
</tt>    complexn operator = (<span class="r">const</span> complexn &amp; );<tt>
</tt><tt>
</tt>    complexn operator ++ ();<tt>
</tt>    complexn operator ++ (<span class="pt">int</span> );<tt>
</tt>    complexn operator -- ();<tt>
</tt>    complexn operator -- (<span class="pt">int</span> );<tt>
</tt><tt>
</tt>    friend ostream &amp; operator &lt;&lt; (ostream &amp; , <span class="r">const</span> complexn &amp; );<tt>
</tt>    friend istream &amp; operator &gt;&gt; (istream &amp; , complexn &amp; );<tt>
</tt>};<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<h2>Writing the Actual Functions for the Complexn Class</h2>
<p>First we have the 3 <b>constructors</b> and the <b>copy constructor</b>:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="c">// takes no arguments and sets r and i to 0.0</span><tt>
</tt>complexn::complexn()<tt>
</tt>{<tt>
</tt>  r = i = <span class="fl">0</span><span class="fl">.0</span>;<tt>
</tt>}<tt>
</tt><span class="c">// takes 1 argument and sets r to the argument and i to 0.0</span><tt>
</tt>complexn::complexn(<span class="pt">double</span> real)<tt>
</tt>{<tt>
</tt>  r = real;<tt>
</tt>  i = <span class="fl">0</span><span class="fl">.0</span>;<tt>
</tt>}<tt>
</tt><span class="c">// takes 2 arguments and sets r to the first and i to the second</span><tt>
</tt>complexn::complexn(<span class="pt">double</span> real, <span class="pt">double</span> imag)<tt>
</tt>{<tt>
</tt>  r = real;<tt>
</tt>  i = imag;<tt>
</tt>}<tt>
</tt><span class="c">// this is a copy constructor that dereferences the complexn variable if it is referenced</span><tt>
</tt>complexn::complexn(<span class="r">const</span> complexn &amp;c)<tt>
</tt>{<tt>
</tt>  r = c.r;<tt>
</tt>  i = c.i;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Next, we have the 3 <b>member functions</b>:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt>28<tt>
</tt>29<tt>
</tt><strong>30</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="c">// takes no arguments and returns the distance from the 0 as a double</span><tt>
</tt><span class="pt">double</span> complexn::complexabs()<tt>
</tt>{<tt>
</tt>  <span class="r">return</span> sqrt(pow(r,<span class="fl">2</span><span class="fl">.0</span>) + pow(i,<span class="fl">2</span><span class="fl">.0</span>));<tt>
</tt>}<tt>
</tt><span class="c">// takes no arguments and returns the angle of the complex point as a double in radians</span><tt>
</tt><span class="pt">double</span> complexn::complexangle()<tt>
</tt>{<tt>
</tt>  <span class="pt">double</span> angle; <span class="c">// angle of coordinate from positive x axis</span><tt>
</tt>  angle = atan(r / i);<tt>
</tt>  <span class="r">if</span>(r &lt; <span class="i">0</span> and i &gt;= <span class="i">0</span>)<tt>
</tt>    <span class="r">return</span> PI - abs(angle);<tt>
</tt>  <span class="r">if</span>(r &lt; <span class="i">0</span> and i &lt; <span class="i">0</span>)<tt>
</tt>    <span class="r">return</span> -(PI - abs(angle));<tt>
</tt>  <span class="r">return</span> angle;<tt>
</tt>}<tt>
</tt><span class="c">// takes no arguments and returns the conjugate of the complex number as a complexn class</span><tt>
</tt>complexn complexn::complexconj()<tt>
</tt>{<tt>
</tt>  complexn temp = *this; <span class="c">// complex number used for calculations</span><tt>
</tt>  temp.i *= -<span class="i">1</span>;<tt>
</tt>  <span class="r">return</span> temp;<tt>
</tt>}<tt>
</tt><span class="c">// takes one complexn type argument and returns the distance between the argument and the current instance</span><tt>
</tt><span class="pt">double</span> complexn::distance(<span class="r">const</span> complexn &amp;temp)<tt>
</tt>{<tt>
</tt>  <span class="r">return</span> sqrt(pow(temp.r -r, <span class="fl">2</span><span class="fl">.0</span>) + pow(temp.i - i, <span class="fl">2</span><span class="fl">.0</span>));<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Next, we have the 9 <b>overloaded operators</b>:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt>28<tt>
</tt>29<tt>
</tt><strong>30</strong><tt>
</tt>31<tt>
</tt>32<tt>
</tt>33<tt>
</tt>34<tt>
</tt><strong>35</strong><tt>
</tt>36<tt>
</tt>37<tt>
</tt>38<tt>
</tt>39<tt>
</tt><strong>40</strong><tt>
</tt>41<tt>
</tt>42<tt>
</tt>43<tt>
</tt>44<tt>
</tt><strong>45</strong><tt>
</tt>46<tt>
</tt>47<tt>
</tt>48<tt>
</tt>49<tt>
</tt><strong>50</strong><tt>
</tt>51<tt>
</tt>52<tt>
</tt>53<tt>
</tt>54<tt>
</tt><strong>55</strong><tt>
</tt>56<tt>
</tt>57<tt>
</tt>58<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>complexn complexn::operator + (<span class="r">const</span> complexn &amp;temp)<tt>
</tt>{<tt>
</tt>  complexn cn; <span class="c">// complex number used for calculations</span><tt>
</tt>  cn.r = r + temp.r;<tt>
</tt>  cn.i = i + temp.i;<tt>
</tt>  <span class="r">return</span> cn;<tt>
</tt>}<tt>
</tt>complexn complexn::operator - (<span class="r">const</span> complexn &amp;temp)<tt>
</tt>{<tt>
</tt>  complexn cn; <span class="c">// complex number used for calculations</span><tt>
</tt>  cn.r = r - temp.r;<tt>
</tt>  cn.i = i - temp.i;<tt>
</tt>  <span class="r">return</span> cn;<tt>
</tt>}<tt>
</tt>complexn complexn::operator * (<span class="r">const</span> complexn &amp;temp)<tt>
</tt>{<tt>
</tt>  complexn cn; <span class="c">// complex number used for calculations</span><tt>
</tt>  cn.r = r * temp.r - i * temp.i;<tt>
</tt>  cn.i = r * temp.i + i * temp.r;<tt>
</tt>  <span class="r">return</span> cn;<tt>
</tt>}<tt>
</tt>complexn complexn::operator / (<span class="r">const</span> complexn &amp;temp)<tt>
</tt>{<tt>
</tt>  complexn cn; <span class="c">// complex number used for calculations</span><tt>
</tt>  cn.r = (r * temp.r + i * temp.i) / (pow(temp.r, <span class="fl">2</span><span class="fl">.0</span>) + pow(temp.i, <span class="fl">2</span><span class="fl">.0</span>));<tt>
</tt>  cn.i = (i * temp.r - r * temp.i) / (pow(temp.r, <span class="fl">2</span><span class="fl">.0</span>) + pow(temp.i, <span class="fl">2</span><span class="fl">.0</span>));<tt>
</tt>  <span class="r">return</span> cn;<tt>
</tt>}<tt>
</tt>complexn complexn::operator = (<span class="r">const</span> complexn &amp;temp)<tt>
</tt>{<tt>
</tt>  r = temp.r;<tt>
</tt>  i = temp.i;<tt>
</tt>  <span class="r">return</span> *this;<tt>
</tt>}<tt>
</tt>complexn complexn::operator ++ ()<tt>
</tt>{<tt>
</tt>  r += <span class="i">1</span>;<tt>
</tt>  <span class="r">return</span> *this;<tt>
</tt>}<tt>
</tt>complexn complexn::operator ++ (<span class="pt">int</span> x)<tt>
</tt>{<tt>
</tt>  complexn temp = *this;<tt>
</tt>  r += <span class="i">1</span>;<tt>
</tt>  <span class="r">return</span> temp;<tt>
</tt>}<tt>
</tt>complexn complexn::operator -- ()<tt>
</tt>{<tt>
</tt>  r -= <span class="i">1</span>;<tt>
</tt>  <span class="r">return</span> *this;<tt>
</tt>}<tt>
</tt>complexn complexn::operator -- (<span class="pt">int</span> x)<tt>
</tt>{<tt>
</tt>  complexn temp = *this;<tt>
</tt>  r -= <span class="i">1</span>;<tt>
</tt>  <span class="r">return</span> temp;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Last, we have the 2 <b>friend functions</b>:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>ostream &amp; operator &lt;&lt; (ostream &amp;os, <span class="r">const</span> complexn &amp;temp)<tt>
</tt>{<tt>
</tt>  os &lt;&lt; temp.r &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k"> + </span><span class="dl">&quot;</span></span> &lt;&lt; temp.i &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">i</span><span class="dl">&quot;</span></span>;<tt>
</tt>  <span class="r">return</span> os;<tt>
</tt>}<tt>
</tt>istream &amp; operator &gt;&gt; (istream &amp;is, complexn &amp;temp)<tt>
</tt>{<tt>
</tt>  is &gt;&gt; temp.r &gt;&gt; temp.i;<tt>
</tt>  <span class="r">return</span> is;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<h2>Testing Your program</h2>
<p>I wrote a fairly good program for testing this <b>complexn</b> class.</p>
<p>To test your program copy your program to <b>[name].h</b> file and in the <b>main.cpp</b>  file change the header file at the top to match your file.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt>28<tt>
</tt>29<tt>
</tt><strong>30</strong><tt>
</tt>31<tt>
</tt>32<tt>
</tt>33<tt>
</tt>34<tt>
</tt><strong>35</strong><tt>
</tt>36<tt>
</tt>37<tt>
</tt>38<tt>
</tt>39<tt>
</tt><strong>40</strong><tt>
</tt>41<tt>
</tt>42<tt>
</tt>43<tt>
</tt>44<tt>
</tt><strong>45</strong><tt>
</tt>46<tt>
</tt>47<tt>
</tt>48<tt>
</tt>49<tt>
</tt><strong>50</strong><tt>
</tt>51<tt>
</tt>52<tt>
</tt>53<tt>
</tt>54<tt>
</tt><strong>55</strong><tt>
</tt>56<tt>
</tt>57<tt>
</tt>58<tt>
</tt>59<tt>
</tt><strong>60</strong><tt>
</tt>61<tt>
</tt>62<tt>
</tt>63<tt>
</tt>64<tt>
</tt><strong>65</strong><tt>
</tt>66<tt>
</tt>67<tt>
</tt>68<tt>
</tt>69<tt>
</tt><strong>70</strong><tt>
</tt>71<tt>
</tt>72<tt>
</tt>73<tt>
</tt>74<tt>
</tt><strong>75</strong><tt>
</tt>76<tt>
</tt>77<tt>
</tt>78<tt>
</tt>79<tt>
</tt><strong>80</strong><tt>
</tt>81<tt>
</tt>82<tt>
</tt>83<tt>
</tt>84<tt>
</tt><strong>85</strong><tt>
</tt>86<tt>
</tt>87<tt>
</tt>88<tt>
</tt>89<tt>
</tt><strong>90</strong><tt>
</tt>91<tt>
</tt>92<tt>
</tt>93<tt>
</tt>94<tt>
</tt><strong>95</strong><tt>
</tt>96<tt>
</tt>97<tt>
</tt>98<tt>
</tt>99<tt>
</tt><strong>100</strong><tt>
</tt>101<tt>
</tt>102<tt>
</tt>103<tt>
</tt>104<tt>
</tt><strong>105</strong><tt>
</tt>106<tt>
</tt>107<tt>
</tt>108<tt>
</tt>109<tt>
</tt><strong>110</strong><tt>
</tt>111<tt>
</tt>112<tt>
</tt>113<tt>
</tt>114<tt>
</tt><strong>115</strong><tt>
</tt>116<tt>
</tt>117<tt>
</tt>118<tt>
</tt>119<tt>
</tt><strong>120</strong><tt>
</tt>121<tt>
</tt>122<tt>
</tt>123<tt>
</tt>124<tt>
</tt><strong>125</strong><tt>
</tt>126<tt>
</tt>127<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pp">#include</span> <span class="ic">&lt;iostream&gt;</span><tt>
</tt><span class="pp">#include</span> <span class="ic">&quot;yourprogram.h&quot;</span> <span class="c">// the name of your comlexn header file goes here</span><tt>
</tt><tt>
</tt>using namespace std;<tt>
</tt><tt>
</tt><span class="pt">int</span> main()<tt>
</tt>{<tt>
</tt>  complexn c1;<tt>
</tt>  complexn c2(<span class="i">1</span>);<tt>
</tt>  complexn c3(<span class="i">3</span>, -<span class="i">5</span>);<tt>
</tt>  complexn c4, c5, c6;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">Complex Numbers: </span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1: </span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2: </span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C3: </span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Enter values for C1: </span><span class="dl">&quot;</span></span>;<tt>
</tt>  cin &gt;&gt; c1;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  You enetered: </span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">Enter values for C2: </span><span class="dl">&quot;</span></span>;<tt>
</tt>  cin &gt;&gt; c2;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  You enetered: </span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">Enter values for C3: </span><span class="dl">&quot;</span></span>;<tt>
</tt>  cin &gt;&gt; c3;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  You enetered: </span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Distances from origin: </span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c1.complexabs() &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c2.complexabs() &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c3.complexabs() &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Conjugates:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c1.complexconj() &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c2.complexconj() &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c3.complexconj() &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Distances between:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) and C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c1.distance(c2) &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) and C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c1.distance(c3) &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) and C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c2.distance(c3) &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Addition:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) + C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c1 + c2 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) + C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c1 + c3 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) + C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c2 + c3 &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Subtraction:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) - C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c1 - c2 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) - C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c1 - c3 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) - C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c2 - c3 &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Multiplication:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) * C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c1 * c2 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) * C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c1 * c3 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) * C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c2 * c3 &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Division:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) / C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c1 / c2 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) / C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c1 / c3 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">) / C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c2 / c3 &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Incrementing:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c1   &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1++: </span><span class="dl">&quot;</span></span> &lt;&lt; c1++ &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c1   &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  ++C1: </span><span class="dl">&quot;</span></span> &lt;&lt; ++c1 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c1   &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c2   &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2++: </span><span class="dl">&quot;</span></span> &lt;&lt; c2++ &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c2   &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  ++C2: </span><span class="dl">&quot;</span></span> &lt;&lt; ++c2 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c2   &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C3 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c3   &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C3++: </span><span class="dl">&quot;</span></span> &lt;&lt; c3++ &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C3 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c3   &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  ++C3: </span><span class="dl">&quot;</span></span> &lt;&lt; ++c3 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C3 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c3   &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Decrementing:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c1   &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1--: </span><span class="dl">&quot;</span></span> &lt;&lt; c1-- &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c1   &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  --C1: </span><span class="dl">&quot;</span></span> &lt;&lt; --c1 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c1   &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c2   &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2--: </span><span class="dl">&quot;</span></span> &lt;&lt; c2-- &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c2   &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  --C2: </span><span class="dl">&quot;</span></span> &lt;&lt; --c2 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c2   &lt;&lt; endl;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C3 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c3   &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C3--: </span><span class="dl">&quot;</span></span> &lt;&lt; c3-- &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C3 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c3   &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  --C3: </span><span class="dl">&quot;</span></span> &lt;&lt; --c3 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C3 =  </span><span class="dl">&quot;</span></span> &lt;&lt; c3   &lt;&lt; endl;<tt>
</tt><tt>
</tt>  c4 = c1;<tt>
</tt>  c5 = c2;<tt>
</tt>  c6 = c3;<tt>
</tt><tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Equals:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C4 = C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c4 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C5 = C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c5 &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C6 = C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c6 &lt;&lt; endl;<tt>
</tt><tt>
</tt>  c1 = complexn ( <span class="i">1</span>, <span class="i">1</span>);<tt>
</tt>  c2 = complexn (-<span class="i">1</span>, <span class="i">1</span>);<tt>
</tt>  c3 = complexn (-<span class="i">1</span>,-<span class="i">1</span>);<tt>
</tt>  c4 = complexn ( <span class="i">1</span>,-<span class="i">1</span>);<tt>
</tt>  c5 = complexn ( <span class="i">0</span>, <span class="i">1</span>);<tt>
</tt>  c6 = complexn (-<span class="i">1</span>, <span class="i">0</span>);<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Angles:</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C1(</span><span class="dl">&quot;</span></span> &lt;&lt; c1 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c1.complexangle() &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C2(</span><span class="dl">&quot;</span></span> &lt;&lt; c2 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c2.complexangle() &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C3(</span><span class="dl">&quot;</span></span> &lt;&lt; c3 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c3.complexangle() &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C4(</span><span class="dl">&quot;</span></span> &lt;&lt; c4 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c4.complexangle() &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C5(</span><span class="dl">&quot;</span></span> &lt;&lt; c5 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c5.complexangle() &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  C6(</span><span class="dl">&quot;</span></span> &lt;&lt; c6 &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">): </span><span class="dl">&quot;</span></span> &lt;&lt; c6.complexangle() &lt;&lt; endl;<tt>
</tt><tt>
</tt>  <span class="r">return</span> <span class="i">0</span>;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>

<br />

<div class="meta">
<span class="com"><a href="../../index.html?p=52258#comments">2 Responses</a></span>
<span class="note">Filed under: <a href="../c-c/index.html" rel="category tag">C / C++</a>, <a href="../development/index.html" rel="category tag">development</a>, <a href="index.html" rel="category tag">Home</a>, <a href="../projects/index.html" rel="category tag">projects</a>, <a href="../tutorials/index.html" rel="category tag">tutorials</a></span>
<span class="tags">Tags: <a href="../../tag/c/index.html" rel="tag">c++</a>, <a href="../../tag/ece231/index.html" rel="tag">ece231</a>, <a href="../../tag/prog/index.html" rel="tag">prog</a></span><br /></div><!--Meta -->

</div><!-- Post -->

		
<div class="post" id="post-52139">

<div class="date">10 <span>Mar</span></div>

<h2><a href="../../index.html?p=52139" rel="bookmark" title="Permanent Link to Compilation failed: this version of PCRE is not compiled with PCRE_UTF8 support">Compilation failed: this version of PCRE is not compiled with PCRE_UTF8 support</a></h2><br clear="all" />

<p>I don't do too much with php these days, and really haven't since I found rails many years ago.  But I figured I would give <a href="http://www.magentocommerce.com/">magento</a> a try, just for fun.  Most of it worked, but I continually came across this PCRE error - the full error that I go was:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">Warning: preg_match_all() [function.preg-match-all]: Compilation failed: this version of PCRE is not compiled with PCRE_UTF8 support at offset 0  ...</pre>
</td>
</tr>
</table>
<p>Ok, loads and loads of research led no where, or at least no where that I was willing to go.  I tried so hard to find a solution that didn't require me recompiling apache ... well no such luck.  I am using slicehost's ubuntu 8.04, so I took the dpkg approach to help make things simple. </p>
<p>Well, I am sure you have found out by now that apache comes with its own version of pcre built in (version 5).  This version does not come with UTF-8 support.  The trick is to tell apache to use an external system package of pcre.   This requires the slightest bit of reconfiguring of apache.   <br />
Initially, my pcre looked like this (notice the version of 5.0...):<br />
<img src="http://pullmonkey.com/assets/2009/3/10/default_apache_pcre.png" /><br />
As mentioned earlier this is a pretty good indicator that your pcre is the built-in apache version.  This is not good.</p>
<p>Ok, the solution is not too bad.  Compared to <a href="https://help.ubuntu.com/community/UpgradeApacheHTTPServer">this article</a>, which I learned a few things from, it is much simpler.  One thing, you will note in the article is the use of <tt>--with-pcre=/usr</tt> - this is quite different than the <tt>--with-pcre=yes</tt> that apache2 comes configured with from gusty.  <br />
So the solution is to make that change by doing this:<br />
1) Get the source code:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">mkdir apache_src<tt>
</tt>cd apache_src/<tt>
</tt>apt-get source apache2</pre>
</td>
</tr>
</table>
<p>2) Modify the configuration (specifically the AP2_COMMON_CONFARGS in debian/rules)<br />
Once the source is downloaded you should have several files and a directory.  Edit the debian/rules files from within the apache directory.  The only change that is needed is to find the line that says --with-pcre=yes and change it to say --with-pcre=/usr.<br />
This, of course, assumes that you installed pcre and it lives in /usr/(bin,lib ...):</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">vi apache2-2.2.4/debian/rules # make those changes<tt>
</tt>./apache2-2.2.4/debian/rules</pre>
</td>
</tr>
</table>
<p>3) Install build dependencies for apache:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">sudo apt-get build-dep apache2</pre>
</td>
</tr>
</table>
<p>4) Now build the package:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">cd apache2-2.2.4/<tt>
</tt># you may need to install fakeroot for this:<tt>
</tt>sudo apt-get install fakeroot <tt>
</tt>dpkg-buildpackage -rfakeroot -uc -b<tt>
</tt></pre>
</td>
</tr>
</table>
<p>5) Install the new apache package:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">cd ..<tt>
</tt>sudo dpkg -i apache2_2.2.4-3ubuntu0.1_all.deb</pre>
</td>
</tr>
</table>
<p>
Voila, now look what I have:<br />
<img src="http://pullmonkey.com/assets/2009/3/10/reconfigured_apache_pcre.png" /><br />
That should be it. </p>
<p>Good luck.<br /></p>

<br />

<div class="meta">
<span class="com"><a href="../../index.html?p=52139#comments">3 Responses</a></span>
<span class="note">Filed under: <a href="../development/index.html" rel="category tag">development</a>, <a href="index.html" rel="category tag">Home</a>, <a href="../php/index.html" rel="category tag">php</a>, <a href="../tutorials/index.html" rel="category tag">tutorials</a></span>
<span class="tags">Tags: <a href="../../tag/error/index.html" rel="tag">error</a>, <a href="../../tag/pcre/index.html" rel="tag">pcre</a>, <a href="../../tag/software/index.html" rel="tag">software</a></span><br /></div><!--Meta -->

</div><!-- Post -->

		
<div class="post" id="post-51930">

<div class="date">23 <span>Feb</span></div>

<h2><a href="../../index.html?p=51930" rel="bookmark" title="Permanent Link to ECE231 &#8211; Spring 2009 &#8211; Programming Assignment 2">ECE231 &#8211; Spring 2009 &#8211; Programming Assignment 2</a></h2><br clear="all" />

<p>This is a step-by-step tutorial for this assignment and an explanation of the basics of how it works for those that are having a difficult time understanding or just are stuck somewhere. To <a href="http://www.unm.edu/~speralta/progs/ece231assn2.htm">view the assignment click here</a>.</p>
<p>So for this assignment we are going to be doing a lot of math calculations so we are going to need the include the both the <b>iostream</b> and the <b>cmath</b> libraries. We will also need the value of <b>pi</b>.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pp">#include</span> <span class="ic">&lt;iostream&gt;</span><tt>
</tt><span class="pp">#include</span> <span class="ic">&lt;cmath&gt;</span><tt>
</tt><tt>
</tt><span class="pp">#define</span> PI <span class="fl">3</span><span class="fl">.14159</span><tt>
</tt>or<tt>
</tt><span class="r">const</span> <span class="pt">double</span> PI = <span class="fl">3</span><span class="fl">.14159</span>;<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<h2>Defining the Coordinate Class</h2>
<p>For the <b>coordinate</b> class we need 2 private variables <b><i>x</i></b> and <b><i>y</i></b>, 3 <b>constructors</b>, and 11 <b>member functions</b>.</p>
<p>The way you do the constructors and member functions can be done 2 different ways. You can either do them inside the class, or you can define them inside the class, like you do prototypes, and then have the actual functions at the bottom of your code. I like to define them and then put the functions at the bottom, making the code a little bit easier to read so that is the way that I'll show you, but if you want to do it the other way then just do it how you normally would with a regular function.</p>
<p>So here is what your class should look like (keep in mind that this all goes at the top <b>before the main function</b>):</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>class coordinate<tt>
</tt>{<tt>
</tt>  <span class="la">private:</span><tt>
</tt>    <span class="pt">double</span> x;  <span class="c">// x value of the coordinate point</span><tt>
</tt>    <span class="pt">double</span> y;  <span class="c">// y value of the coordinate point</span><tt>
</tt>  <span class="la">public:</span><tt>
</tt>    coordinate(); <span class="c">// 1st constructor requiring that no arguments are passed</span><tt>
</tt>    coordinate(<span class="pt">double</span> ); <span class="c">// 2nd constructor requiring that only 1 argument is passed</span><tt>
</tt>    coordinate(<span class="pt">double</span> , <span class="pt">double</span> ); <span class="c">// 3rd constructor requiring that 2 arguments are passed</span><tt>
</tt><tt>
</tt>    <span class="pt">void</span> set(<span class="pt">double</span> , <span class="pt">double</span> ); <span class="c">// sets both values and requires 2 arguments to be passed</span><tt>
</tt>    <span class="pt">void</span> setx(<span class="pt">double</span> ); <span class="c">// sets x value and requires 1 argument to be passed</span><tt>
</tt>    <span class="pt">void</span> sety(<span class="pt">double</span> ); <span class="c">// sets y value and requires 1 argument to be passed</span><tt>
</tt>    <span class="pt">void</span> read(); <span class="c">// allows user to input both x and y values </span><tt>
</tt>    <span class="pt">void</span> print(); <span class="c">// prints out the coordinate point in &quot;(x, y)&quot; form</span><tt>
</tt>    <span class="pt">double</span> distancezero(); <span class="c">// calculates distance of point from zero and returns the value</span><tt>
</tt>    <span class="pt">double</span> distancetwo(coordinate ); <span class="c">// calculates distance between 2 points (current instance and coordinate value passed) and returns the value</span><tt>
</tt>    <span class="pt">double</span> ranglezero(); <span class="c">// calculates the angle of the coordinate in radians and returns the value</span><tt>
</tt>    <span class="pt">double</span> danglezero(); <span class="c">// calculates the angle of the coordinate in degrees and returns the value</span><tt>
</tt>    <span class="pt">int</span> quadrant(); <span class="c">// find what quadrant the coordinate is in and returns the value</span><tt>
</tt>    <span class="pt">void</span> midpoint(coordinate ); <span class="c">// calculates the midpoint between 2 points (current instance and coordinate value passed) and prints the value as a coordinate</span><tt>
</tt>};<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<h2>Writing the Actual Functions for the Coordinate Class</h2>
<p>Since we are not actually writing the functions in the same place we are doing the class we will write them at the bottom <b>after the main function</b>. However, to do this we will need a little more than what we would with regular functions. For <b>member functions</b> we have to define what class the function is actually a member of. To do this we have to do <b>coordinate::[function]()</b>.</p>
<p>For example, here are the 3 constructors for the <b><i>coordinate</i></b> class:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="c">// takes no arguments and sets x and y to 0</span><tt>
</tt>coordinate::coordinate()<tt>
</tt>{<tt>
</tt>  x = y = <span class="i">0</span>;<tt>
</tt>} <tt>
</tt><span class="c">// takes 1 argument and sets x and y to that value</span><tt>
</tt>coordinate::coordinate(<span class="pt">double</span> a)<tt>
</tt>{<tt>
</tt>  x = y = a;<tt>
</tt>} <tt>
</tt><span class="c">// takes 2 arguments and sets the corresponding x and y to those values</span><tt>
</tt>coordinate::coordinate(<span class="pt">double</span> a, <span class="pt">double</span> b)<tt>
</tt>{<tt>
</tt>  x = a;<tt>
</tt>  y = b;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Next, we have the <b>member functions</b>. The first 3 are the set functions. These allow the user to set the values of either the <b<i>x</i</b> or the <b><i>y</i></b> or both together.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="c">// take 2 arguments and sets the corresponding x and y to those values</span><tt>
</tt><span class="pt">void</span> coordinate::set(<span class="pt">double</span> a, <span class="pt">double</span> b)<tt>
</tt>{<tt>
</tt>  x = a;<tt>
</tt>  y = b;<tt>
</tt>}<tt>
</tt><span class="c">// takes 1 argument and sets the x to that value</span><tt>
</tt><span class="pt">void</span> coordinate::setx(<span class="pt">double</span> a)<tt>
</tt>{<tt>
</tt>  x = a;<tt>
</tt>}<tt>
</tt><span class="c">// takes 1 argument and sets the y to that value</span><tt>
</tt><span class="pt">void</span> coordinate::sety(<span class="pt">double</span> b)<tt>
</tt>{<tt>
</tt>  y = b;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Next, is the <b>read</b> and <b>print</b> functions. All we want the read to do is to do a <b>cin</b> of the 2 values (<b><i>x</i></b> and <b><i>y</i></b>). The <b>print</b> is just the opposite. All it does is do a <b>cout</b> of the <b><i>x</i></b> and <b><i>y</i></b> values in the <b>(<i>x</i>, <i>y</i>)</b> format.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="c">// takes no arguments and reads in the x and y values from the screen</span><tt>
</tt><span class="pt">void</span> coordinate::read()<tt>
</tt>{<tt>
</tt>  cin &gt;&gt; x &gt;&gt; y;<tt>
</tt>}<tt>
</tt><span class="c">// takes no arguments and prints the x and y values in (x, y) format</span><tt>
</tt><span class="pt">void</span> coordinate::print()<tt>
</tt>{<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">(</span><span class="dl">&quot;</span></span> &lt;&lt; x &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">, </span><span class="dl">&quot;</span></span> &lt;&lt; y &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">)</span><span class="dl">&quot;</span></span>;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Next, we have the distance functions. <b>distanczero</b> calculates the distance of the <b>current instance</b> coordinate from 0. <b>distancetwo</b> calculates the distance between 2 points (the <b>current instance</b> and the coordinate passed in).</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="c">// takes no arguments and returns the distance of the current instance from zero</span><tt>
</tt><span class="pt">double</span> coordinate::distancezero()<tt>
</tt>{<tt>
</tt>  <span class="r">return</span> sqrt(x * x + y * y);<tt>
</tt>}<tt>
</tt><span class="c">// take 1 argument and calculates the distance between them</span><tt>
</tt><span class="pt">double</span> coordinate::distancetwo(coordinate pt)<tt>
</tt>{<tt>
</tt>  <span class="r">return</span> sqrt(pow(x - pt.x, <span class="fl">2</span><span class="fl">.0</span>) + pow(y - pt.y, <span class="fl">2</span><span class="fl">.0</span>));<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Next, we have the angle functions. <b>ranglezero</b> uses the function in the math library <b>atan()</b>(arc tangent) to find the angle in radians from the positive x axis. <b>danglezero</b> does the same thing but converts the value from radians to degrees. To convert from radians to degrees you multiply the value by 180 / pi</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt>28<tt>
</tt>29<tt>
</tt><strong>30</strong><tt>
</tt>31<tt>
</tt>32<tt>
</tt>33<tt>
</tt>34<tt>
</tt><strong>35</strong><tt>
</tt>36<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="c">// takes no arguments and returns the angle of the coordinate from the positive x axis in radians</span><tt>
</tt><span class="pt">double</span> coordinate::ranglezero()<tt>
</tt>{<tt>
</tt>  <span class="pt">double</span> angle; <span class="c">// angle of coordinate from positive x axis</span><tt>
</tt>  <span class="r">if</span>(x == <span class="i">0</span>) <span class="c">// if x == 0 then you will get a domain error so compute angle manually</span><tt>
</tt>  {<tt>
</tt>    <span class="r">if</span>(y &gt; <span class="i">0</span>) <span class="r">return</span> PI / <span class="i">2</span>;<tt>
</tt>    <span class="r">if</span>(y &lt; <span class="i">0</span>) <span class="r">return</span> -PI / <span class="i">2</span>;<tt>
</tt>    <span class="r">if</span>(y == <span class="i">0</span>) <span class="r">return</span> <span class="i">0</span>;<tt>
</tt>  }<tt>
</tt>  angle = atan(y / x);<tt>
</tt>  <span class="r">if</span>(x &lt; <span class="i">0</span> and y &gt;= <span class="i">0</span>)<tt>
</tt>    <span class="r">return</span> PI - abs(angle);<tt>
</tt>  <span class="r">if</span>(x &lt; <span class="i">0</span> and y &lt; <span class="i">0</span>)<tt>
</tt>    <span class="r">return</span> -(PI - abs(angle));<tt>
</tt>  <span class="r">return</span> angle;<tt>
</tt>}<tt>
</tt><span class="c">// takes no arguments and returns the angle of the coordinate from the positive x axis in degrees</span><tt>
</tt><span class="pt">double</span> coordinate::danglezero()<tt>
</tt>{<tt>
</tt>  <span class="pt">double</span> angle; <span class="c">// angle of coordinate from positive x axis</span><tt>
</tt>  <span class="r">if</span>(x == <span class="i">0</span>) <span class="c">// if x == 0 then you will get a domain error so compute angle manually</span><tt>
</tt>  {<tt>
</tt>    <span class="r">if</span>(y &gt; <span class="i">0</span>) <span class="r">return</span> <span class="i">90</span>;<tt>
</tt>    <span class="r">if</span>(y &lt; <span class="i">0</span>) <span class="r">return</span> -<span class="i">90</span>;<tt>
</tt>    <span class="r">if</span>(y == <span class="i">0</span>) <span class="r">return</span> <span class="i">0</span>;<tt>
</tt>  }<tt>
</tt>  angle = atan(y / x) * <span class="i">180</span> / PI;<tt>
</tt>  <span class="r">if</span>(x &lt; <span class="i">0</span> and y &gt;= <span class="i">0</span>)<tt>
</tt>    <span class="r">return</span> <span class="i">180</span> - abs(angle);<tt>
</tt>  <span class="r">if</span>(x &lt; <span class="i">0</span> and y &lt; <span class="i">0</span>)<tt>
</tt>    <span class="r">return</span> -(<span class="i">180</span> - abs(angle));<tt>
</tt>  <span class="r">return</span> angle;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Next, we have the <b>quadrant</b> function. This looks at whether the <b><i>x</i></b> and <b><i>y</i></b> values are positive or negative to determine which quadrant the coordinate is in. It will return the number of the quadrant as an integer 1-4 and 0 if the coordinate is (0, 0)</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pt">int</span> coordinate::quadrant()<tt>
</tt>{<tt>
</tt>  <span class="r">if</span>(x &gt; <span class="i">0</span> &amp;&amp; y &gt;= <span class="i">0</span>)<tt>
</tt>    <span class="r">return</span> <span class="i">1</span>; <span class="c">// return quadrant 1</span><tt>
</tt>  <span class="r">if</span>(x &lt;= <span class="i">0</span> &amp;&amp; y &gt; <span class="i">0</span>)<tt>
</tt>    <span class="r">return</span> <span class="i">2</span>; <span class="c">// return quadrant 2</span><tt>
</tt>  <span class="r">if</span>(x &lt; <span class="i">0</span> &amp;&amp; y &lt;= <span class="i">0</span>)<tt>
</tt>    <span class="r">return</span> <span class="i">3</span>; <span class="c">// return quadrant 3</span><tt>
</tt>  <span class="r">if</span>(x &gt;= <span class="i">0</span> &amp;&amp; y &lt; <span class="i">0</span>)<tt>
</tt>    <span class="r">return</span> <span class="i">4</span>; <span class="c">// return quadrant 4</span><tt>
</tt>  <span class="r">return</span> <span class="i">0</span>;   <span class="c">// return 0 if point is (0, 0)</span><tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Last, we have the <b>midpoint</b> function. you will need to pass this function a coordinate instance and it will calculate the midpoint between the <b>current instance</b> and the <b>passed instance</b> and print the coordinate instance.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pt">void</span> coordinate::midpoint(coordinate pt)<tt>
</tt>{<tt>
</tt>  coordinate np; <span class="c">// new coordinate point</span><tt>
</tt>  np.x = (x + pt.x) / <span class="fl">2</span><span class="fl">.0</span>;<tt>
</tt>  np.y = (y + pt.y) / <span class="fl">2</span><span class="fl">.0</span>;<tt>
</tt>  np.print();<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Now all you have to do is test each constructor and member function to make sure that everything is working properly.</p>

<br />

<div class="meta">
<span class="com"><span>Comments Off<span class="screen-reader-text"> on ECE231 &#8211; Spring 2009 &#8211; Programming Assignment 2</span></span></span>
<span class="note">Filed under: <a href="../c-c/index.html" rel="category tag">C / C++</a>, <a href="../development/index.html" rel="category tag">development</a>, <a href="index.html" rel="category tag">Home</a>, <a href="../projects/index.html" rel="category tag">projects</a>, <a href="../tutorials/index.html" rel="category tag">tutorials</a></span>
<span class="tags">Tags: <a href="../../tag/c/index.html" rel="tag">c++</a>, <a href="../../tag/ece231/index.html" rel="tag">ece231</a>, <a href="../../tag/prog/index.html" rel="tag">prog</a></span><br /></div><!--Meta -->

</div><!-- Post -->

		
<div class="post" id="post-51808">

<div class="date">11 <span>Feb</span></div>

<h2><a href="../../index.html?p=51808" rel="bookmark" title="Permanent Link to Blog plugin tutorial for Ruby on Rails">Blog plugin tutorial for Ruby on Rails</a></h2><br clear="all" />

<p><b>Update:</b> Bloggity does not require the Engines plugin to run if you are using Rails 2.3 or above (where the Engines plugin is baked in). -- Noted below by Bill.<br />
<br /><b>Update:</b> Added the plugin to github - <a href="http://github.com/pullmonkey/simple_blog/tree/master">simple_blog</a>.  It is not production ready or really all that usable quite yet.</p>
<p>Ok, so this a rant and I am sorry for that - but as simple as it is, I have been looking for a blog plugin lately.  The problem with the plugins I find is that I don't want to have to deal with the engines plugin or have the controllers, models, views, etc ... all extracted into my applications code.  I want it all external (hence a plugin) but let it be minimally configurable.</p>
<p>So in my recent search for a blog plugin for rails, I came across two that look very useful, but each with their flaws:<br />
1) <a href="http://github.com/vigetlabs/bloget/tree/master">bloget</a> - Everything is extracted to my code space.  Why?  Yes, I realize that it is most likely because I will want to override things, but get out of my space and keep to yourself!  🙂 <br />
Provide me a way to override things that I would need to (there really shouldn't be too many), after all it is ruby.<br />
2) <a href="http://www.williambharding.com/blog/rails/bloggity-an-evolving-rails-blog-plugin/">bloggity</a> - Uses the engines plugin! I have nothing against the engines plugin (I think it is well written and documented) but for a freaking blog plugin?!?  Why? </p>
<p>Is there a third option?<br />
Glad you asked - yes, there is a third option - I hate to say it, but do it right!  There's your third option.<br />
Ok, but really, if there is a third option (a third plugin), I would love to hear about it.</p>
<p>Ok, so all that to lead up to a little plugin tutorial?  Well, it got your attention didn't it?</p>
<h1>Starting from scratch</h1>
<p>Ok, I guess I will start from scratch.  So let's get started.</p>
<h2>Creating a plugin</h2>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> ./script/generate plugin simple_blog<tt>
</tt>      create  vendor/plugins/simple_blog/lib<tt>
</tt>      create  vendor/plugins/simple_blog/tasks<tt>
</tt>      create  vendor/plugins/simple_blog/test<tt>
</tt>      create  vendor/plugins/simple_blog/<span class="co">README</span><tt>
</tt>      create  vendor/plugins/simple_blog/<span class="co">MIT</span>-<span class="co">LICENSE</span><tt>
</tt>      create  vendor/plugins/simple_blog/<span class="co">Rakefile</span><tt>
</tt>      create  vendor/plugins/simple_blog/init.rb<tt>
</tt>      create  vendor/plugins/simple_blog/install.rb<tt>
</tt>      create  vendor/plugins/simple_blog/uninstall.rb<tt>
</tt>      create  vendor/plugins/simple_blog/lib/simple_blog.rb<tt>
</tt>      create  vendor/plugins/simple_blog/tasks/simple_blog_tasks.rake<tt>
</tt>      create  vendor/plugins/simple_blog/test/simple_blog_test.rb<tt>
</tt>      create  vendor/plugins/simple_blog/test/test_helper.rb<tt>
</tt></pre>
</td>
</tr>
</table>
<h2>Create the app directories for your plugin</h2>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> cd vendor/plugins/simple_blog/  <span class="c"># pretty important</span><tt>
</tt>pullmonkey<span class="er">$</span> ls<tt>
</tt>init.rb  install.rb  lib  <span class="co">MIT</span>-<span class="co">LICENSE</span>  <span class="co">Rakefile</span>  <span class="co">README</span>  tasks  test  uninstall.rb<tt>
</tt>pullmonkey<span class="er">$</span> mkdir app<tt>
</tt>pullmonkey<span class="er">$</span> mkdir -p app/models<tt>
</tt>pullmonkey<span class="er">$</span> mkdir -p app/controllers<tt>
</tt>pullmonkey<span class="er">$</span> mkdir -p app/views<tt>
</tt>pullmonkey<span class="er">$</span> mkdir -p app/helpers<tt>
</tt>pullmonkey<span class="er">$</span> ls app/<tt>
</tt>controllers  helpers  models  views<tt>
</tt></pre>
</td>
</tr>
</table>
<p>Well that was easy, so let's move on.</p>
<p></p>
<h1>Models, Views, Controllers and Helpers - Living as one in my plugin</h1>
<h2>Models</h2>
<p>Ok, so we have a clear path for where our models, controllers, views, and helpers should live, right?<br />
For simplicity, let's just have a post and comment model - you have all seen this a billion times.</p>
<h3>Models: vendor/plugins/simple_blog/app/models/post.rb</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><span class="r">class</span> <span class="cl">Post</span> &lt; <span class="co">ActiveRecord</span>::<span class="co">Base</span><tt>
</tt>  has_many <span class="sy">:comments</span><tt>
</tt><span class="r">end</span></pre>
</td>
</tr>
</table>
<h3>Models: vendor/plugins/simple_blog/app/models/comment.rb</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><span class="r">class</span> <span class="cl">Comment</span> &lt; <span class="co">ActiveRecord</span>::<span class="co">Base</span><tt>
</tt>  belongs_to <span class="sy">:post</span><tt>
</tt><span class="r">end</span></pre>
</td>
</tr>
</table>
<p>And there you have it.<br />
So what do you do to tell your rails application about your models?<br />
Simple - inside vendor/plugins/simple_blog/init.rb - add these lines</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">model_path = <span class="co">File</span>.join(directory, <span class="s"><span class="dl">'</span><span class="k">app</span><span class="dl">'</span></span>, <span class="s"><span class="dl">'</span><span class="k">models</span><span class="dl">'</span></span>)<tt>
</tt><span class="gv">$LOAD_PATH</span> &lt;&lt; model_path<tt>
</tt><span class="co">ActiveSupport</span>::<span class="co">Dependencies</span>.load_paths &lt;&lt; model_path</pre>
</td>
</tr>
</table>
<h3>Ok, so let's test it out.</h3>
<p>Step 1 - we will need some default migrations for the model to use.<br />
Post migration:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> ./script/generate migration post<tt>
</tt><span class="c"># This is what mine looks like</span><tt>
</tt><span class="r">class</span> <span class="cl">Post</span> &lt; <span class="co">ActiveRecord</span>::<span class="co">Migration</span><tt>
</tt>  <span class="r">def</span> <span class="pc">self</span>.up<tt>
</tt>    create_table <span class="sy">:posts</span> <span class="r">do</span> |t|<tt>
</tt>      t.string <span class="sy">:subject</span><tt>
</tt>      t.text   <span class="sy">:body</span><tt>
</tt>      t.timestamps<tt>
</tt>    <span class="r">end</span><tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="pc">self</span>.down<tt>
</tt>    drop_table <span class="sy">:posts</span><tt>
</tt>  <span class="r">end</span><tt>
</tt><span class="r">end</span></pre>
</td>
</tr>
</table>
<p>And then the comment migration:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> ./script/generate migration comment<tt>
</tt><span class="c"># This is what mine looks like</span><tt>
</tt>  <span class="r">def</span> <span class="pc">self</span>.up<tt>
</tt>    create_table <span class="sy">:comments</span> <span class="r">do</span> |t|<tt>
</tt>      t.string <span class="sy">:username</span><tt>
</tt>      t.text   <span class="sy">:body</span><tt>
</tt>      t.references <span class="sy">:post</span><tt>
</tt>      t.timestamps<tt>
</tt>    <span class="r">end</span><tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="pc">self</span>.down<tt>
</tt>    drop_table <span class="sy">:comments</span><tt>
</tt>  <span class="r">end</span></pre>
</td>
</tr>
</table>
<p>Run the migrations:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> rake db<span class="sy">:migrate</span></pre>
</td>
</tr>
</table>
<p>That was all just setup - now for the actual testing:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> ./script/console<tt>
</tt><span class="co">Loading</span> development environment (<span class="co">Rails</span> <span class="fl">2.2</span>.<span class="i">2</span>)<tt>
</tt>&gt;&gt; <span class="co">Comment</span>.new<tt>
</tt>=&gt; <span class="c">#&lt;Comment id: nil, username: nil, body: nil, post_id: nil, created_at: nil, updated_at: nil&gt;</span><tt>
</tt>&gt;&gt; <span class="co">Post</span>.new<tt>
</tt>=&gt; <span class="c">#&lt;Post id: nil, subject: nil, body: nil, created_at: nil, updated_at: nil&gt;</span><tt>
</tt>&gt;&gt; p = <span class="co">Post</span>.create(<span class="sy">:subject</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">Test 1</span><span class="dl">&quot;</span></span>, <span class="sy">:body</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">My Body</span><span class="dl">&quot;</span></span>)<tt>
</tt>=&gt; <span class="c">#&lt;Post id: 1, subject: &quot;Test 1&quot;, body: &quot;My Body&quot;, created_at: &quot;2009-02-11 19:09:25&quot;, updated_at: &quot;2009-02-11 19:09:25&quot;&gt;</span><tt>
</tt>&gt;&gt; p.body<tt>
</tt>=&gt; <span class="s"><span class="dl">&quot;</span><span class="k">My Body</span><span class="dl">&quot;</span></span><tt>
</tt>&gt;&gt; p.subject<tt>
</tt>=&gt; <span class="s"><span class="dl">&quot;</span><span class="k">Test 1</span><span class="dl">&quot;</span></span><tt>
</tt>&gt;&gt; p.new_record?<tt>
</tt>=&gt; <span class="pc">false</span><tt>
</tt>&gt;&gt; p.comments<tt>
</tt>=&gt; []<tt>
</tt>&gt;&gt; c = <span class="co">Comment</span>.create(<span class="sy">:username</span> =&gt; <span class="s"><span class="dl">'</span><span class="k">pullmonkey</span><span class="dl">'</span></span>, <span class="sy">:body</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">this is simple</span><span class="dl">&quot;</span></span>)<tt>
</tt>=&gt; <span class="c">#&lt;Comment id: 1, username: &quot;pullmonkey&quot;, body: &quot;this is simple&quot;, post_id: nil, created_at: &quot;2009-02-11 19:10:01&quot;, updated_at: &quot;2009-02-11 19:10:01&quot;&gt;</span><tt>
</tt>&gt;&gt; p.comments &lt;&lt; c<tt>
</tt>=&gt; [<span class="c">#&lt;Comment id: 1, username: &quot;pullmonkey&quot;, body: &quot;this is simple&quot;, post_id: 1, created_at: &quot;2009-02-11 19:10:01&quot;, updated_at: &quot;2009-02-11 19:10:06&quot;&gt;]</span><tt>
</tt>&gt;&gt; p.comments<tt>
</tt>=&gt; [<span class="c">#&lt;Comment id: 1, username: &quot;pullmonkey&quot;, body: &quot;this is simple&quot;, post_id: 1, created_at: &quot;2009-02-11 19:10:01&quot;, updated_at: &quot;2009-02-11 19:10:06&quot;&gt;]</span><tt>
</tt>&gt;&gt; <span class="co">Post</span>.first.comments<tt>
</tt>=&gt; [<span class="c">#&lt;Comment id: 1, username: &quot;pullmonkey&quot;, body: &quot;this is simple&quot;, post_id: 1, created_at: &quot;2009-02-11 19:10:01&quot;, updated_at: &quot;2009-02-11 19:10:06&quot;&gt;]</span></pre>
</td>
</tr>
</table>
<p>That's probably good enough.  We have a working model and relationships.  The best part is that all the code is still in the plugin.<br />
What does my code space contain?</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> ls -l app/**<tt>
</tt>app/controllers:<tt>
</tt>total <span class="i">4</span><tt>
</tt>-rw-rw-r--  <span class="i">1</span> pullmonkey pullmonkey <span class="i">720</span> <span class="co">Feb</span> <span class="i">11</span> <span class="i">11</span>:<span class="i">00</span> application.rb<tt>
</tt><tt>
</tt>app/helpers:<tt>
</tt>total <span class="i">4</span><tt>
</tt>-rw-rw-r--  <span class="i">1</span> pullmonkey pullmonkey <span class="i">115</span> <span class="co">Feb</span> <span class="i">11</span> <span class="i">11</span>:<span class="i">00</span> application_helper.rb<tt>
</tt><tt>
</tt>app/models:<tt>
</tt>total <span class="i">0</span><tt>
</tt><tt>
</tt>app/views:<tt>
</tt>total <span class="i">4</span><tt>
</tt>drwxrwxr-x  <span class="i">2</span> pullmonkey pullmonkey <span class="i">4096</span> <span class="co">Feb</span> <span class="i">11</span> <span class="i">11</span>:<span class="i">00</span> layouts</pre>
</td>
</tr>
</table>
<p>
Just the defaults - neat 🙂</p>
<h2>Controllers</h2>
<p>In much the same way as models, we can easily use controllers from our plugin.  No extracting, no engines plugin.</p>
<h3>Controllers: vendor/plugins/simple_blog/app/controllers/posts_controller.rb</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><span class="r">class</span> <span class="cl">PostsController</span> &lt; <span class="co">ApplicationController</span><tt>
</tt>  <span class="r">def</span> <span class="fu">index</span><tt>
</tt>    <span class="iv">@posts</span> = <span class="co">Post</span>.all<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">show</span><tt>
</tt>    <span class="iv">@post</span> = <span class="co">Post</span>.find(params[<span class="sy">:id</span>])<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">new</span><tt>
</tt>    <span class="iv">@post</span> = <span class="co">Post</span>.new<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">create</span><tt>
</tt>    <span class="r">if</span> <span class="iv">@post</span> = <span class="co">Post</span>.create(params[<span class="sy">:post</span>])<tt>
</tt>      flash[<span class="sy">:notice</span>] = <span class="s"><span class="dl">&quot;</span><span class="k">Post Created</span><span class="dl">&quot;</span></span><tt>
</tt>      redirect_to <span class="sy">:action</span> =&gt; <span class="s"><span class="dl">'</span><span class="k">index</span><span class="dl">'</span></span><tt>
</tt>    <span class="r">else</span><tt>
</tt>      flash[<span class="sy">:error</span>] = <span class="s"><span class="dl">&quot;</span><span class="k">Post Not Created</span><span class="dl">&quot;</span></span><tt>
</tt>      render <span class="sy">:action</span> =&gt; <span class="s"><span class="dl">'</span><span class="k">new</span><span class="dl">'</span></span><tt>
</tt>    <span class="r">end</span><tt>
</tt>  <span class="r">end</span><tt>
</tt>  <span class="c">#.... more code</span><tt>
</tt><span class="r">end</span></pre>
</td>
</tr>
</table>
<h3>Controllers: vendor/plugins/simple_blog/app/controllers/comments_controller.rb</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><span class="r">class</span> <span class="cl">CommentsController</span> &lt; <span class="co">ApplicationController</span><tt>
</tt>  <span class="r">def</span> <span class="fu">index</span><tt>
</tt>    <span class="iv">@comments</span> = <span class="co">Comment</span>.find_all_by_post_id(params[<span class="sy">:post_id</span>])<tt>
</tt>  <span class="r">end</span><tt>
</tt>  <span class="c">#.... more code</span><tt>
</tt><span class="r">end</span></pre>
</td>
</tr>
</table>
<p>Now, to register the controllers, add the following to vendor/plugins/simple_blog/init.rb:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">controller_path = <span class="co">File</span>.join(directory, <span class="s"><span class="dl">'</span><span class="k">app</span><span class="dl">'</span></span>, <span class="s"><span class="dl">'</span><span class="k">controllers</span><span class="dl">'</span></span>)<tt>
</tt><span class="gv">$LOAD_PATH</span> &lt;&lt; controller_path<tt>
</tt><span class="co">ActiveSupport</span>::<span class="co">Dependencies</span>.load_paths &lt;&lt; controller_path<tt>
</tt>config.controller_paths &lt;&lt; controller_path</pre>
</td>
</tr>
</table>
<p>Ok, before we can really test this we will need to do the views, so keep going.</p>
<p></p>
<h2>Views</h2>
<p>Create your view directories:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> mkdir -p app/views/posts<tt>
</tt>pullmonkey<span class="er">$</span> mkdir -p app/views/comments</pre>
</td>
</tr>
</table>
<p>Create your views:<br />
For this example, I will just create one, then we will test it.</p>
<h3>Views: vendor/plugins/simple_blog/app/views/posts/index.html.erb</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">&lt;h1&gt;<span class="co">Posts</span>&lt;<span class="rx"><span class="dl">/</span><span class="k">h1&gt;<tt>
</tt>&lt;% @posts.each do |post| -%&gt;<tt>
</tt>  &lt;h2&gt;&lt;%= h post.subject %&gt;&lt;</span><span class="dl">/</span></span>h2&gt;<tt>
</tt>  &lt;%= post.body <span class="s"><span class="dl">%&gt;</span><span class="k"><tt>
</tt>  &lt;h3</span><span class="dl">&gt;</span></span><span class="co">Comments</span>&lt;<span class="rx"><span class="dl">/</span><span class="k">h3&gt;<tt>
</tt>  &lt;% post.comments.each do |comment| -%&gt;<tt>
</tt>    &lt;b&gt;by &lt;%= comment.username %&gt;&lt;</span><span class="dl">/</span></span>b&gt;&lt;br/&gt;<tt>
</tt>    &lt;%= comment.body <span class="s"><span class="dl">%&gt;</span><span class="k">&lt;br/</span><span class="dl">&gt;</span></span><tt>
</tt>    &lt;br/&gt;<tt>
</tt>  &lt;% <span class="r">end</span> -<span class="s"><span class="dl">%&gt;</span><span class="k"><tt>
</tt>&lt;% end -%</span><span class="dl">&gt;</span></span></pre>
</td>
</tr>
</table>
<h3>Append your view paths:</h3>
<p>If you don't do this next step, you will very likely see an error message like this:<br />
Missing template posts/index.erb in view path /home/pullmonkey/rails_projects/simple_blog/app/views:</p>
<p>So let's add it. <br />
There are at least two ways to do this.  1) Added to your controllers individually or 2) Add to application controller globally.<br />
I prefer the less obtrusive, so let's go with number 1.<br />
For this test, we will just work with the posts controller, so open it up again and add this line:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><span class="pc">self</span>.append_view_path(<span class="co">File</span>.join(<span class="co">File</span>.dirname(<span class="pc">__FILE__</span>), <span class="s"><span class="dl">'</span><span class="k">..</span><span class="dl">'</span></span>, <span class="s"><span class="dl">'</span><span class="k">views</span><span class="dl">'</span></span>))</pre>
</td>
</tr>
</table>
<p>So your file should look like this now:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><span class="r">class</span> <span class="cl">PostsController</span> &lt; <span class="co">ApplicationController</span><tt>
</tt>  <span class="pc">self</span>.append_view_path(<span class="co">File</span>.join(<span class="co">File</span>.dirname(<span class="pc">__FILE__</span>), <span class="s"><span class="dl">'</span><span class="k">..</span><span class="dl">'</span></span>, <span class="s"><span class="dl">'</span><span class="k">views</span><span class="dl">'</span></span>))<tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">index</span><tt>
</tt>    <span class="iv">@posts</span> = <span class="co">Post</span>.all<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">show</span><tt>
</tt>    <span class="iv">@post</span> = <span class="co">Post</span>.find(params[<span class="sy">:id</span>])<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">new</span><tt>
</tt>    <span class="iv">@post</span> = <span class="co">Post</span>.new<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">create</span><tt>
</tt>    <span class="r">if</span> <span class="iv">@post</span> = <span class="co">Post</span>.create(params[<span class="sy">:post</span>])<tt>
</tt>      flash[<span class="sy">:notice</span>] = <span class="s"><span class="dl">&quot;</span><span class="k">Post Created</span><span class="dl">&quot;</span></span><tt>
</tt>      redirect_to <span class="sy">:action</span> =&gt; <span class="s"><span class="dl">'</span><span class="k">index</span><span class="dl">'</span></span><tt>
</tt>    <span class="r">else</span><tt>
</tt>      flash[<span class="sy">:error</span>] = <span class="s"><span class="dl">&quot;</span><span class="k">Post Not Created</span><span class="dl">&quot;</span></span><tt>
</tt>      render <span class="sy">:action</span> =&gt; <span class="s"><span class="dl">'</span><span class="k">new</span><span class="dl">'</span></span><tt>
</tt>    <span class="r">end</span><tt>
</tt>  <span class="r">end</span><tt>
</tt><span class="r">end</span></pre>
</td>
</tr>
</table>
<h3>Time to test</h3>
<p>Start your web server - ./script/server<br />
Browse to http://localhost:3000/posts<br />
You should see the post we created up above via Post.create(...) and its associated comment that we also created above.</p>
<p><b>Note:</b>Feel free to overwrite any of the views.  This can be done simply for the posts index view by creating the same file under RAILS_ROOT/app/views/posts/index.html.erb and doing what you'd like.</p>
<p></p>
<h1>That's it for part 1</h1>
<p>Ok, so that's part 1.  The goal was to keep everything external and I think we succeeded (aside from migrations).<br />
No offense to those that use engines or extract files into one's application's space, we all have our ways - the above is what I prefer.</p>
<p>
Part 2 will consist mainly of filling this out a bit more and further discussion on adding helpers, routes and migrations to your plugin without interfering in the application's code space.</p>
<p>As always, have fun and good luck!</p>

<br />

<div class="meta">
<span class="com"><a href="../../index.html?p=51808#comments">11 Responses</a></span>
<span class="note">Filed under: <a href="../development/index.html" rel="category tag">development</a>, <a href="index.html" rel="category tag">Home</a>, <a href="../rails/index.html" rel="category tag">rails</a>, <a href="../tutorials/index.html" rel="category tag">tutorials</a></span>
<span class="tags">Tags: <a href="../../tag/plugins/index.html" rel="tag">plugins</a>, <a href="../../tag/rails/index.html" rel="tag">rails</a>, <a href="../../tag/ruby/index.html" rel="tag">ruby</a>, <a href="../../tag/ruby-on-rails/index.html" rel="tag">ruby on rails</a>, <a href="../../tag/tutorial/index.html" rel="tag">tutorial</a></span><br /></div><!--Meta -->

</div><!-- Post -->

		
<div class="post" id="post-51727">

<div class="date">05 <span>Feb</span></div>

<h2><a href="../../index.html?p=51727" rel="bookmark" title="Permanent Link to ECE231 &#8211; Spring 2009 &#8211; Programming Assignment 1">ECE231 &#8211; Spring 2009 &#8211; Programming Assignment 1</a></h2><br clear="all" />

<p>This is a step-by-step tutorial for this assignment and an explanation of the basics of how it works for those that are having a difficult time understanding or just are stuck somewhere. To <a href="http://www.unm.edu/~speralta/progs/ece231assn1.htm" >view the assignment click here.</a></p>
<h1>Part A</h1>
<p><b>1. Create a structure (called point) that includes a time and y value (both doubles).</b></p>
<p>This is very simple using the <b>typedef struct</b> and listing your variables.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="r">typedef</span> <span class="r">struct</span><tt>
</tt>{<tt>
</tt>  <span class="pt">double</span> time;<tt>
</tt>  <span class="pt">double</span> y;<tt>
</tt>} point;<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p><b>2. Create a main program that has an array of 40 points (or structures), keeps track of the number of values in the array and has variables for each of the values needed to calculate above.</b></p>
<p>In the main program we will need an array of points <b><i>p</i></b>, an integer with the total number of points <b><i>values</i></b>, and 4 double variables, one for each of the functions (I used <b><i>vert_shift</i></b>, <b><i>amp</i></b>, <b><i>freq</i></b>, and <b><i>phase_shift</i></b>).</p>
<p>Then you will need to call each function and for testing I printed each value out to make sure everything was coming in right. It is short, simple, and to the point like all programming should be. Your main should look something like this:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pt">int</span> main()<tt>
</tt>{<tt>
</tt>  point p[<span class="i">40</span>];          <span class="c">// array of points</span><tt>
</tt>  <span class="pt">int</span> values = <span class="i">0</span>;       <span class="c">// total number of values in the points array</span><tt>
</tt>  <span class="pt">double</span> vert_shift=<span class="i">0</span>;  <span class="c">// vertical shift</span><tt>
</tt>  <span class="pt">double</span> amp=<span class="i">0</span>;         <span class="c">// amplitude</span><tt>
</tt>  <span class="pt">double</span> freq=<span class="i">0</span>;        <span class="c">// frequency</span><tt>
</tt>  <span class="pt">double</span> phase_shift=<span class="i">0</span>; <span class="c">// phase shift</span><tt>
</tt><tt>
</tt>  values = read_data(p);<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">Values: </span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>  <span class="r">for</span>(lcv=<span class="i">0</span>; lcv &lt; values; lcv++)<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  </span><span class="dl">&quot;</span></span> &lt;&lt;  p[lcv].time &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">  </span><span class="dl">&quot;</span></span> &lt;&lt; p[lcv].y &lt;&lt; endl;<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Total Number of values = </span><span class="dl">&quot;</span></span> &lt;&lt; values &lt;&lt; endl;<tt>
</tt>  vert_shift = vertical(p, values);<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Vertical shift = </span><span class="dl">&quot;</span></span> &lt;&lt; vert_shift &lt;&lt; endl;<tt>
</tt>  amp = amplitude(p, values);<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Amplitude = </span><span class="dl">&quot;</span></span> &lt;&lt; amp &lt;&lt; endl;<tt>
</tt>  freq = frequency(p, values);<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Frequency = </span><span class="dl">&quot;</span></span> &lt;&lt; freq &lt;&lt; endl;<tt>
</tt>  phase_shift = pshift(p, values);<tt>
</tt>  cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="ch">n</span><span class="k">Phase Shift = </span><span class="dl">&quot;</span></span> &lt;&lt; phase_shift &lt;&lt; endl;<tt>
</tt>  <span class="r">return</span> <span class="i">0</span>;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p><b>3. The main program should then call the read_data function.  This function will have one argument (the array of points - or structures - which will be passed as a pointer to the function) and will return the number of values in the array.  It should read the data from the data file using a pointer and the arrow (->) operator.</b></p>
<p>First, we are going to be reading from a file in this function so we are going to need to include the <b>fstream</b> library.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pp">#inlcude</span> &lt;fstream&gt; <span class="c">// reading from file</span><tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Next, we need to create the prototype for this function called <b>read_data</b>. This will go above the main. The <b>read_data</b> function will need the array of points and will return the total number of points as an integer. So it should look like this:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pt">int</span> read_data(point *);<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Now below the main we can create our function and lets call the array of points <b><i>a</i></b>. In this function we will need 2 more variables, an integer (<b><i>total</i></b>) for counting the number of points that we read from the file and an ifstream variable (<b><i>f</i></b>) for opening and closing the file.</p>
<p>First, we need to try to open the file using <b>f.open("sp09prog1.txt")</b>. Next, we need to test to make sure the file was opened and that we can read from it and if not then print out error message and exit. If the file was opened then we need to read in the values into the point array and count the number of points using the <b><i>total</i></b> integer variable. We do this until we read the end of the file and we find out if we are at the end of the file with <b>f.eof()</b>. Finally, we will want to return the <b><i>total</i></b>. It should look like this:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pt">int</span> read_data(point *a)<tt>
</tt>{<tt>
</tt>  ifstream f;  <span class="c">// file streaming variable</span><tt>
</tt>  <span class="pt">int</span> total=<span class="i">0</span>; <span class="c">// counts the total number of points in file</span><tt>
</tt><tt>
</tt>  f.open(<span class="s"><span class="dl">&quot;</span><span class="k">sp09prog1.txt</span><span class="dl">&quot;</span></span>);<tt>
</tt><tt>
</tt>  <span class="r">if</span>(f.fail())<tt>
</tt>  {<tt>
</tt>    cout &lt;&lt; <span class="s"><span class="dl">&quot;</span><span class="k">ERROR: File could not be opened</span><span class="dl">&quot;</span></span> &lt;&lt; endl;<tt>
</tt>    exit(<span class="i">1</span>);<tt>
</tt>  }<tt>
</tt><tt>
</tt>  <span class="r">while</span>(!f.eof())<tt>
</tt>  {<tt>
</tt>    f &gt;&gt; a-&gt;time &gt;&gt; a-&gt;y;<tt>
</tt>    total++;<tt>
</tt>    a++;<tt>
</tt>  }<tt>
</tt>  <span class="r">return</span> total - <span class="i">1</span>;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Notice that we return <b>total - 1</b>. This is because we increment <b><i>total</i></b> and then we find out it is the end of the file. So we incremented one too many times so we need to subtract 1 before returning it.</p>
<p><b>4. Main should then call the vertical function to calculate the vertical shift.  This function has two arguments (the array of points - passed as a pointer - and the number of values in the array).  It will calculate the vertical shift by finding the average of the maximum and minimum y-values.  You will need to search through the array of points to find these max and min values.</b><br />
<b>5. Next, main will call the amplitude function to calculate the amplitude.  This function has two arguments (the array of points - passed as a pointer - and the number of values in the array; you must also use the arrow operator in this function) and will return the amplitude.  To find the amplitude, you need to calculate half the difference between the maximum and minimum values of the y-values (you will need to search through the array for the maximum and minimum values again).</b></p>
<p>The functions are both almost identical. The only difference is the equation at the end so we will do them at the same time.</p>
<p>First, we will create the prototypes. Both functions take the array of points and the integer total number of points and they both return a double. So the prototypes should look like this:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pt">double</span> vertical(point *, <span class="pt">int</span> );<tt>
</tt><span class="pt">double</span> amplitude(point *, <span class="pt">int</span> );<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>So lets call the point array <b><i>p</i></b> and the integer <b><i>total</i></b>.</p>
<p>To find the max and min values we need to create 2 double variables (<b><i>max</i></b> and <b><i>min</i></b>) and an integer (<b><i>lcv</i></b>) that we will use for the loop.</p>
<p>Next we will need to set both <b><i>max</i></b> and <b><i>min</i></b> to the first <b><i>y</i></b> element in the array of points. Then we will have a loop and start from 0 to <b><i>total</i></b>. Each time we run through this loop we need to do 3 things:</p>
<ul>
<li>1. Test if <b><i>max</i></b> is less than the current <b><i>y</i></b> value? If yes then set <b><i>max</i></b> to the current <b><i>y</i></b></li>
<li>2. Test if <b><i>min</i></b> is greater than the current <b><i>y</i></b> value? If yes then set <b><i>min</i></b> to the current <b><i>y</i></b></li>
<li>3. Increment <b><i>a</i></b> to the next position in the array. Because we are using a pointer to the array we can do this easily by doing <b>a++</b></li>
</ul>
<p>Next we will just return the result of the equation as a double. So your functions should look something like this:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt>28<tt>
</tt>29<tt>
</tt><strong>30</strong><tt>
</tt>31<tt>
</tt>32<tt>
</tt>33<tt>
</tt>34<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pt">double</span> vertical(point *a, <span class="pt">int</span> total)<tt>
</tt>{   <tt>
</tt>  <span class="pt">double</span> min; <span class="c">// minimum y value found in array</span><tt>
</tt>  <span class="pt">double</span> max; <span class="c">// maximum y value found in array</span><tt>
</tt>  <span class="pt">int</span> lcv;    <span class="c">// loop control variable</span><tt>
</tt>  max = min = a-&gt;y;<tt>
</tt>  <span class="r">for</span>(lcv=<span class="i">0</span>; lcv &lt; total; lcv++) <tt>
</tt>  {<tt>
</tt>    <span class="r">if</span>(max &lt; a-&gt;y)<tt>
</tt>      max = a-&gt;y;<tt>
</tt>    <span class="r">if</span>(min &gt; a-&gt;y)<tt>
</tt>      min = a-&gt;y;<tt>
</tt>    a++;<tt>
</tt>  }<tt>
</tt>  <span class="r">return</span> (max + min) / <span class="fl">2</span><span class="fl">.0</span>;<tt>
</tt>}<tt>
</tt><span class="pt">double</span> amplitude(point *a, <span class="pt">int</span> total)<tt>
</tt>{<tt>
</tt>  <span class="pt">double</span> min; <span class="c">// minimum y value found in array</span><tt>
</tt>  <span class="pt">double</span> max; <span class="c">// maximum y value found in array</span><tt>
</tt>  <span class="pt">int</span> lcv;    <span class="c">// loop control variable</span><tt>
</tt>  max = min = a-&gt;y;<tt>
</tt>  <span class="r">for</span>(lcv=<span class="i">0</span>; lcv &lt; total; lcv++)<tt>
</tt>  {<tt>
</tt>    <span class="r">if</span>(max &lt; a-&gt;y)<tt>
</tt>      max = a-&gt;y;<tt>
</tt>    <span class="r">if</span>(min &gt; a-&gt;y)<tt>
</tt>      min = a-&gt;y;<tt>
</tt>    a++;<tt>
</tt>  }<tt>
</tt>  <span class="r">return</span> (max - min) / <span class="fl">2</span><span class="fl">.0</span>;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p><b>6. The next function called by main is the frequency function that has two arguments (the array of points - passed as a pointer - and the number of values in the array; again using the arrow operator to access values) and will return the frequency.  To calculate the frequency, find the period which is time difference between the maximum and minimum y-values and multiply by 2.  Then, divide to calculate the frequency.  Please note that you are using the difference between time values, not the y values, to perform the overall computation.</b><br />
<b>7. Finally, main will call the pshift function that contains two arguments (the array of points - passed as a pointer - and the number of values in the array; again using the arrow operator to access values) and will return the phase shift or horizontal shift.  This shift can be found by finding the average of the time values where the maximum and minimum y-values occur; then subtracting it from half the period (see step 6 to find the period).</b></p>
<p>The functions for steps 6 and 7 are both almost identical expect for the equation at the end so we will do these both at the same time.</p>
<p>For the frequency function we will need to use the absolute value function in the cmath library. To include this you will need to do this at the top of your file.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pp">#include</span> <span class="ic">&lt;cmath&gt;</span><tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Like the functions in step 4 and 5 they need to have the array of points and the integer total number of points and they both return a double. So the prototypes should look like this:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pt">double</span> frequency(point *, <span class="pt">int</span> );<tt>
</tt><span class="pt">double</span> pshift(point *, <span class="pt">int</span> );<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>So lets call the point array <b><i>p</i></b> and the integer <b><i>total</i></b>.</p>
<p>To find the max and min values we need to create 2 pointers to point variables (<b><i>max</i></b> and <b><i>min</i></b>) and an integer (<b><i>lcv</i></b>) that we will use for the loop.</p>
<p>Next we will need to set both <b><i>max</i></b> and <b><i>min</i></b> pointers to the same address as <b><i>a</i></b> points which is the first position in the array of points. Then we will have a loop and start from 0 to <b><i>total</i></b>. Each time we run through this loop we need to do 3 things:</p>
<ul>
<li>1. Test if <b><i>max->y</i></b> is less than the current <b><i>a->y</i></b> value? If yes then set <b><i>max</i></b> to the current <b><i>a</i></b> address.</li>
<li>2. Test if <b><i>min->y</i></b> is greater than the current <b><i>a->y</i></b> value? If yes then set <b><i>min</i></b> to the current <b><i>a</i></b> address.</li>
<li>3. Increment <b><i>a</i></b> to the next position in the array. Because we are using a pointer to the array we can do this easily by doing <b>a++</b></li>
</ul>
<p>Next we will just return the result of the equation as a double. So your functions should look something like this:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt>28<tt>
</tt>29<tt>
</tt><strong>30</strong><tt>
</tt>31<tt>
</tt>32<tt>
</tt>33<tt>
</tt>34<tt>
</tt><strong>35</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pt">double</span> frequency(point *a, <span class="pt">int</span> total)<tt>
</tt>{<tt>
</tt>  point *min; <span class="c">// minimum y value location found in array</span><tt>
</tt>  point *max; <span class="c">// maximum y value location found in array</span><tt>
</tt>  <span class="pt">int</span> lcv;    <span class="c">// loop control variable</span><tt>
</tt>  max = min = a;<tt>
</tt>  <span class="r">for</span>(lcv=<span class="i">0</span>; lcv &lt; total; lcv++)<tt>
</tt>  {<tt>
</tt>    <span class="r">if</span>(max-&gt;y &lt; a-&gt;y)<tt>
</tt>      max = a;<tt>
</tt>    <span class="r">if</span>(min-&gt;y &gt; a-&gt;y)<tt>
</tt>      min = a;<tt>
</tt>    a++;<tt>
</tt>  } <tt>
</tt>  <span class="r">return</span> abs(PI / (max-&gt;time - min-&gt;time));<tt>
</tt>} <tt>
</tt><span class="pt">double</span> pshift(point *a, <span class="pt">int</span> total)<tt>
</tt>{<tt>
</tt>  point *min; <span class="c">// minimum y value location found in array</span><tt>
</tt>  point *max; <span class="c">// maximum y value location found in array</span><tt>
</tt>  <span class="pt">int</span> lcv;    <span class="c">// loop control variable</span><tt>
</tt>  max = min = a;<tt>
</tt>  <span class="r">for</span>(lcv=<span class="i">0</span>; lcv &lt; total; lcv++)<tt>
</tt>  {<tt>
</tt>    <span class="r">if</span>(max-&gt;y &lt; a-&gt;y)<tt>
</tt>      max = a;<tt>
</tt>    <span class="r">if</span>(min-&gt;y &gt; a-&gt;y)<tt>
</tt>      min = a;<tt>
</tt>    a++;<tt>
</tt>  }<tt>
</tt>  a -= total;<tt>
</tt>  <span class="r">return</span> (<span class="i">2</span> * PI / frequency(a, total)) / <span class="i">2</span> - (max-&gt;time + min-&gt;time) / <span class="fl">2</span><span class="fl">.0</span>;<tt>
</tt>}<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Notice how in the pshift function after the loop we do <b>a -= total</b>. This is because <b><i>a</i></b> is currently pointing the last element in the array and if we want to call frequency and pass the address of the first element in the array of points then we need to set <b><i>a</i></b> back to the first element.</p>
<p>Also notice that the frequency function uses a variable called <b><i>PI</i></b>. This is the value of pi so at the top above the main you will need to define it as a constant. You can do this one of 2 ways: </p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="pp">#define</span> PI <span class="fl">3</span><span class="fl">.14159</span><tt>
</tt>or <tt>
</tt><span class="r">const</span> <span class="pt">double</span> PI=<span class="fl">3</span><span class="fl">.14159</span>;<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Either way will work but I prefer to use the <b>#define</b> since it uses less memory and only takes more processing when you compile the program not in running it.</p>
<h2>Outcome</h2>
<p>Using the text file provided this is what I got when I ran the program:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt>28<tt>
</tt>29<tt>
</tt><strong>30</strong><tt>
</tt>31<tt>
</tt>32<tt>
</tt>33<tt>
</tt>34<tt>
</tt><strong>35</strong><tt>
</tt>36<tt>
</tt>37<tt>
</tt>38<tt>
</tt>39<tt>
</tt><strong>40</strong><tt>
</tt>41<tt>
</tt>42<tt>
</tt>43<tt>
</tt>44<tt>
</tt><strong>45</strong><tt>
</tt>46<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>[scnaegle<span class="er">@</span>egor ece231]<span class="er">$</span> ./a.out <tt>
</tt><span class="la">Values:</span> <tt>
</tt>  <span class="fl">1</span><span class="fl">.5708</span>  -<span class="i">4</span><tt>
</tt>  <span class="fl">1</span><span class="fl">.6791</span>  -<span class="fl">3</span><span class="fl">.3551</span><tt>
</tt>  <span class="fl">1</span><span class="fl">.7875</span>  -<span class="fl">2</span><span class="fl">.7403</span><tt>
</tt>  <span class="fl">1</span><span class="fl">.8958</span>  -<span class="fl">2</span><span class="fl">.1845</span><tt>
</tt>  <span class="fl">2</span><span class="fl">.0041</span>  -<span class="fl">1</span><span class="fl">.7135</span><tt>
</tt>  <span class="fl">2</span><span class="fl">.1125</span>  -<span class="fl">1</span><span class="fl">.3495</span><tt>
</tt>  <span class="fl">2</span><span class="fl">.2208</span>  -<span class="fl">1</span><span class="fl">.1094</span><tt>
</tt>  <span class="fl">2</span><span class="fl">.3291</span>  -<span class="fl">1</span><span class="fl">.0044</span><tt>
</tt>  <span class="fl">2</span><span class="fl">.4374</span>  -<span class="fl">1</span><span class="fl">.0395</span><tt>
</tt>  <span class="fl">2</span><span class="fl">.5458</span>  -<span class="fl">1</span><span class="fl">.2131</span><tt>
</tt>  <span class="fl">2</span><span class="fl">.6541</span>  -<span class="fl">1</span><span class="fl">.5169</span><tt>
</tt>  <span class="fl">2</span><span class="fl">.7624</span>  -<span class="fl">1</span><span class="fl">.9369</span><tt>
</tt>  <span class="fl">2</span><span class="fl">.8708</span>  -<span class="fl">2</span><span class="fl">.4533</span><tt>
</tt>  <span class="fl">2</span><span class="fl">.9791</span>  -<span class="fl">3</span><span class="fl">.0421</span><tt>
</tt>  <span class="fl">3</span><span class="fl">.0874</span>  -<span class="fl">3</span><span class="fl">.6756</span><tt>
</tt>  <span class="fl">3</span><span class="fl">.1958</span>  -<span class="fl">4</span><span class="fl">.3244</span><tt>
</tt>  <span class="fl">3</span><span class="fl">.3041</span>  -<span class="fl">4</span><span class="fl">.9579</span><tt>
</tt>  <span class="fl">3</span><span class="fl">.4124</span>  -<span class="fl">5</span><span class="fl">.5467</span><tt>
</tt>  <span class="fl">3</span><span class="fl">.5208</span>  -<span class="fl">6</span><span class="fl">.0631</span><tt>
</tt>  <span class="fl">3</span><span class="fl">.6291</span>  -<span class="fl">6</span><span class="fl">.4831</span><tt>
</tt>  <span class="fl">3</span><span class="fl">.7374</span>  -<span class="fl">6</span><span class="fl">.7869</span><tt>
</tt><tt>
</tt><tt>
</tt>  <span class="fl">3</span><span class="fl">.8457</span>  -<span class="fl">6</span><span class="fl">.9605</span><tt>
</tt>  <span class="fl">3</span><span class="fl">.9541</span>  -<span class="fl">6</span><span class="fl">.9956</span><tt>
</tt>  <span class="fl">4</span><span class="fl">.0624</span>  -<span class="fl">6</span><span class="fl">.8906</span><tt>
</tt>  <span class="fl">4</span><span class="fl">.1707</span>  -<span class="fl">6</span><span class="fl">.6505</span><tt>
</tt>  <span class="fl">4</span><span class="fl">.2791</span>  -<span class="fl">6</span><span class="fl">.2865</span><tt>
</tt>  <span class="fl">4</span><span class="fl">.3874</span>  -<span class="fl">5</span><span class="fl">.8155</span><tt>
</tt>  <span class="fl">4</span><span class="fl">.4957</span>  -<span class="fl">5</span><span class="fl">.2597</span><tt>
</tt>  <span class="fl">4</span><span class="fl">.6041</span>  -<span class="fl">4</span><span class="fl">.6449</span><tt>
</tt>  <span class="fl">4</span><span class="fl">.7124</span>  -<span class="i">4</span><tt>
</tt><tt>
</tt>Total Number of values = <span class="i">30</span><tt>
</tt><tt>
</tt>Vertical shift = -<span class="i">4</span><tt>
</tt><tt>
</tt>Amplitude = <span class="fl">2</span><span class="fl">.9956</span><tt>
</tt><tt>
</tt>Frequency = <span class="fl">1</span><span class="fl">.93329</span><tt>
</tt><tt>
</tt>Phase Shift = -<span class="fl">1</span><span class="fl">.5166</span><tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p></p>
<h1>Part B</h1>
<p><b>Using MATLAB, you need to plot the original data using the data file sp09prog1.txt.  To do this, load the file into MATLAB, then assign the first column to be the x values and the second column to be the y values.  You can then use the plot command to plot these (you should only plot the points - not any connecting lines).</b></p>
<p>This is easy. Use the <b>load()</b> function to read in data from the file into a matrix.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>table = load('sp09prog1.txt')<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Then we need to get the data into arrays of <b><i>time</i></b> and <b><i>y</i></b>. To do this use <b><i>matrixvairable</i>(<i>row</i>,<i>column</i>)</b>. Use a colon (<b>:</b>) to get everything in either the row or column. In this case we will want all rows in the first column for <b><i>time</i></b> and all rows and second column for <b><i>y</i></b>.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>time = table(: , 1)<tt>
</tt>y = table(: , 2)<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Then plot the data using the <b>plot()</b> function. For this you will need to pass 3 things (x values, y values, and symbol). Our x values is the array <b><i>time</i></b> and our y values is array <b><i>y</i></b>.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>plot(time, y, 'o')<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p><b>Then, using the values you found in the C++ program for each of the four variables, create a cosine curve that can be plotted over the data.  You will need to create a matrix of x-values that run from 1 to 2π with an increment of π/100.  Then, create a matrix of y values using the cosine equation:  where vs is the vertical shift, ps is the phase shift, amp is the amplitude and freq is the frequency.  Plot these x and y values using a red line.</b></p>
<p>This is just the same as the first part only we need to find the <b><i>x</i></b> and <b><i>y</i></b> values using equations. But first lets set all the values we will need for our calculations which we can get from <b>Part A</b> of the program.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>vs = -4<tt>
</tt>amp = 2.9956<tt>
</tt>freq = 1.93329<tt>
</tt>ps = -1.5166<tt>
</tt>PI = 3.14159<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Next we will have to create the array <b><i>x</i></b> with all the x values. In this case we are going to go from 0 to 2pi and step by pi/100. To do this we have a colon (<b>:</b>) between each argument like this:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>x = 0 : PI / 100 : 2 * PI<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Now, to create the array <b><i>y</i></b> with all the y values we use the equation we were given.</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>y = vs + amp * (cos(freq * x - ps))<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Now, all we need to do is plot it on the graph. However, we want to plot the new equation on the same plot as the last one. To do this we need to use the command <b>hold on</b>. We also want the new graph to look different so lets make it a full line 4px wide and the color be dark red. Like this:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>hold on<tt>
</tt>plot(x, y, '', 'LineWidth', 4, 'Color', [.6 0 0])<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>Now run it and see if your two line match up at all.</p>

<br />

<div class="meta">
<span class="com"><span>Comments Off<span class="screen-reader-text"> on ECE231 &#8211; Spring 2009 &#8211; Programming Assignment 1</span></span></span>
<span class="note">Filed under: <a href="../c-c/index.html" rel="category tag">C / C++</a>, <a href="../development/index.html" rel="category tag">development</a>, <a href="index.html" rel="category tag">Home</a>, <a href="../projects/index.html" rel="category tag">projects</a>, <a href="../tutorials/index.html" rel="category tag">tutorials</a></span>
<span class="tags">Tags: <a href="../../tag/c/index.html" rel="tag">c++</a>, <a href="../../tag/ece231/index.html" rel="tag">ece231</a></span><br /></div><!--Meta -->

</div><!-- Post -->

		
  

	
</div><!-- Content -->

</div><!-- LeftColumn -->

<div id="c2">

   
    <div id="sidebar">

<div id="subscribe">
<a href="../../feed/index.html"><img src="../../wp-content/themes/simple&#32;paper/images/rss.gif" alt="RSS-FEED" border="0" id="rss" /></a>
<a href="../../feed/index.html">subscribe to the feed</a><br clear="all" />
</div><!-- subscribe rss -->

<div id="topsearch">
<form action="../../index.html" method="post">
<input type="text" value="Search..." name="s" id="ls" class="searchfield" onfocus="if (this.value == 'Search...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search...';}" />
<input type="image" src="../../wp-content/themes/simple&#32;paper/images/click.gif" id="submit" />
</form>
<br clear="all" />
<br clear="all" />
</div>
    
    	<ul>
	<li id="tag_cloud-2" class="widget widget_tag_cloud"><h2 class="widgettitle">Tags</h2>
<div class="tagcloud"><a href="../../tag/net/index.html" class="tag-cloud-link tag-link-166 tag-link-position-1" style="font-size: 8pt;" aria-label=".net (2 items)">.net</a>
<a href="../../tag/activerecord/index.html" class="tag-cloud-link tag-link-54 tag-link-position-2" style="font-size: 8pt;" aria-label="activerecord (2 items)">activerecord</a>
<a href="../../tag/api/index.html" class="tag-cloud-link tag-link-220 tag-link-position-3" style="font-size: 10.40625pt;" aria-label="api (4 items)">api</a>
<a href="../../tag/biking/index.html" class="tag-cloud-link tag-link-219 tag-link-position-4" style="font-size: 10.40625pt;" aria-label="biking (4 items)">biking</a>
<a href="../../tag/business/index.html" class="tag-cloud-link tag-link-213 tag-link-position-5" style="font-size: 8pt;" aria-label="business (2 items)">business</a>
<a href="../../tag/c/index.html" class="tag-cloud-link tag-link-33 tag-link-position-6" style="font-size: 10.40625pt;" aria-label="c++ (4 items)">c++</a>
<a href="../../tag/charts/index.html" class="tag-cloud-link tag-link-42 tag-link-position-7" style="font-size: 18.171875pt;" aria-label="charts (25 items)">charts</a>
<a href="../../tag/cms/index.html" class="tag-cloud-link tag-link-60 tag-link-position-8" style="font-size: 12.046875pt;" aria-label="CMS (6 items)">CMS</a>
<a href="../../tag/curb/index.html" class="tag-cloud-link tag-link-190 tag-link-position-9" style="font-size: 8pt;" aria-label="curb (2 items)">curb</a>
<a href="../../tag/curl/index.html" class="tag-cloud-link tag-link-120 tag-link-position-10" style="font-size: 8pt;" aria-label="curl (2 items)">curl</a>
<a href="../../tag/dynamic/index.html" class="tag-cloud-link tag-link-56 tag-link-position-11" style="font-size: 8pt;" aria-label="dynamic (2 items)">dynamic</a>
<a href="../../tag/ece231/index.html" class="tag-cloud-link tag-link-34 tag-link-position-12" style="font-size: 10.40625pt;" aria-label="ece231 (4 items)">ece231</a>
<a href="../../tag/editor/index.html" class="tag-cloud-link tag-link-61 tag-link-position-13" style="font-size: 11.28125pt;" aria-label="editor (5 items)">editor</a>
<a href="../../tag/error/index.html" class="tag-cloud-link tag-link-46 tag-link-position-14" style="font-size: 9.3125pt;" aria-label="error (3 items)">error</a>
<a href="../../tag/flash/index.html" class="tag-cloud-link tag-link-41 tag-link-position-15" style="font-size: 17.84375pt;" aria-label="flash (23 items)">flash</a>
<a href="../../tag/fun/index.html" class="tag-cloud-link tag-link-23 tag-link-position-16" style="font-size: 11.28125pt;" aria-label="fun (5 items)">fun</a>
<a href="../../tag/gems/index.html" class="tag-cloud-link tag-link-44 tag-link-position-17" style="font-size: 8pt;" aria-label="gems (2 items)">gems</a>
<a href="../../tag/graphs/index.html" class="tag-cloud-link tag-link-52 tag-link-position-18" style="font-size: 18.390625pt;" aria-label="graphs (26 items)">graphs</a>
<a href="../../tag/httpi/index.html" class="tag-cloud-link tag-link-191 tag-link-position-19" style="font-size: 8pt;" aria-label="httpi (2 items)">httpi</a>
<a href="../../tag/java/index.html" class="tag-cloud-link tag-link-177 tag-link-position-20" style="font-size: 9.3125pt;" aria-label="java (3 items)">java</a>
<a href="../../tag/javascript/index.html" class="tag-cloud-link tag-link-215 tag-link-position-21" style="font-size: 10.40625pt;" aria-label="Javascript (4 items)">Javascript</a>
<a href="../../tag/linux/index.html" class="tag-cloud-link tag-link-221 tag-link-position-22" style="font-size: 8pt;" aria-label="Linux (2 items)">Linux</a>
<a href="../../tag/macromovers/index.html" class="tag-cloud-link tag-link-66 tag-link-position-23" style="font-size: 8pt;" aria-label="macromovers (2 items)">macromovers</a>
<a href="../../tag/mirah/index.html" class="tag-cloud-link tag-link-176 tag-link-position-24" style="font-size: 8pt;" aria-label="mirah (2 items)">mirah</a>
<a href="../../tag/ofc/index.html" class="tag-cloud-link tag-link-105 tag-link-position-25" style="font-size: 8pt;" aria-label="OFC (2 items)">OFC</a>
<a href="../../tag/open-flash-chart/index.html" class="tag-cloud-link tag-link-40 tag-link-position-26" style="font-size: 18.609375pt;" aria-label="open flash chart (27 items)">open flash chart</a>
<a href="../../tag/php/index.html" class="tag-cloud-link tag-link-216 tag-link-position-27" style="font-size: 9.3125pt;" aria-label="php (3 items)">php</a>
<a href="../../tag/plugin/index.html" class="tag-cloud-link tag-link-65 tag-link-position-28" style="font-size: 12.59375pt;" aria-label="plugin (7 items)">plugin</a>
<a href="../../tag/plugins/index.html" class="tag-cloud-link tag-link-218 tag-link-position-29" style="font-size: 9.3125pt;" aria-label="plugins (3 items)">plugins</a>
<a href="../../tag/prog/index.html" class="tag-cloud-link tag-link-35 tag-link-position-30" style="font-size: 9.3125pt;" aria-label="prog (3 items)">prog</a>
<a href="../../tag/project/index.html" class="tag-cloud-link tag-link-47 tag-link-position-31" style="font-size: 10.40625pt;" aria-label="project (4 items)">project</a>
<a href="../../tag/rails/index.html" class="tag-cloud-link tag-link-210 tag-link-position-32" style="font-size: 20.90625pt;" aria-label="rails (45 items)">rails</a>
<a href="../../tag/ruby/index.html" class="tag-cloud-link tag-link-211 tag-link-position-33" style="font-size: 22pt;" aria-label="ruby (57 items)">ruby</a>
<a href="../../tag/ruby-on-rails/index.html" class="tag-cloud-link tag-link-43 tag-link-position-34" style="font-size: 20.359375pt;" aria-label="ruby on rails (40 items)">ruby on rails</a>
<a href="../../tag/select-boxes/index.html" class="tag-cloud-link tag-link-57 tag-link-position-35" style="font-size: 8pt;" aria-label="select boxes (2 items)">select boxes</a>
<a href="../../tag/simple/index.html" class="tag-cloud-link tag-link-62 tag-link-position-36" style="font-size: 10.40625pt;" aria-label="simple (4 items)">simple</a>
<a href="../../tag/simplecms/index.html" class="tag-cloud-link tag-link-214 tag-link-position-37" style="font-size: 11.28125pt;" aria-label="SimpleCMS (5 items)">SimpleCMS</a>
<a href="../../tag/skizmo/index.html" class="tag-cloud-link tag-link-102 tag-link-position-38" style="font-size: 10.40625pt;" aria-label="skizmo (4 items)">skizmo</a>
<a href="../../tag/software/index.html" class="tag-cloud-link tag-link-48 tag-link-position-39" style="font-size: 8pt;" aria-label="software (2 items)">software</a>
<a href="../../tag/spreadsheet/index.html" class="tag-cloud-link tag-link-45 tag-link-position-40" style="font-size: 8pt;" aria-label="spreadsheet (2 items)">spreadsheet</a>
<a href="../../tag/tutorial/index.html" class="tag-cloud-link tag-link-50 tag-link-position-41" style="font-size: 16.75pt;" aria-label="tutorial (18 items)">tutorial</a>
<a href="../../tag/ubuntu/index.html" class="tag-cloud-link tag-link-150 tag-link-position-42" style="font-size: 8pt;" aria-label="ubuntu (2 items)">ubuntu</a>
<a href="../../tag/vin/index.html" class="tag-cloud-link tag-link-119 tag-link-position-43" style="font-size: 12.59375pt;" aria-label="VIN (7 items)">VIN</a>
<a href="../../tag/vin-api/index.html" class="tag-cloud-link tag-link-159 tag-link-position-44" style="font-size: 12.046875pt;" aria-label="vin api (6 items)">vin api</a>
<a href="../../tag/xml/index.html" class="tag-cloud-link tag-link-165 tag-link-position-45" style="font-size: 9.3125pt;" aria-label="xml (3 items)">xml</a></div>
</li>
<li id="categories-524386351" class="widget widget_categories"><h2 class="widgettitle">Topics</h2>

			<ul>
					<li class="cat-item cat-item-179"><a href="../android/index.html">Android</a>
</li>
	<li class="cat-item cat-item-118"><a href="../api/index.html">api</a>
</li>
	<li class="cat-item cat-item-67"><a href="../biking/index.html">biking</a>
</li>
	<li class="cat-item cat-item-37"><a href="../blog/index.html">blog</a>
</li>
	<li class="cat-item cat-item-27"><a href="../business/index.html">business</a>
</li>
	<li class="cat-item cat-item-32"><a href="../c-c/index.html">C / C++</a>
</li>
	<li class="cat-item cat-item-6"><a href="../development/index.html">development</a>
</li>
	<li class="cat-item cat-item-8"><a href="../games/index.html">games</a>
</li>
	<li class="cat-item cat-item-139"><a href="../graphics/index.html">Graphics</a>
</li>
	<li class="cat-item cat-item-3 current-cat"><a aria-current="page" href="index.html">Home</a>
</li>
	<li class="cat-item cat-item-7"><a href="../ie-hacks/index.html">IE hacks</a>
</li>
	<li class="cat-item cat-item-31"><a href="../javascript/index.html">Javascript</a>
</li>
	<li class="cat-item cat-item-149"><a href="../linux/index.html">Linux</a>
</li>
	<li class="cat-item cat-item-4"><a href="../me/index.html">me</a>
</li>
	<li class="cat-item cat-item-26"><a href="../open-flash-chart-graphs/index.html">Open Flash Chart Graphs</a>
</li>
	<li class="cat-item cat-item-29"><a href="../opengl/index.html">opengl</a>
</li>
	<li class="cat-item cat-item-36"><a href="../php/index.html">php</a>
</li>
	<li class="cat-item cat-item-51"><a href="../plugins/index.html">plugins</a>
</li>
	<li class="cat-item cat-item-14"><a href="../projects/index.html">projects</a>
</li>
	<li class="cat-item cat-item-5"><a href="../rails/index.html">rails</a>
</li>
	<li class="cat-item cat-item-10"><a href="../railsconf/index.html">railsconf</a>
</li>
	<li class="cat-item cat-item-9"><a href="../ruby/index.html">ruby</a>
</li>
	<li class="cat-item cat-item-28"><a href="../simplecms/index.html">SimpleCMS</a>
</li>
	<li class="cat-item cat-item-30"><a href="../tutorials/index.html">tutorials</a>
</li>
	<li class="cat-item cat-item-1"><a href="../uncategorized/index.html">Uncategorized</a>
</li>
			</ul>

			</li>

		<li id="recent-posts-2" class="widget widget_recent_entries">
		<h2 class="widgettitle">Recent Posts</h2>

		<ul>
											<li>
					<a href="../../index.html?p=57726">Dynamic Select Boxes &#8211; Ruby on Rails 3</a>
									</li>
											<li>
					<a href="../../index.html?p=57715">VIN API &#8211; Do you know about the complete data set?</a>
									</li>
											<li>
					<a href="../../index.html?p=57712">Using Ruby to read from a MagTek USB Card Reader</a>
									</li>
											<li>
					<a href="../../index.html?p=57708">Signature Pad in Linux</a>
									</li>
											<li>
					<a href="../../index.html?p=57705">Using HTTPI with Curb to do multipart file uploads with spnego</a>
									</li>
					</ul>

		</li>
<li id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widgettitle">Recent Comments</h2>
<ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">`Drew</span> on <a href="../../2012/08/11/dynamic-select-boxes-ruby-on-rails-3/comment-page-1/index.html#comment-24291">Dynamic Select Boxes &#8211; Ruby on Rails 3</a></li><li class="recentcomments"><span class="comment-author-link">Bardach</span> on <a href="../../2012/08/11/dynamic-select-boxes-ruby-on-rails-3/comment-page-1/index.html#comment-24290">Dynamic Select Boxes &#8211; Ruby on Rails 3</a></li><li class="recentcomments"><span class="comment-author-link">Bardach</span> on <a href="../../2012/08/11/dynamic-select-boxes-ruby-on-rails-3/comment-page-1/index.html#comment-24289">Dynamic Select Boxes &#8211; Ruby on Rails 3</a></li><li class="recentcomments"><span class="comment-author-link">Dar_bok</span> on <a href="../../2007/04/30/how-i-got-gta-san-andreas-to-work-with-a-crappy-os-vista/comment-page-2/index.html#comment-20844">How I got GTA San Andreas to Work with (a crappy OS) Vista</a></li><li class="recentcomments"><span class="comment-author-link">Anirudha Pendakur</span> on <a href="../../2012/07/25/using-httpi-with-curb-to-do-multipart-file-uploads-with-spnego/comment-page-1/index.html#comment-19583">Using HTTPI with Curb to do multipart file uploads with spnego</a></li></ul></li>
<li id="archives-2" class="widget widget_archive"><h2 class="widgettitle">Archives</h2>

			<ul>
					<li><a href='../../2012/08/index.html'>August 2012</a></li>
	<li><a href='../../2012/07/index.html'>July 2012</a></li>
	<li><a href='../../2012/05/index.html'>May 2012</a></li>
	<li><a href='../../2012/04/index.html'>April 2012</a></li>
	<li><a href='../../2012/03/index.html'>March 2012</a></li>
	<li><a href='../../2011/11/index.html'>November 2011</a></li>
	<li><a href='../../2011/10/index.html'>October 2011</a></li>
	<li><a href='../../2011/05/index.html'>May 2011</a></li>
	<li><a href='../../2011/03/index.html'>March 2011</a></li>
	<li><a href='../../2011/02/index.html'>February 2011</a></li>
	<li><a href='../../2011/01/index.html'>January 2011</a></li>
	<li><a href='../../2010/11/index.html'>November 2010</a></li>
	<li><a href='../../2010/09/index.html'>September 2010</a></li>
	<li><a href='../../2010/04/index.html'>April 2010</a></li>
	<li><a href='../../2010/02/index.html'>February 2010</a></li>
	<li><a href='../../2010/01/index.html'>January 2010</a></li>
	<li><a href='../../2009/12/index.html'>December 2009</a></li>
	<li><a href='../../2009/10/index.html'>October 2009</a></li>
	<li><a href='../../2009/09/index.html'>September 2009</a></li>
	<li><a href='../../2009/08/index.html'>August 2009</a></li>
	<li><a href='../../2009/04/index.html'>April 2009</a></li>
	<li><a href='../../2009/03/index.html'>March 2009</a></li>
	<li><a href='../../2009/02/index.html'>February 2009</a></li>
	<li><a href='../../2009/01/index.html'>January 2009</a></li>
	<li><a href='../../2008/10/index.html'>October 2008</a></li>
	<li><a href='../../2008/09/index.html'>September 2008</a></li>
	<li><a href='../../2008/08/index.html'>August 2008</a></li>
	<li><a href='../../2008/07/index.html'>July 2008</a></li>
	<li><a href='../../2008/04/index.html'>April 2008</a></li>
	<li><a href='../../2008/03/index.html'>March 2008</a></li>
	<li><a href='../../2008/02/index.html'>February 2008</a></li>
	<li><a href='../../2008/01/index.html'>January 2008</a></li>
	<li><a href='../../2007/12/index.html'>December 2007</a></li>
	<li><a href='../../2007/10/index.html'>October 2007</a></li>
	<li><a href='../../2007/09/index.html'>September 2007</a></li>
	<li><a href='../../2007/08/index.html'>August 2007</a></li>
	<li><a href='../../2007/06/index.html'>June 2007</a></li>
	<li><a href='../../2007/05/index.html'>May 2007</a></li>
	<li><a href='../../2007/04/index.html'>April 2007</a></li>
			</ul>

			</li>
	</ul>
    
    </div><!-- Sidebar -->

</div><!-- Rightcolumn -->



<br clear="all" />

<div id="footer">
<p>Copyright 2009, powered by <a href="http://www.wordpress.org/">WordPress</a></p>
</div><!-- Footer -->

</div><!-- Wrapper -->

<br clear="all" />
</div><!-- Container -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-3308745-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
</body>
</html>