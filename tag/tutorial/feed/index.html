<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>tutorial &#8211; PullMonkey Blog</title>
	<atom:link href="http://pullmonkey.com/tag/tutorial/feed/" rel="self" type="application/rss+xml" />
	<link>http://pullmonkey.com</link>
	<description></description>
	<lastBuildDate>Sun, 05 Aug 2012 00:10:47 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.6</generator>
	<item>
		<title>VIN API &#8211; Do you know about the complete data set?</title>
		<link>http://pullmonkey.com/2012/08/04/vin-api-do-you-know-about-the-complete-data-set/</link>
		
		<dc:creator><![CDATA[charlie]]></dc:creator>
		<pubDate>Sat, 04 Aug 2012 15:42:04 +0000</pubDate>
				<category><![CDATA[api]]></category>
		<category><![CDATA[business]]></category>
		<category><![CDATA[development]]></category>
		<category><![CDATA[projects]]></category>
		<category><![CDATA[rails]]></category>
		<category><![CDATA[ruby]]></category>
		<category><![CDATA[basic data set]]></category>
		<category><![CDATA[complete data set]]></category>
		<category><![CDATA[fun]]></category>
		<category><![CDATA[rich data]]></category>
		<category><![CDATA[tutorial]]></category>
		<category><![CDATA[VIN]]></category>
		<category><![CDATA[vin api]]></category>
		<guid isPermaLink="false">http://pullmonkey.com/?p=57715</guid>

					<description><![CDATA[Looking at our data trends for VIN API, we show about 15% of all requests are for the complete data set. It's the same price as the basic data set and rich with a ton of data. Check out the data set from this post over 1 and half years ago. On top of the [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>Looking at our data trends for <a href="http://vinapi.skizmo.com">VIN API</a>, we show about 15% of all requests are for the complete data set.  It's the same price as the basic data set and rich with a ton of data.</p>
<p>Check out the data set from <a href="http://pullmonkey.com/2011/01/13/vin-api-phase-ii/">this post over 1 and half years ago</a>.  On top of the basic data set's year, make and model, the complete data set comes with data like MSRP, MPG (city and highway), dealer invoice, gas tank size, etc.   </p>
<p>We get tons of hits for basic data, but at no additional charge we also provide the complete data set.  Just add a complete<br />
=> "true" to your request.   So simple and there's no performance hit. </p>
<p><script src="https://gist.github.com/854935.js?file=gistfile1.rb"></script></p>
<p>For more information, check out or <a href="http://vinapi.skizmo.com/examples">examples</a> and <a href="http://vinapi.skizmo.com/faq">faq</a>.</p>
<p>Enjoy!</p>
<p>Here's another look at the data elements from a comprehensive query:<br />
<script src="https://gist.github.com/778755.js?file=gistfile1.xml"></script></p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Hello Android &#8211; Pindah (with Mirah) Application</title>
		<link>http://pullmonkey.com/2011/11/13/hello-android-pindah-with-mirah-application/</link>
		
		<dc:creator><![CDATA[charlie]]></dc:creator>
		<pubDate>Sun, 13 Nov 2011 04:38:08 +0000</pubDate>
				<category><![CDATA[Android]]></category>
		<category><![CDATA[development]]></category>
		<category><![CDATA[ruby]]></category>
		<category><![CDATA[tutorials]]></category>
		<category><![CDATA[java]]></category>
		<category><![CDATA[mirah]]></category>
		<category><![CDATA[pindah]]></category>
		<category><![CDATA[tutorial]]></category>
		<guid isPermaLink="false">http://pullmonkey.com/?p=57638</guid>

					<description><![CDATA[Did you install the Android SDK / JDK, etc?  If not, start here - http://developer.android.com/sdk/index.html. If you're running 64-bit like me, make sure to install the ia32-libs, since the SDK is 32-bit. This is completely based on the Hello Android tutorial - I didn't really do a whole lot, but the hope is that this will help [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>Did you install the Android SDK / JDK, etc?  If not, start here - <a href="http://developer.android.com/sdk/index.html">http://developer.android.com/sdk/index.html</a>.<br />
If you're running 64-bit like me, make sure to install the ia32-libs, since the SDK is 32-bit.</p>
<p></p>
<p>This is completely based on <a href="http://developer.android.com/resources/tutorials/hello-world.html">the Hello Android tutorial</a> - I didn't really do a whole lot, but the hope is that this will help get some more ruby devs into android development with a simple how-to.<br />
</p>
<h3>Step 1 - Setup RVM with jruby</h3>
<p></p>
<p><strong>Note:</strong> RVM is awesome, if you don't use it or don't know about it - read more <a href="http://beginrescueend.com/">here</a>.</p>
<p></p>
<pre style="border:1px dashed black; padding: 4px; background-color: #ddd;">rvm install jruby
cd /path/to/your/android/pindah/mirah/project/dir/
# using your .rvmrc will trigger `rvm use jruby` when you cd into your project dir.
echo "rvm use jruby" &gt; .rvmrc
# this will make sure your .rvmrc is working, you should then be able 
# to use rvm info and see jruby
cd .</pre>
<p></p>
<h3>Step 2 - Install the mirah and pindah gems</h3>
<p></p>
<pre style="border:1px dashed black; padding: 4px; background-color: #ddd;"># too easy
gem install mirah pindah</pre>
<p></p>
<h3>Step 3 - Create your first pindah app</h3>
<p></p>
<pre style="border:1px dashed black; padding: 4px; background-color: #ddd;">pindah create com.example.android.hello_world
cd hello_world</pre>
<p></p>
<h3>Step 4 - Create your activity - HelloAndroid.mirah</h3>
<p></p>
<pre style="border:1px dashed black; padding: 4px; background-color: #ddd;"># from your project dir and inside your pindah app dir 
&lt;editor&gt; src/com/example/android/hello_world/HelloWorld.mirah</pre>
<p>This is the code I used:<br />
<script src="https://gist.github.com/1361596.js"> </script></p>
<p></p>
<h3>Step 5 - Setup your AndroidManifest.xml file</h3>
<p></p>
<p>This is where you define your app, version, name, etc, but more importantly for this example - what activity will handle your main intent.<br />
Mine looks like this:<br />
<script src="https://gist.github.com/1361597.js"> </script></p>
<p></p>
<h3>Step 6 - Install to your device</h3>
<p></p>
<pre style="border:1px dashed black; padding: 4px; background-color: #ddd;"># make sure a device is recognized  ... 
# and make sure adb is in your path (platform-tools in the SDK)
adb devices
rake install</pre>
<p></p>
<p></p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>VIN API &#8211; fair pricing model</title>
		<link>http://pullmonkey.com/2011/01/24/vin-api-fair-pricing-model/</link>
					<comments>http://pullmonkey.com/2011/01/24/vin-api-fair-pricing-model/#comments</comments>
		
		<dc:creator><![CDATA[charlie]]></dc:creator>
		<pubDate>Mon, 24 Jan 2011 22:02:39 +0000</pubDate>
				<category><![CDATA[api]]></category>
		<category><![CDATA[biking]]></category>
		<category><![CDATA[development]]></category>
		<category><![CDATA[me]]></category>
		<category><![CDATA[Open Flash Chart Graphs]]></category>
		<category><![CDATA[projects]]></category>
		<category><![CDATA[rails]]></category>
		<category><![CDATA[ruby]]></category>
		<category><![CDATA[SimpleCMS]]></category>
		<category><![CDATA[tutorials]]></category>
		<category><![CDATA[project]]></category>
		<category><![CDATA[ruby on rails]]></category>
		<category><![CDATA[tutorial]]></category>
		<category><![CDATA[VIN]]></category>
		<category><![CDATA[vin api]]></category>
		<guid isPermaLink="false">http://pullmonkey.com/?p=57570</guid>

					<description><![CDATA[It can't be a shock to any of you that after many months (wait - more like a full year) of running VIN API completely free and out-of-pocket, it is time to monetize. As I am sure most of you know, the back-end data is quite pricey. For example, a monthly subscription for a "lite" [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>It can't be a shock to any of you that after many months (wait - more like <a href="http://pullmonkey.com/2010/02/19/vin-api-vin-decoder-for-anyone/">a full year</a>) of running <a href="http://vinapi.skizmo.com">VIN API</a> completely free and out-of-pocket, it is time to monetize.  As I am sure most of you know, the back-end data is quite pricey. For example, a monthly subscription for a "lite" data set (your typical year, make, model, engine type, etc) at one of the better known distributors would run you about $260.00 a month for ~800 VIN decodings.  This is some <strong>very</strong> expensive data at 32.5 cents a VIN.  Some of you that use our API are running 50,000+ VINs through in a weekend, that is $16,000!  Wow!  </p>
<p> Ok, so what did we decide to do?  Well first, and most importantly, we decided to keep the service up and running; for a while there it was looking pretty bleak and if you take a second to look at the numbers (financially) you can understand why.  Anyway, to be as fair as possible, we did not feel this could be monetized as a subscription-based product, some months you need 500,000 VINs and some only a 1,000.  Looking at the data for year, we had many questions - what plan would you pick?  should the plan rollover it's unused decodings?  </p>
<p> We discovered a lot of complexity in the subscription model, so we decided to setup the pay as you go plan, where you buy your decodings at various bulk levels.  For instance, you could buy in groups of 1,000 or 10,000 or 100,000 such that you would realize savings on a price-per-VIN basis the larger the group you purchase.  There is no use policy either, so you can sit on the VINs for as long as you want, or you can even buy decodings the day (even the minute) before you need them.  No monthly credit card bill, no rollovers, just simple "buy what you need," and if you buy in bulk, you save. </p>
<p>Another consideration in doing this was having to maintain soft limits. For example, if the user purchases the 5,000 VINs per month plan, and the their site does well this month and they need 6000 VINs, should they have chosen the 10,000 VIN plan?  We didn't think so, we figured no hard limit, just soft limits, and after the soft limit is hit, we would charge the additional VINs at the current rate per VIN to the user's next month's bill.  We tried to explain this to a few current users that are helping us come up with reasonable rates and they were not all that thrilled about it.  So we had a problem, we did not want users to pay for what they did not need, but at the same time we did not want to cut users off in the middle of a month when they hit their limit.  That entire idea had to be scrapped and along with it went the idea behind the subscription plan itself.  We like it though, it's simple now - buy your decodings and use your decodings, we will email you if you are getting low and may want to add decodings to your account.</p>
<p>Subscription models are great for static resources and static services, but not a single one of our customers decodes the same number of VINs each month, so it just won't work.  So onward and upward, pay as you go and regardless of how the other API providers offer their service, we are excited to be a little different and lot cheaper as you will soon find out.</p>
<p>Enjoy!</p>
]]></content:encoded>
					
					<wfw:commentRss>http://pullmonkey.com/2011/01/24/vin-api-fair-pricing-model/feed/</wfw:commentRss>
			<slash:comments>6</slash:comments>
		
		
			</item>
		<item>
		<title>VIN API &#8211; PHP and XML Parsing</title>
		<link>http://pullmonkey.com/2011/01/17/vin-api-php-and-xml-parsing/</link>
					<comments>http://pullmonkey.com/2011/01/17/vin-api-php-and-xml-parsing/#comments</comments>
		
		<dc:creator><![CDATA[charlie]]></dc:creator>
		<pubDate>Mon, 17 Jan 2011 21:58:46 +0000</pubDate>
				<category><![CDATA[api]]></category>
		<category><![CDATA[development]]></category>
		<category><![CDATA[php]]></category>
		<category><![CDATA[projects]]></category>
		<category><![CDATA[tutorials]]></category>
		<category><![CDATA[parsing]]></category>
		<category><![CDATA[tutorial]]></category>
		<category><![CDATA[VIN]]></category>
		<category><![CDATA[vin api]]></category>
		<category><![CDATA[vin decoder]]></category>
		<category><![CDATA[vin decoding]]></category>
		<category><![CDATA[xml]]></category>
		<guid isPermaLink="false">http://pullmonkey.com/?p=57568</guid>

					<description><![CDATA[Thanks go to Michael for sharing his hard work with the rest of you VIN API and PHP developers 🙂 I hope this helps -]]></description>
										<content:encoded><![CDATA[<p>Thanks go to Michael for sharing his hard work with the rest of you VIN API and PHP developers <img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /><br />
I hope this helps -</p>
<p><script src="https://gist.github.com/783562.js?file=gistfile1.php"></script></p>
]]></content:encoded>
					
					<wfw:commentRss>http://pullmonkey.com/2011/01/17/vin-api-php-and-xml-parsing/feed/</wfw:commentRss>
			<slash:comments>22</slash:comments>
		
		
			</item>
		<item>
		<title>VIN API Examples for PHP and VB .NET</title>
		<link>http://pullmonkey.com/2011/01/13/vin-api-examples-for-php-and-vb-net/</link>
		
		<dc:creator><![CDATA[charlie]]></dc:creator>
		<pubDate>Thu, 13 Jan 2011 23:03:40 +0000</pubDate>
				<category><![CDATA[api]]></category>
		<category><![CDATA[development]]></category>
		<category><![CDATA[projects]]></category>
		<category><![CDATA[tutorials]]></category>
		<category><![CDATA[.net]]></category>
		<category><![CDATA[examples]]></category>
		<category><![CDATA[php]]></category>
		<category><![CDATA[tutorial]]></category>
		<category><![CDATA[VIN]]></category>
		<category><![CDATA[vin api]]></category>
		<guid isPermaLink="false">http://pullmonkey.com/?p=57566</guid>

					<description><![CDATA[A few of our VIN API customers have been kind enough to take our Ruby and curl examples and come up with .NET and PHP implementations. Here is a VB .NET example: And for PHP, you have this: Hope this helps and if you have examples for other programming languages, please let us know.]]></description>
										<content:encoded><![CDATA[<p>A few of our <a href="http://vinapi.skizmo.com">VIN API</a> customers have been kind enough to take our Ruby and curl examples and come up with .NET and PHP implementations.<br />
Here is a VB .NET example:<br />
<script src="https://gist.github.com/778789.js?file=gistfile1.bas"></script></p>
<p>And for PHP, you have this:<br />
<script src="https://gist.github.com/701379.js?file=vinapi.php"></script></p>
<p>Hope this helps and if you have examples for other programming languages, please let us know.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>2D Vector Graphics in Ruby / Rails</title>
		<link>http://pullmonkey.com/2010/11/19/2d-vector-graphics-in-ruby-rails/</link>
		
		<dc:creator><![CDATA[charlie]]></dc:creator>
		<pubDate>Fri, 19 Nov 2010 21:42:27 +0000</pubDate>
				<category><![CDATA[development]]></category>
		<category><![CDATA[Graphics]]></category>
		<category><![CDATA[plugins]]></category>
		<category><![CDATA[rails]]></category>
		<category><![CDATA[ruby]]></category>
		<category><![CDATA[tutorials]]></category>
		<category><![CDATA[2d]]></category>
		<category><![CDATA[2d graphics]]></category>
		<category><![CDATA[cairo]]></category>
		<category><![CDATA[gems]]></category>
		<category><![CDATA[graphis]]></category>
		<category><![CDATA[simple]]></category>
		<category><![CDATA[tutorial]]></category>
		<category><![CDATA[vector]]></category>
		<category><![CDATA[vector graphics]]></category>
		<guid isPermaLink="false">http://pullmonkey.com/?p=57544</guid>

					<description><![CDATA[I've been working with Cairo the last day or two to build a sign generator.   I chose Cairo because it seemed like a good fit for building a sign that had to be loss-less in detail and scalable, this rang vector graphics.   I found a few good examples here and there, but they were very [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>I've been working with <a title="Cairo Graphics" href="http://cairographics.org/" target="_blank">Cairo</a> the last day or two to build a sign generator.   I chose Cairo because it seemed like a good fit for building a sign that had to be loss-less in detail and scalable, this rang vector graphics.   I found a few good examples here and there, but they were very few and the documentation was not exactly ruby-friendly.</p>
<p>So I'm going to do a few posts about what I learned and I am going to start with the very basics, since all I could find were completed and elaborate images, way too complicated for a beginner.</p>
<p>Let's start with rotating a square box by 45 degrees.  Very simple.</p>
<p><img loading="lazy" class="alignnone size-full wp-image-57553" title="rotated_square" src="http://pullmonkey.com/wp-content/uploads/2010/11/rotated_square.png" alt="rotated_square" width="500" height="500" srcset="http://pullmonkey.com/wp-content/uploads/2010/11/rotated_square.png 500w, http://pullmonkey.com/wp-content/uploads/2010/11/rotated_square-150x150.png 150w, http://pullmonkey.com/wp-content/uploads/2010/11/rotated_square-300x300.png 300w" sizes="(max-width: 500px) 100vw, 500px" /></p>
<p><script src="https://gist.github.com/707183.js?file=simple_rotated_box_using_cairo.rb"></script></p>
<p>That's it, pretty simple, right?  </p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Open Flash Chart II and Rails 3</title>
		<link>http://pullmonkey.com/2010/09/07/open-flash-chart-ii-and-rails-3/</link>
					<comments>http://pullmonkey.com/2010/09/07/open-flash-chart-ii-and-rails-3/#comments</comments>
		
		<dc:creator><![CDATA[charlie]]></dc:creator>
		<pubDate>Tue, 07 Sep 2010 17:06:49 +0000</pubDate>
				<category><![CDATA[development]]></category>
		<category><![CDATA[Open Flash Chart Graphs]]></category>
		<category><![CDATA[projects]]></category>
		<category><![CDATA[rails]]></category>
		<category><![CDATA[ruby]]></category>
		<category><![CDATA[tutorials]]></category>
		<category><![CDATA[open flash chart]]></category>
		<category><![CDATA[plugin]]></category>
		<category><![CDATA[project]]></category>
		<category><![CDATA[ruby on rails]]></category>
		<category><![CDATA[tutorial]]></category>
		<guid isPermaLink="false">http://pullmonkey.com/?p=57537</guid>

					<description><![CDATA[Just a quick note about the Open Flash Chart II plugin for Rails and Rails 3.  Rails 3 did a 180 with regards to ERB tags and security.  Everything is now considered unsafe HTML.  So where we used to be able to do &#60;%= @graph %&#62;, we have to now do &#60;%= @graph.html_safe %&#62;. Thanks [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>Just a quick note about the Open Flash Chart II plugin for Rails and Rails 3.  Rails 3 did a 180 with regards to ERB tags and security.  Everything is now considered unsafe HTML.  So where we used to be able to do &lt;%= @graph %&gt;, we have to now do &lt;%= @graph.html_safe %&gt;.</p>
<p>Thanks go to <a href="http://github.com/pullmonkey/open_flash_chart/issues#issue/12">kendagriff</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>http://pullmonkey.com/2010/09/07/open-flash-chart-ii-and-rails-3/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>Blog plugin tutorial for Ruby on Rails</title>
		<link>http://pullmonkey.com/2009/02/11/blog-plugin-tutorial-for-ruby-on-rails/</link>
					<comments>http://pullmonkey.com/2009/02/11/blog-plugin-tutorial-for-ruby-on-rails/#comments</comments>
		
		<dc:creator><![CDATA[charlie]]></dc:creator>
		<pubDate>Wed, 11 Feb 2009 20:27:00 +0000</pubDate>
				<category><![CDATA[development]]></category>
		<category><![CDATA[Home]]></category>
		<category><![CDATA[rails]]></category>
		<category><![CDATA[tutorials]]></category>
		<category><![CDATA[plugins]]></category>
		<category><![CDATA[ruby]]></category>
		<category><![CDATA[ruby on rails]]></category>
		<category><![CDATA[tutorial]]></category>
		<guid isPermaLink="false">/2009/04/02/blog-plugin-tutorial-for-ruby-on-rails</guid>

					<description><![CDATA[Update: Bloggity does not require the Engines plugin to run if you are using Rails 2.3 or above (where the Engines plugin is baked in). -- Noted below by Bill. Update: Added the plugin to github - simple_blog. It is not production ready or really all that usable quite yet. Ok, so this a rant [&#8230;]]]></description>
										<content:encoded><![CDATA[<p><b>Update:</b> Bloggity does not require the Engines plugin to run if you are using Rails 2.3 or above (where the Engines plugin is baked in). -- Noted below by Bill.<br />
<br /><b>Update:</b> Added the plugin to github - <a href="http://github.com/pullmonkey/simple_blog/tree/master">simple_blog</a>.  It is not production ready or really all that usable quite yet.</p>
<p>Ok, so this a rant and I am sorry for that - but as simple as it is, I have been looking for a blog plugin lately.  The problem with the plugins I find is that I don't want to have to deal with the engines plugin or have the controllers, models, views, etc ... all extracted into my applications code.  I want it all external (hence a plugin) but let it be minimally configurable.</p>
<p>So in my recent search for a blog plugin for rails, I came across two that look very useful, but each with their flaws:<br />
1) <a href="http://github.com/vigetlabs/bloget/tree/master">bloget</a> - Everything is extracted to my code space.  Why?  Yes, I realize that it is most likely because I will want to override things, but get out of my space and keep to yourself!  <img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /> <br />
Provide me a way to override things that I would need to (there really shouldn't be too many), after all it is ruby.<br />
2) <a href="http://www.williambharding.com/blog/rails/bloggity-an-evolving-rails-blog-plugin/">bloggity</a> - Uses the engines plugin! I have nothing against the engines plugin (I think it is well written and documented) but for a freaking blog plugin?!?  Why? </p>
<p>Is there a third option?<br />
Glad you asked - yes, there is a third option - I hate to say it, but do it right!  There's your third option.<br />
Ok, but really, if there is a third option (a third plugin), I would love to hear about it.</p>
<p>Ok, so all that to lead up to a little plugin tutorial?  Well, it got your attention didn't it?</p>
<h1>Starting from scratch</h1>
<p>Ok, I guess I will start from scratch.  So let's get started.</p>
<h2>Creating a plugin</h2>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> ./script/generate plugin simple_blog<tt>
</tt>      create  vendor/plugins/simple_blog/lib<tt>
</tt>      create  vendor/plugins/simple_blog/tasks<tt>
</tt>      create  vendor/plugins/simple_blog/test<tt>
</tt>      create  vendor/plugins/simple_blog/<span class="co">README</span><tt>
</tt>      create  vendor/plugins/simple_blog/<span class="co">MIT</span>-<span class="co">LICENSE</span><tt>
</tt>      create  vendor/plugins/simple_blog/<span class="co">Rakefile</span><tt>
</tt>      create  vendor/plugins/simple_blog/init.rb<tt>
</tt>      create  vendor/plugins/simple_blog/install.rb<tt>
</tt>      create  vendor/plugins/simple_blog/uninstall.rb<tt>
</tt>      create  vendor/plugins/simple_blog/lib/simple_blog.rb<tt>
</tt>      create  vendor/plugins/simple_blog/tasks/simple_blog_tasks.rake<tt>
</tt>      create  vendor/plugins/simple_blog/test/simple_blog_test.rb<tt>
</tt>      create  vendor/plugins/simple_blog/test/test_helper.rb<tt>
</tt></pre>
</td>
</tr>
</table>
<h2>Create the app directories for your plugin</h2>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> cd vendor/plugins/simple_blog/  <span class="c"># pretty important</span><tt>
</tt>pullmonkey<span class="er">$</span> ls<tt>
</tt>init.rb  install.rb  lib  <span class="co">MIT</span>-<span class="co">LICENSE</span>  <span class="co">Rakefile</span>  <span class="co">README</span>  tasks  test  uninstall.rb<tt>
</tt>pullmonkey<span class="er">$</span> mkdir app<tt>
</tt>pullmonkey<span class="er">$</span> mkdir -p app/models<tt>
</tt>pullmonkey<span class="er">$</span> mkdir -p app/controllers<tt>
</tt>pullmonkey<span class="er">$</span> mkdir -p app/views<tt>
</tt>pullmonkey<span class="er">$</span> mkdir -p app/helpers<tt>
</tt>pullmonkey<span class="er">$</span> ls app/<tt>
</tt>controllers  helpers  models  views<tt>
</tt></pre>
</td>
</tr>
</table>
<p>Well that was easy, so let's move on.</p>
<p></p>
<h1>Models, Views, Controllers and Helpers - Living as one in my plugin</h1>
<h2>Models</h2>
<p>Ok, so we have a clear path for where our models, controllers, views, and helpers should live, right?<br />
For simplicity, let's just have a post and comment model - you have all seen this a billion times.</p>
<h3>Models: vendor/plugins/simple_blog/app/models/post.rb</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><span class="r">class</span> <span class="cl">Post</span> &lt; <span class="co">ActiveRecord</span>::<span class="co">Base</span><tt>
</tt>  has_many <span class="sy">:comments</span><tt>
</tt><span class="r">end</span></pre>
</td>
</tr>
</table>
<h3>Models: vendor/plugins/simple_blog/app/models/comment.rb</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><span class="r">class</span> <span class="cl">Comment</span> &lt; <span class="co">ActiveRecord</span>::<span class="co">Base</span><tt>
</tt>  belongs_to <span class="sy">:post</span><tt>
</tt><span class="r">end</span></pre>
</td>
</tr>
</table>
<p>And there you have it.<br />
So what do you do to tell your rails application about your models?<br />
Simple - inside vendor/plugins/simple_blog/init.rb - add these lines</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">model_path = <span class="co">File</span>.join(directory, <span class="s"><span class="dl">'</span><span class="k">app</span><span class="dl">'</span></span>, <span class="s"><span class="dl">'</span><span class="k">models</span><span class="dl">'</span></span>)<tt>
</tt><span class="gv">$LOAD_PATH</span> &lt;&lt; model_path<tt>
</tt><span class="co">ActiveSupport</span>::<span class="co">Dependencies</span>.load_paths &lt;&lt; model_path</pre>
</td>
</tr>
</table>
<h3>Ok, so let's test it out.</h3>
<p>Step 1 - we will need some default migrations for the model to use.<br />
Post migration:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> ./script/generate migration post<tt>
</tt><span class="c"># This is what mine looks like</span><tt>
</tt><span class="r">class</span> <span class="cl">Post</span> &lt; <span class="co">ActiveRecord</span>::<span class="co">Migration</span><tt>
</tt>  <span class="r">def</span> <span class="pc">self</span>.up<tt>
</tt>    create_table <span class="sy">:posts</span> <span class="r">do</span> |t|<tt>
</tt>      t.string <span class="sy">:subject</span><tt>
</tt>      t.text   <span class="sy">:body</span><tt>
</tt>      t.timestamps<tt>
</tt>    <span class="r">end</span><tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="pc">self</span>.down<tt>
</tt>    drop_table <span class="sy">:posts</span><tt>
</tt>  <span class="r">end</span><tt>
</tt><span class="r">end</span></pre>
</td>
</tr>
</table>
<p>And then the comment migration:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> ./script/generate migration comment<tt>
</tt><span class="c"># This is what mine looks like</span><tt>
</tt>  <span class="r">def</span> <span class="pc">self</span>.up<tt>
</tt>    create_table <span class="sy">:comments</span> <span class="r">do</span> |t|<tt>
</tt>      t.string <span class="sy">:username</span><tt>
</tt>      t.text   <span class="sy">:body</span><tt>
</tt>      t.references <span class="sy">:post</span><tt>
</tt>      t.timestamps<tt>
</tt>    <span class="r">end</span><tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="pc">self</span>.down<tt>
</tt>    drop_table <span class="sy">:comments</span><tt>
</tt>  <span class="r">end</span></pre>
</td>
</tr>
</table>
<p>Run the migrations:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> rake db<span class="sy">:migrate</span></pre>
</td>
</tr>
</table>
<p>That was all just setup - now for the actual testing:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> ./script/console<tt>
</tt><span class="co">Loading</span> development environment (<span class="co">Rails</span> <span class="fl">2.2</span>.<span class="i">2</span>)<tt>
</tt>&gt;&gt; <span class="co">Comment</span>.new<tt>
</tt>=&gt; <span class="c">#&lt;Comment id: nil, username: nil, body: nil, post_id: nil, created_at: nil, updated_at: nil&gt;</span><tt>
</tt>&gt;&gt; <span class="co">Post</span>.new<tt>
</tt>=&gt; <span class="c">#&lt;Post id: nil, subject: nil, body: nil, created_at: nil, updated_at: nil&gt;</span><tt>
</tt>&gt;&gt; p = <span class="co">Post</span>.create(<span class="sy">:subject</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">Test 1</span><span class="dl">&quot;</span></span>, <span class="sy">:body</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">My Body</span><span class="dl">&quot;</span></span>)<tt>
</tt>=&gt; <span class="c">#&lt;Post id: 1, subject: &quot;Test 1&quot;, body: &quot;My Body&quot;, created_at: &quot;2009-02-11 19:09:25&quot;, updated_at: &quot;2009-02-11 19:09:25&quot;&gt;</span><tt>
</tt>&gt;&gt; p.body<tt>
</tt>=&gt; <span class="s"><span class="dl">&quot;</span><span class="k">My Body</span><span class="dl">&quot;</span></span><tt>
</tt>&gt;&gt; p.subject<tt>
</tt>=&gt; <span class="s"><span class="dl">&quot;</span><span class="k">Test 1</span><span class="dl">&quot;</span></span><tt>
</tt>&gt;&gt; p.new_record?<tt>
</tt>=&gt; <span class="pc">false</span><tt>
</tt>&gt;&gt; p.comments<tt>
</tt>=&gt; []<tt>
</tt>&gt;&gt; c = <span class="co">Comment</span>.create(<span class="sy">:username</span> =&gt; <span class="s"><span class="dl">'</span><span class="k">pullmonkey</span><span class="dl">'</span></span>, <span class="sy">:body</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">this is simple</span><span class="dl">&quot;</span></span>)<tt>
</tt>=&gt; <span class="c">#&lt;Comment id: 1, username: &quot;pullmonkey&quot;, body: &quot;this is simple&quot;, post_id: nil, created_at: &quot;2009-02-11 19:10:01&quot;, updated_at: &quot;2009-02-11 19:10:01&quot;&gt;</span><tt>
</tt>&gt;&gt; p.comments &lt;&lt; c<tt>
</tt>=&gt; [<span class="c">#&lt;Comment id: 1, username: &quot;pullmonkey&quot;, body: &quot;this is simple&quot;, post_id: 1, created_at: &quot;2009-02-11 19:10:01&quot;, updated_at: &quot;2009-02-11 19:10:06&quot;&gt;]</span><tt>
</tt>&gt;&gt; p.comments<tt>
</tt>=&gt; [<span class="c">#&lt;Comment id: 1, username: &quot;pullmonkey&quot;, body: &quot;this is simple&quot;, post_id: 1, created_at: &quot;2009-02-11 19:10:01&quot;, updated_at: &quot;2009-02-11 19:10:06&quot;&gt;]</span><tt>
</tt>&gt;&gt; <span class="co">Post</span>.first.comments<tt>
</tt>=&gt; [<span class="c">#&lt;Comment id: 1, username: &quot;pullmonkey&quot;, body: &quot;this is simple&quot;, post_id: 1, created_at: &quot;2009-02-11 19:10:01&quot;, updated_at: &quot;2009-02-11 19:10:06&quot;&gt;]</span></pre>
</td>
</tr>
</table>
<p>That's probably good enough.  We have a working model and relationships.  The best part is that all the code is still in the plugin.<br />
What does my code space contain?</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> ls -l app/**<tt>
</tt>app/controllers:<tt>
</tt>total <span class="i">4</span><tt>
</tt>-rw-rw-r--  <span class="i">1</span> pullmonkey pullmonkey <span class="i">720</span> <span class="co">Feb</span> <span class="i">11</span> <span class="i">11</span>:<span class="i">00</span> application.rb<tt>
</tt><tt>
</tt>app/helpers:<tt>
</tt>total <span class="i">4</span><tt>
</tt>-rw-rw-r--  <span class="i">1</span> pullmonkey pullmonkey <span class="i">115</span> <span class="co">Feb</span> <span class="i">11</span> <span class="i">11</span>:<span class="i">00</span> application_helper.rb<tt>
</tt><tt>
</tt>app/models:<tt>
</tt>total <span class="i">0</span><tt>
</tt><tt>
</tt>app/views:<tt>
</tt>total <span class="i">4</span><tt>
</tt>drwxrwxr-x  <span class="i">2</span> pullmonkey pullmonkey <span class="i">4096</span> <span class="co">Feb</span> <span class="i">11</span> <span class="i">11</span>:<span class="i">00</span> layouts</pre>
</td>
</tr>
</table>
<p>
Just the defaults - neat <img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<h2>Controllers</h2>
<p>In much the same way as models, we can easily use controllers from our plugin.  No extracting, no engines plugin.</p>
<h3>Controllers: vendor/plugins/simple_blog/app/controllers/posts_controller.rb</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><span class="r">class</span> <span class="cl">PostsController</span> &lt; <span class="co">ApplicationController</span><tt>
</tt>  <span class="r">def</span> <span class="fu">index</span><tt>
</tt>    <span class="iv">@posts</span> = <span class="co">Post</span>.all<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">show</span><tt>
</tt>    <span class="iv">@post</span> = <span class="co">Post</span>.find(params[<span class="sy">:id</span>])<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">new</span><tt>
</tt>    <span class="iv">@post</span> = <span class="co">Post</span>.new<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">create</span><tt>
</tt>    <span class="r">if</span> <span class="iv">@post</span> = <span class="co">Post</span>.create(params[<span class="sy">:post</span>])<tt>
</tt>      flash[<span class="sy">:notice</span>] = <span class="s"><span class="dl">&quot;</span><span class="k">Post Created</span><span class="dl">&quot;</span></span><tt>
</tt>      redirect_to <span class="sy">:action</span> =&gt; <span class="s"><span class="dl">'</span><span class="k">index</span><span class="dl">'</span></span><tt>
</tt>    <span class="r">else</span><tt>
</tt>      flash[<span class="sy">:error</span>] = <span class="s"><span class="dl">&quot;</span><span class="k">Post Not Created</span><span class="dl">&quot;</span></span><tt>
</tt>      render <span class="sy">:action</span> =&gt; <span class="s"><span class="dl">'</span><span class="k">new</span><span class="dl">'</span></span><tt>
</tt>    <span class="r">end</span><tt>
</tt>  <span class="r">end</span><tt>
</tt>  <span class="c">#.... more code</span><tt>
</tt><span class="r">end</span></pre>
</td>
</tr>
</table>
<h3>Controllers: vendor/plugins/simple_blog/app/controllers/comments_controller.rb</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><span class="r">class</span> <span class="cl">CommentsController</span> &lt; <span class="co">ApplicationController</span><tt>
</tt>  <span class="r">def</span> <span class="fu">index</span><tt>
</tt>    <span class="iv">@comments</span> = <span class="co">Comment</span>.find_all_by_post_id(params[<span class="sy">:post_id</span>])<tt>
</tt>  <span class="r">end</span><tt>
</tt>  <span class="c">#.... more code</span><tt>
</tt><span class="r">end</span></pre>
</td>
</tr>
</table>
<p>Now, to register the controllers, add the following to vendor/plugins/simple_blog/init.rb:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">controller_path = <span class="co">File</span>.join(directory, <span class="s"><span class="dl">'</span><span class="k">app</span><span class="dl">'</span></span>, <span class="s"><span class="dl">'</span><span class="k">controllers</span><span class="dl">'</span></span>)<tt>
</tt><span class="gv">$LOAD_PATH</span> &lt;&lt; controller_path<tt>
</tt><span class="co">ActiveSupport</span>::<span class="co">Dependencies</span>.load_paths &lt;&lt; controller_path<tt>
</tt>config.controller_paths &lt;&lt; controller_path</pre>
</td>
</tr>
</table>
<p>Ok, before we can really test this we will need to do the views, so keep going.</p>
<p></p>
<h2>Views</h2>
<p>Create your view directories:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">pullmonkey<span class="er">$</span> mkdir -p app/views/posts<tt>
</tt>pullmonkey<span class="er">$</span> mkdir -p app/views/comments</pre>
</td>
</tr>
</table>
<p>Create your views:<br />
For this example, I will just create one, then we will test it.</p>
<h3>Views: vendor/plugins/simple_blog/app/views/posts/index.html.erb</h3>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }">&lt;h1&gt;<span class="co">Posts</span>&lt;<span class="rx"><span class="dl">/</span><span class="k">h1&gt;<tt>
</tt>&lt;% @posts.each do |post| -%&gt;<tt>
</tt>  &lt;h2&gt;&lt;%= h post.subject %&gt;&lt;</span><span class="dl">/</span></span>h2&gt;<tt>
</tt>  &lt;%= post.body <span class="s"><span class="dl">%&gt;</span><span class="k"><tt>
</tt>  &lt;h3</span><span class="dl">&gt;</span></span><span class="co">Comments</span>&lt;<span class="rx"><span class="dl">/</span><span class="k">h3&gt;<tt>
</tt>  &lt;% post.comments.each do |comment| -%&gt;<tt>
</tt>    &lt;b&gt;by &lt;%= comment.username %&gt;&lt;</span><span class="dl">/</span></span>b&gt;&lt;br/&gt;<tt>
</tt>    &lt;%= comment.body <span class="s"><span class="dl">%&gt;</span><span class="k">&lt;br/</span><span class="dl">&gt;</span></span><tt>
</tt>    &lt;br/&gt;<tt>
</tt>  &lt;% <span class="r">end</span> -<span class="s"><span class="dl">%&gt;</span><span class="k"><tt>
</tt>&lt;% end -%</span><span class="dl">&gt;</span></span></pre>
</td>
</tr>
</table>
<h3>Append your view paths:</h3>
<p>If you don't do this next step, you will very likely see an error message like this:<br />
Missing template posts/index.erb in view path /home/pullmonkey/rails_projects/simple_blog/app/views:</p>
<p>So let's add it. <br />
There are at least two ways to do this.  1) Added to your controllers individually or 2) Add to application controller globally.<br />
I prefer the less obtrusive, so let's go with number 1.<br />
For this test, we will just work with the posts controller, so open it up again and add this line:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><span class="pc">self</span>.append_view_path(<span class="co">File</span>.join(<span class="co">File</span>.dirname(<span class="pc">__FILE__</span>), <span class="s"><span class="dl">'</span><span class="k">..</span><span class="dl">'</span></span>, <span class="s"><span class="dl">'</span><span class="k">views</span><span class="dl">'</span></span>))</pre>
</td>
</tr>
</table>
<p>So your file should look like this now:</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><span class="r">class</span> <span class="cl">PostsController</span> &lt; <span class="co">ApplicationController</span><tt>
</tt>  <span class="pc">self</span>.append_view_path(<span class="co">File</span>.join(<span class="co">File</span>.dirname(<span class="pc">__FILE__</span>), <span class="s"><span class="dl">'</span><span class="k">..</span><span class="dl">'</span></span>, <span class="s"><span class="dl">'</span><span class="k">views</span><span class="dl">'</span></span>))<tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">index</span><tt>
</tt>    <span class="iv">@posts</span> = <span class="co">Post</span>.all<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">show</span><tt>
</tt>    <span class="iv">@post</span> = <span class="co">Post</span>.find(params[<span class="sy">:id</span>])<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">new</span><tt>
</tt>    <span class="iv">@post</span> = <span class="co">Post</span>.new<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">create</span><tt>
</tt>    <span class="r">if</span> <span class="iv">@post</span> = <span class="co">Post</span>.create(params[<span class="sy">:post</span>])<tt>
</tt>      flash[<span class="sy">:notice</span>] = <span class="s"><span class="dl">&quot;</span><span class="k">Post Created</span><span class="dl">&quot;</span></span><tt>
</tt>      redirect_to <span class="sy">:action</span> =&gt; <span class="s"><span class="dl">'</span><span class="k">index</span><span class="dl">'</span></span><tt>
</tt>    <span class="r">else</span><tt>
</tt>      flash[<span class="sy">:error</span>] = <span class="s"><span class="dl">&quot;</span><span class="k">Post Not Created</span><span class="dl">&quot;</span></span><tt>
</tt>      render <span class="sy">:action</span> =&gt; <span class="s"><span class="dl">'</span><span class="k">new</span><span class="dl">'</span></span><tt>
</tt>    <span class="r">end</span><tt>
</tt>  <span class="r">end</span><tt>
</tt><span class="r">end</span></pre>
</td>
</tr>
</table>
<h3>Time to test</h3>
<p>Start your web server - ./script/server<br />
Browse to http://localhost:3000/posts<br />
You should see the post we created up above via Post.create(...) and its associated comment that we also created above.</p>
<p><b>Note:</b>Feel free to overwrite any of the views.  This can be done simply for the posts index view by creating the same file under RAILS_ROOT/app/views/posts/index.html.erb and doing what you'd like.</p>
<p></p>
<h1>That's it for part 1</h1>
<p>Ok, so that's part 1.  The goal was to keep everything external and I think we succeeded (aside from migrations).<br />
No offense to those that use engines or extract files into one's application's space, we all have our ways - the above is what I prefer.</p>
<p>
Part 2 will consist mainly of filling this out a bit more and further discussion on adding helpers, routes and migrations to your plugin without interfering in the application's code space.</p>
<p>As always, have fun and good luck!</p>
]]></content:encoded>
					
					<wfw:commentRss>http://pullmonkey.com/2009/02/11/blog-plugin-tutorial-for-ruby-on-rails/feed/</wfw:commentRss>
			<slash:comments>11</slash:comments>
		
		
			</item>
		<item>
		<title>Open Flash Chart II &#8211; multi-bar graph with tooltips</title>
		<link>http://pullmonkey.com/2008/07/28/open-flash-chart-ii-multi-bar-graph-with-tooltips/</link>
					<comments>http://pullmonkey.com/2008/07/28/open-flash-chart-ii-multi-bar-graph-with-tooltips/#comments</comments>
		
		<dc:creator><![CDATA[charlie]]></dc:creator>
		<pubDate>Mon, 28 Jul 2008 16:07:00 +0000</pubDate>
				<category><![CDATA[development]]></category>
		<category><![CDATA[Home]]></category>
		<category><![CDATA[Open Flash Chart Graphs]]></category>
		<category><![CDATA[projects]]></category>
		<category><![CDATA[rails]]></category>
		<category><![CDATA[ruby]]></category>
		<category><![CDATA[tutorials]]></category>
		<category><![CDATA[charts]]></category>
		<category><![CDATA[flash]]></category>
		<category><![CDATA[graphs]]></category>
		<category><![CDATA[open flash chart]]></category>
		<category><![CDATA[ruby on rails]]></category>
		<category><![CDATA[tutorial]]></category>
		<guid isPermaLink="false">/2008/07/28/open-flash-chart-ii-multi-bar-graph-with-tooltips</guid>

					<description><![CDATA[Just got a comment that says tooltips are not working properly, so I decided to do an example for you guys (and gals). This example is based on teethgrinder's tooltip example. Here is the graph we are after in this example: More Open Flash Chart II examples. And here is the code (the controller): NOTE: [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>Just got a <a href="http://pullmonkey.com/2008/7/23/open-flash-chart-ii-plugin-for-ruby-on-rails-ofc2#comment-46145">comment that says tooltips are not working properly</a>, so I decided to do an example for you guys (and gals).  This example is based on <a href="http://teethgrinder.co.uk/open-flash-chart-2/tooltip.php">teethgrinder's tooltip example</a>.  </p>
<p>Here is the graph we are after in this example:</p>
<p><script type="text/javascript" src="/projects/javascripts/swfobject.js"></script></p>
<div id="flash_content_1217006545.440331"></div>
<p>    <script type="text/javascript">
      swfobject.embedSWF("/projects/open-flash-chart.swf", "flash_content_1217006545.440331", "600", "300", "9.0.0", "expressInstall.swf",{"data-file":"%2Fprojects%2Fopen_flash_chart2%2Fmulti_bar_tooltip"});
    </script><br />
    <noscript><br />
      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="600" height="300" id="chart_1217006545.44007" align="middle"><param name="allowScriptAccess" value="sameDomain" /><param name="movie" value="/projects/open-flash-chart.swf?data=%2Fprojects%2Fopen_flash_chart2%2Fmulti_bar_tooltip" /><param name="quality" value="high" /><param name="bgcolor" value="#FFFFFF" /><embed src="/projects/open-flash-chart.swf?data=%2Fprojects%2Fopen_flash_chart2%2Fmulti_bar_tooltip" quality="high" bgcolor="#FFFFFF" width="600" height="300" name="chart_1217006545.44007" align="middle"  allowScriptAccess="sameDomain" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" id="chart_1217006545.44007" /></object><br />
    </noscript></p>
<p><a href="http://pullmonkey.com/projects/open_flash_chart2">More Open Flash Chart II examples.</a></p>
<p>And here is the code (the controller):<br />
<b>NOTE: You will need the latest plugin and open-flash-chart.swf (as of this article) for the tooltips to register properly.</b></p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt>28<tt>
</tt>29<tt>
</tt><strong>30</strong><tt>
</tt>31<tt>
</tt>32<tt>
</tt>33<tt>
</tt>34<tt>
</tt><strong>35</strong><tt>
</tt>36<tt>
</tt>37<tt>
</tt>38<tt>
</tt>39<tt>
</tt><strong>40</strong><tt>
</tt>41<tt>
</tt>42<tt>
</tt>43<tt>
</tt>44<tt>
</tt><strong>45</strong><tt>
</tt>46<tt>
</tt>47<tt>
</tt>48<tt>
</tt>49<tt>
</tt><strong>50</strong><tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="r">class</span> <span class="cl">TestItController</span> &lt; <span class="co">ApplicationController</span><tt>
</tt>  <span class="r">def</span> <span class="fu">index</span><tt>
</tt>    <span class="iv">@graph</span> = open_flash_chart_object(<span class="i">600</span>,<span class="i">300</span>,<span class="s"><span class="dl">&quot;</span><span class="k">/test_it/graph_code</span><span class="dl">&quot;</span></span>)<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">graph_code</span><tt>
</tt>    <span class="c"># based on this example - http://teethgrinder.co.uk/open-flash-chart-2/tooltip.php</span><tt>
</tt>    title = <span class="co">Title</span>.new(<span class="s"><span class="dl">&quot;</span><span class="k">MultiBar Tooltip</span><span class="dl">&quot;</span></span>)<tt>
</tt><tt>
</tt>    bar = <span class="co">Bar</span>.new<tt>
</tt>    bar.values  = [<span class="i">9</span>,<span class="i">8</span>,<span class="i">7</span>,<span class="i">6</span>,<span class="i">5</span>,<span class="i">4</span>,<span class="i">3</span>,<span class="i">2</span>,<span class="i">1</span>]<tt>
</tt>    bar.tooltip = <span class="s"><span class="dl">&quot;</span><span class="k">Title Bar l&lt;br&gt;val = #val#</span><span class="dl">&quot;</span></span><tt>
</tt>    bar.colour  = <span class="s"><span class="dl">'</span><span class="k">#47092E</span><span class="dl">'</span></span><tt>
</tt><tt>
</tt>    <span class="c"># NOTE: you can use obj.variable=() or obj.set_variable() interchangeably</span><tt>
</tt><tt>
</tt>    bar2 = <span class="co">Bar</span>.new<tt>
</tt>    bar2.set_tooltip(<span class="s"><span class="dl">&quot;</span><span class="k">Spoon {#val#}&lt;br&gt;Title Bar 2</span><span class="dl">&quot;</span></span>)<tt>
</tt>    bar2.set_colour(<span class="s"><span class="dl">'</span><span class="k">#CC2A43</span><span class="dl">'</span></span>)<tt>
</tt><tt>
</tt>    vals = [<span class="i">1</span>,<span class="i">2</span>,<span class="i">3</span>,<span class="i">4</span>]<tt>
</tt><tt>
</tt>    tmp = <span class="co">BarValue</span>.new(<span class="i">5</span>)<tt>
</tt>    tmp.set_colour(<span class="s"><span class="dl">'</span><span class="k">#000000</span><span class="dl">'</span></span>)<tt>
</tt>    tmp.set_tooltip(<span class="s"><span class="dl">&quot;</span><span class="k">Spoon {#val#}&lt;br&gt;Title Bar 2&lt;br&gt;Override bar 2 tooltip&lt;br&gt;Special data point</span><span class="dl">&quot;</span></span>)<tt>
</tt>    vals &lt;&lt; tmp<tt>
</tt>    vals &lt;&lt; [<span class="i">6</span>,<span class="i">7</span>,<span class="i">8</span>,<span class="i">9</span>]<tt>
</tt>    vals = vals.flatten<tt>
</tt><tt>
</tt>    bar2.values = vals<tt>
</tt><tt>
</tt>    t = <span class="co">Tooltip</span>.new<tt>
</tt>    t.set_shadow(<span class="pc">false</span>)<tt>
</tt>    t.stroke = <span class="i">5</span><tt>
</tt>    t.colour = <span class="s"><span class="dl">'</span><span class="k">#6E604F</span><span class="dl">'</span></span><tt>
</tt>    t.set_background_colour(<span class="s"><span class="dl">&quot;</span><span class="k">#BDB396</span><span class="dl">&quot;</span></span>)<tt>
</tt>    t.set_title_style(<span class="s"><span class="dl">&quot;</span><span class="k">{font-size: 14px; color: #CC2A43;}</span><span class="dl">&quot;</span></span>)<tt>
</tt>    t.set_body_style(<span class="s"><span class="dl">&quot;</span><span class="k">{font-size: 10px; font-weight: bold; color: #000000;}</span><span class="dl">&quot;</span></span>)<tt>
</tt><tt>
</tt>    chart = <span class="co">OpenFlashChart</span>.new<tt>
</tt>    chart.title = title<tt>
</tt>    chart.add_element(bar)<tt>
</tt>    chart.add_element(bar2)<tt>
</tt>    chart.set_tooltip(t)<tt>
</tt><tt>
</tt>    render <span class="sy">:text</span> =&gt; chart.to_s<tt>
</tt>  <span class="r">end</span><tt>
</tt><span class="r">end</span><tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
<p>
And in your view (index.html.erb):</p>
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>&lt;script type=<span class="s"><span class="dl">&quot;</span><span class="k">text/javascript</span><span class="dl">&quot;</span></span> src=<span class="s"><span class="dl">&quot;</span><span class="k">/javascripts/swfobject.js</span><span class="dl">&quot;</span></span>&gt;&lt;<span class="rx"><span class="dl">/</span><span class="k">script&gt;<tt>
</tt>&lt;%= @graph %&gt;<tt>
</tt><tt>
</tt></span></span></pre>
</td>
</tr>
</table>
<p>Good Luck!</p>
<p></p>
]]></content:encoded>
					
					<wfw:commentRss>http://pullmonkey.com/2008/07/28/open-flash-chart-ii-multi-bar-graph-with-tooltips/feed/</wfw:commentRss>
			<slash:comments>32</slash:comments>
		
		
			</item>
		<item>
		<title>Using a database to populate an Open Flash Chart graph</title>
		<link>http://pullmonkey.com/2008/07/25/using-a-database-to-populate-an-open-flash-chart-graph/</link>
					<comments>http://pullmonkey.com/2008/07/25/using-a-database-to-populate-an-open-flash-chart-graph/#comments</comments>
		
		<dc:creator><![CDATA[charlie]]></dc:creator>
		<pubDate>Fri, 25 Jul 2008 16:55:00 +0000</pubDate>
				<category><![CDATA[development]]></category>
		<category><![CDATA[Home]]></category>
		<category><![CDATA[Open Flash Chart Graphs]]></category>
		<category><![CDATA[projects]]></category>
		<category><![CDATA[rails]]></category>
		<category><![CDATA[ruby]]></category>
		<category><![CDATA[tutorials]]></category>
		<category><![CDATA[charts]]></category>
		<category><![CDATA[flash]]></category>
		<category><![CDATA[graphs]]></category>
		<category><![CDATA[open flash chart]]></category>
		<category><![CDATA[ruby on rails]]></category>
		<category><![CDATA[tutorial]]></category>
		<guid isPermaLink="false">/2008/07/25/using-a-database-to-populate-an-open-flash-chart-graph</guid>

					<description><![CDATA[Just got Archie Smuts comment asking how to populate a Open Flash Chart graph using results from a database. Just for reference, the code that follows represents this graph: Examples for version 2 are here. Using the new version of Open Flash Chart, here is an example for you to follow: Start a rails app [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>Just got <a href="http://pullmonkey.com/2008/7/23/open-flash-chart-ii-plugin-for-ruby-on-rails-ofc2#comment-45837">Archie Smuts comment asking how to populate a Open Flash Chart graph using results from a database</a>. </p>
<p>Just for reference, the code that follows represents this graph:<br />
<script type="text/javascript" src="/projects/javascripts/swfobject.js"></script></p>
<div id="flash_content_1217004188.58147"></div>
<p>    <script type="text/javascript">
      swfobject.embedSWF("/projects/open-flash-chart.swf", "flash_content_1217004188.58147", "600", "300", "9.0.0", "expressInstall.swf",{"data-file":"%2Fprojects%2Fopen_flash_chart2%2Fusing_database"});
    </script><br />
    <noscript><br />
      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="600" height="300" id="chart_1217004188.58145" align="middle"><param name="allowScriptAccess" value="sameDomain" /><param name="movie" value="/projects/open-flash-chart.swf?data=%2Fprojects%2Fopen_flash_chart2%2Fusing_database" /><param name="quality" value="high" /><param name="bgcolor" value="#FFFFFF" /><embed src="/projects/open-flash-chart.swf?data=%2Fprojects%2Fopen_flash_chart2%2Fusing_database" quality="high" bgcolor="#FFFFFF" width="600" height="300" name="chart_1217004188.58145" align="middle"  allowScriptAccess="sameDomain" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" id="chart_1217004188.58145" /></object><br />
    </noscript></p>
<p>Examples for version 2 are <a href="/projects/open_flash_chart2/">here</a>.</b></p>
<p>Using the new version of Open Flash Chart, here is an example for you to follow:</p>
<ul>
<li>Start a rails app and install the plugin per <a href="http://pullmonkey.com/2008/7/23/open-flash-chart-ii-plugin-for-ruby-on-rails-ofc2">these instructions</a>.</li>
<li>The results table that I am working with has these rows:<br />
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="co">Result</span>.create(<span class="sy">:student_name</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">Jack</span><span class="dl">&quot;</span></span>, <span class="sy">:subject</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">History</span><span class="dl">&quot;</span></span>, <span class="sy">:test_score</span> =&gt; <span class="i">97</span><tt>
</tt><span class="co">Result</span>.create(<span class="sy">:student_name</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">Jack</span><span class="dl">&quot;</span></span>, <span class="sy">:subject</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">Science</span><span class="dl">&quot;</span></span>, <span class="sy">:test_score</span> =&gt; <span class="i">85</span>)<tt>
</tt><span class="co">Result</span>.create(<span class="sy">:student_name</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">Jill</span><span class="dl">&quot;</span></span>, <span class="sy">:subject</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">History</span><span class="dl">&quot;</span></span>, <span class="sy">:test_score</span> =&gt; <span class="i">92</span>)<tt>
</tt><span class="co">Result</span>.create(<span class="sy">:student_name</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">Jill</span><span class="dl">&quot;</span></span>, <span class="sy">:subject</span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">Science</span><span class="dl">&quot;</span></span>, <span class="sy">:test_score</span> =&gt; <span class="i">57</span>)<tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
</li>
<li>Create a controller, mine is test_it:<br />
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt><strong>5</strong><tt>
</tt>6<tt>
</tt>7<tt>
</tt>8<tt>
</tt>9<tt>
</tt><strong>10</strong><tt>
</tt>11<tt>
</tt>12<tt>
</tt>13<tt>
</tt>14<tt>
</tt><strong>15</strong><tt>
</tt>16<tt>
</tt>17<tt>
</tt>18<tt>
</tt>19<tt>
</tt><strong>20</strong><tt>
</tt>21<tt>
</tt>22<tt>
</tt>23<tt>
</tt>24<tt>
</tt><strong>25</strong><tt>
</tt>26<tt>
</tt>27<tt>
</tt>28<tt>
</tt>29<tt>
</tt><strong>30</strong><tt>
</tt>31<tt>
</tt>32<tt>
</tt>33<tt>
</tt>34<tt>
</tt><strong>35</strong><tt>
</tt>36<tt>
</tt>37<tt>
</tt>38<tt>
</tt>39<tt>
</tt><strong>40</strong><tt>
</tt>41<tt>
</tt>42<tt>
</tt>43<tt>
</tt>44<tt>
</tt><strong>45</strong><tt>
</tt>46<tt>
</tt>47<tt>
</tt>48<tt>
</tt>49<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt><span class="r">class</span> <span class="cl">TestItController</span> &lt; <span class="co">ApplicationController</span><tt>
</tt>  <span class="r">def</span> <span class="fu">index</span><tt>
</tt>    <span class="iv">@graph</span> = open_flash_chart_object(<span class="i">600</span>,<span class="i">300</span>,<span class="s"><span class="dl">&quot;</span><span class="k">/test_it/graph_code</span><span class="dl">&quot;</span></span>)<tt>
</tt>  <span class="r">end</span><tt>
</tt><tt>
</tt>  <span class="r">def</span> <span class="fu">graph_code</span><tt>
</tt>    <span class="c"># we will have bars for each student subject combo</span><tt>
</tt>    bars   = []<tt>
</tt><tt>
</tt>    <span class="c"># random colors to chose from</span><tt>
</tt>    colours = [<span class="s"><span class="dl">&quot;</span><span class="k">#459a89</span><span class="dl">&quot;</span></span>, <span class="s"><span class="dl">&quot;</span><span class="k">#9a89f9</span><span class="dl">&quot;</span></span>]<tt>
</tt><tt>
</tt>    <span class="c"># the results</span><tt>
</tt>    results = <span class="co">Result</span>.find(<span class="sy">:all</span>)<tt>
</tt><tt>
</tt>    <span class="c"># group by subject and use subject as the key</span><tt>
</tt>    results.group_by(&amp;<span class="sy">:subject</span>).each <span class="r">do</span> |subject, result|<tt>
</tt>      <span class="c"># 3d bar graph, could be any bar graph though</span><tt>
</tt>      bar = <span class="co">Bar3d</span>.new<tt>
</tt>      bar.set_key(subject, <span class="i">3</span>)<tt>
</tt>      bar.colour = colours[bars.size]<tt>
</tt>      bar.values = result.map(&amp;<span class="sy">:test_score</span>)<tt>
</tt>      bars &lt;&lt; bar<tt>
</tt>    <span class="r">end</span><tt>
</tt><tt>
</tt>    <span class="c"># some title</span><tt>
</tt>    title = <span class="co">Title</span>.new(<span class="s"><span class="dl">&quot;</span><span class="k">Test Results</span><span class="dl">&quot;</span></span>)<tt>
</tt><tt>
</tt>    <span class="c"># labels along the x axis, just hard code for now, but you would want to dynamically do this</span><tt>
</tt>    x_axis = <span class="co">XAxis</span>.new<tt>
</tt>    x_axis.labels = [<span class="s"><span class="dl">&quot;</span><span class="k">Jack</span><span class="dl">&quot;</span></span>, <span class="s"><span class="dl">&quot;</span><span class="k">Jill</span><span class="dl">&quot;</span></span>]<tt>
</tt><tt>
</tt>    <span class="c"># go to 100% since we are dealing with test results</span><tt>
</tt>    y_axis = <span class="co">YAxis</span>.new<tt>
</tt>    y_axis.set_range(<span class="i">0</span>, <span class="i">100</span>, <span class="i">10</span>)<tt>
</tt><tt>
</tt>    <span class="c"># setup the graph</span><tt>
</tt>    graph = <span class="co">OpenFlashChart</span>.new<tt>
</tt>    graph.bg_colour = <span class="s"><span class="dl">'</span><span class="k">#ffffcc</span><span class="dl">'</span></span><tt>
</tt>    graph.title = title<tt>
</tt>    graph.x_axis = x_axis<tt>
</tt>    graph.y_axis = y_axis<tt>
</tt>    graph.elements = bars<tt>
</tt><tt>
</tt>    render <span class="sy">:text</span> =&gt; graph.to_s<tt>
</tt>  <span class="r">end</span><tt>
</tt><span class="r">end</span><tt>
</tt><tt>
</tt></pre>
</td>
</tr>
</table>
</li>
<li>Create a view, mine is index.html.erb for the test_it controller:<br />
<table class="CodeRay">
<tr>
<td class="line_numbers" title="click to toggle" onclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }">
<pre>1<tt>
</tt>2<tt>
</tt>3<tt>
</tt>4<tt>
</tt></pre>
</td>
<td class="code">
<pre ondblclick="with (this.style) { overflow = (overflow == 'auto' || overflow == '') ? 'visible' : 'auto' }"><tt>
</tt>&lt;script type=<span class="s"><span class="dl">&quot;</span><span class="k">text/javascript</span><span class="dl">&quot;</span></span> src=<span class="s"><span class="dl">&quot;</span><span class="k">/javascripts/swfobject.js</span><span class="dl">&quot;</span></span>&gt;&lt;<span class="rx"><span class="dl">/</span><span class="k">script&gt;<tt>
</tt>&lt;%= @graph %&gt;<tt>
</tt><tt>
</tt></span></span></pre>
</td>
</tr>
</table>
</li>
<p>
Hope that helps.<br /></p>
]]></content:encoded>
					
					<wfw:commentRss>http://pullmonkey.com/2008/07/25/using-a-database-to-populate-an-open-flash-chart-graph/feed/</wfw:commentRss>
			<slash:comments>25</slash:comments>
		
		
			</item>
	</channel>
</rss>
